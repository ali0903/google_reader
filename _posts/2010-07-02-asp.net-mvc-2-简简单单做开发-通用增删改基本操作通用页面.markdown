---
layout: post
title:  "asp.net mvc 2 简简单单做开发 通用增删改基本操作通用页面"
date:   2010-07-02 09:58:00
author: 王继坤
categories: program
---

## asp.net mvc 2 简简单单做开发 通用增删改基本操作通用页面
### by 王继坤
### at 2010-07-02 09:58:00
### original <http://www.cnblogs.com/wangjikun3/archive/2010/07/02/1769699.html>

<p>作者: <a href="http://www.cnblogs.com/wangjikun3/">王继坤</a> 发表于 2010-07-02 09:58 <a href="http://www.cnblogs.com/wangjikun3/archive/2010/07/02/1769699.html">原文链接</a> 阅读: 143 评论: 0</p><p>　　asp.net mvc 2能使我们重复的工作中解脱出来，增删改等基本数据操作，都可以简单的实现。asp.net mvc 2 也借鉴不少ASP.NET Dynamic Data里的功能，通过实体类，只需要简单的操作即可以生成网站。我个人感觉，看似简单不过真正的用到开发中会遇到很多问题。自定义性太差。而asp.net mvc 2里提供了很好的方式，页面的实现可以通过，自定义字段、自定义页面来实现。mvc 2 view的查找方式  <span>"~/Views/{1}/{0}.aspx"</span><span>,   </span><span>"~/Views/{1}{0}.ascx"</span><span>,</span><span>"~/Views/Shared/{0}.aspx"</span><span>, </span><span>"~/Views/Shared/{0}.ascx" ，把通用的页面放到"~/Views/Shared 文件下 。为了通用</span><span>实体类采 <span>dynamic来自动实现。下面是 Index的代码，默认支持自定义查询，数据分页等基本功能。</span></span></p>
<p><span></span> </p>
<div>
<div><span style="color:#008080"> 1</span> <span style="color:#000000">&lt;%</span><span style="color:#000000">@ Page Title</span><span style="color:#000000">=</span><span style="color:#800000">""</span><span style="color:#000000"> Language</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">C#</span><span style="color:#800000">"</span><span style="color:#000000"> MasterPageFile</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">~/Views/Shared/Admin.Master</span><span style="color:#800000">"</span><span style="color:#000000"> Inherits</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">System.Web.Mvc.ViewPage&lt;dynamic&gt;</span><span style="color:#800000">"</span><span style="color:#000000"> </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 2</span> <span style="color:#000000"></span><span style="color:#000000">&lt;%</span><span style="color:#000000">@ Import Namespace</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">mvc.Models</span><span style="color:#800000">"</span><span style="color:#000000"> </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 3</span> <span style="color:#000000"></span><span style="color:#000000">&lt;</span><span style="color:#000000">asp:Content ID</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">Content1</span><span style="color:#800000">"</span><span style="color:#000000"> ContentPlaceHolderID</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">TitleContent</span><span style="color:#800000">"</span><span style="color:#000000"> runat</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">server</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 4</span> <span style="color:#000000">    Index<br></span><span style="color:#008080"> 5</span> <span style="color:#000000"></span><span style="color:#000000">&lt;/</span><span style="color:#000000">asp:Content</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 6</span> <span style="color:#000000"><br></span><span style="color:#008080"> 7</span> <span style="color:#000000"></span><span style="color:#000000">&lt;</span><span style="color:#000000">asp:Content ID</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">Content2</span><span style="color:#800000">"</span><span style="color:#000000"> ContentPlaceHolderID</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">MainContent</span><span style="color:#800000">"</span><span style="color:#000000"> runat</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">server</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 8</span> <span style="color:#000000"> </span><span style="color:#000000">&lt;</span><span style="color:#000000">div id</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">headImg</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 9</span> <span style="color:#000000">        </span><span style="color:#000000">&lt;</span><span style="color:#000000">img src</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">/content/adminimages/01.gif</span><span style="color:#800000">"</span><span style="color:#000000"> alt</span><span style="color:#000000">=</span><span style="color:#800000">""</span><span style="color:#000000"> </span><span style="color:#000000">/&gt;&lt;%</span><span style="color:#000000">:ViewData[</span><span style="color:#800000">"</span><span style="color:#800000">NavTitle</span><span style="color:#800000">"</span><span style="color:#000000">]</span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">10</span> <span style="color:#000000">        </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">11</span> <span style="color:#000000">        </span><span style="color:#000000">&lt;</span><span style="color:#000000">div id</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">cont2</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">12</span> <span style="color:#000000">        </span><span style="color:#000000">&lt;</span><span style="color:#000000">div </span><span style="color:#0000ff">class</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">form clearfix</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">13</span> <span style="color:#000000">   <br></span><span style="color:#008080">14</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">form id</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">form1</span><span style="color:#800000">"</span><span style="color:#000000"> method</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">get</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">15</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">div id</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">Search</span><span style="color:#800000">"</span><span style="color:#000000"> </span><span style="color:#0000ff">class</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">clearfix</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">16</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;%=</span><span style="color:#000000">Html.DisplayFor(m </span><span style="color:#000000">=&gt;</span><span style="color:#000000"> ViewData[</span><span style="color:#800000">"</span><span style="color:#800000">searchModel</span><span style="color:#800000">"</span><span style="color:#000000">], </span><span style="color:#800000">"</span><span style="color:#800000">tool</span><span style="color:#800000">"</span><span style="color:#000000">,</span><span style="color:#800000">""</span><span style="color:#000000">)</span><span style="color:#000000">%&gt;</span><span style="color:#000000">   <br></span><span style="color:#008080">17</span> <span style="color:#000000"><br></span><span style="color:#008080">18</span> <span style="color:#000000">   </span><span style="color:#000000">&lt;</span><span style="color:#000000">li </span><span style="color:#0000ff">class</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">add</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">19</span> <span style="color:#000000">        </span><span style="color:#000000">&lt;%</span><span style="color:#000000">: Html.ActionLink(</span><span style="color:#800000">"</span><span style="color:#800000">添加</span><span style="color:#800000">"</span><span style="color:#000000">, </span><span style="color:#800000">"</span><span style="color:#800000">Add</span><span style="color:#800000">"</span><span style="color:#000000">) </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">20</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;/</span><span style="color:#000000">li</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">21</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">22</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;/</span><span style="color:#000000">form</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">23</span> <span style="color:#000000">   </span><span style="color:#000000">&lt;</span><span style="color:#000000">table </span><span style="color:#0000ff">class</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">tb</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">24</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;%</span><span style="color:#000000"> </span><span style="color:#0000ff">int</span><span style="color:#000000"> i </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#800080">0</span><span style="color:#000000">; </span><span style="color:#0000ff">foreach</span><span style="color:#000000"> (var art </span><span style="color:#0000ff">in</span><span style="color:#000000"> Model)<br></span><span style="color:#008080">25</span> <span style="color:#000000">       {<br></span><span style="color:#008080">26</span> <span style="color:#000000">           i</span><span style="color:#000000">++</span><span style="color:#000000">;<br></span><span style="color:#008080">27</span> <span style="color:#000000">           </span><span style="color:#0000ff">if</span><span style="color:#000000"> (i </span><span style="color:#000000">==</span><span style="color:#000000"> </span><span style="color:#800080">1</span><span style="color:#000000">)<br></span><span style="color:#008080">28</span> <span style="color:#000000">           {  <br></span><span style="color:#008080">29</span> <span style="color:#000000">           </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">30</span> <span style="color:#000000">  </span><span style="color:#000000">&lt;</span><span style="color:#000000">tr  </span><span style="color:#0000ff">class</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">tbhead</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">31</span> <span style="color:#000000">  </span><span style="color:#000000">&lt;%=</span><span style="color:#000000">Html.DisplayFor(m </span><span style="color:#000000">=&gt;</span><span style="color:#000000"> art, </span><span style="color:#800000">"</span><span style="color:#800000">header</span><span style="color:#800000">"</span><span style="color:#000000">, </span><span style="color:#800000">"</span><span style="color:#800000">di</span><span style="color:#800000">"</span><span style="color:#000000">)</span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">32</span> <span style="color:#000000">  <br></span><span style="color:#008080">33</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">th</span><span style="color:#000000">&gt;</span><span style="color:#000000">操作</span><span style="color:#000000">&lt;/</span><span style="color:#000000">th</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">34</span> <span style="color:#000000">  </span><span style="color:#000000">&lt;/</span><span style="color:#000000">tr</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">35</span> <span style="color:#000000">  </span><span style="color:#000000">&lt;%</span><span style="color:#000000">} </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">36</span> <span style="color:#000000">  </span><span style="color:#000000">&lt;</span><span style="color:#000000">tr</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">37</span> <span style="color:#000000">  </span><span style="color:#000000">&lt;%=</span><span style="color:#000000">Html.DisplayFor(m </span><span style="color:#000000">=&gt;</span><span style="color:#000000"> art, </span><span style="color:#800000">"</span><span style="color:#800000">rows</span><span style="color:#800000">"</span><span style="color:#000000">, </span><span style="color:#800000">"</span><span style="color:#800000">di</span><span style="color:#800000">"</span><span style="color:#000000">)</span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">38</span> <span style="color:#000000">  </span><span style="color:#000000">&lt;</span><span style="color:#000000">td style</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">width:60px</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">39</span> <span style="color:#000000">   </span><span style="color:#000000">&lt;%</span><span style="color:#000000">: Html.ActionLink(</span><span style="color:#800000">"</span><span style="color:#800000">编辑</span><span style="color:#800000">"</span><span style="color:#000000">, </span><span style="color:#800000">"</span><span style="color:#800000">Edit</span><span style="color:#800000">"</span><span style="color:#000000">, </span><span style="color:#0000ff">new</span><span style="color:#000000"> { id </span><span style="color:#000000">=</span><span style="color:#000000"> art.Id })</span><span style="color:#000000">%&gt;</span><span style="color:#000000">  </span><span style="color:#000000">&lt;%</span><span style="color:#000000">: Html.ActionLink(</span><span style="color:#800000">"</span><span style="color:#800000">删除</span><span style="color:#800000">"</span><span style="color:#000000">, </span><span style="color:#800000">"</span><span style="color:#800000">Delete</span><span style="color:#800000">"</span><span style="color:#000000">, </span><span style="color:#0000ff">new</span><span style="color:#000000"> { id </span><span style="color:#000000">=</span><span style="color:#000000"> art.Id }, </span><span style="color:#0000ff">new</span><span style="color:#000000"> { onclick </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#800000">"</span><span style="color:#800000">return confirm(&#39;你确定要删除吗?&#39;)</span><span style="color:#800000">"</span><span style="color:#000000"> })</span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">40</span> <span style="color:#000000">  </span><span style="color:#000000">&lt;/</span><span style="color:#000000">td</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">41</span> <span style="color:#000000">  </span><span style="color:#000000">&lt;/</span><span style="color:#000000">tr</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">42</span> <span style="color:#000000">  </span><span style="color:#000000">&lt;%</span><span style="color:#000000">} </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">43</span> <span style="color:#000000">  </span><span style="color:#000000">&lt;/</span><span style="color:#000000">table</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">44</span> <span style="color:#000000">    <br></span><span style="color:#008080">45</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">div </span><span style="color:#0000ff">class</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">page</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">46</span> <span style="color:#000000">     </span><span style="color:#000000">&lt;%=</span><span style="color:#000000">ViewData[</span><span style="color:#800000">"</span><span style="color:#800000">page</span><span style="color:#800000">"</span><span style="color:#000000">] </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">47</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">48</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">49</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">50</span> <span style="color:#000000"></span><span style="color:#000000">&lt;/</span><span style="color:#000000">asp:Content</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">51</span> <span style="color:#000000"> </span></div></div>
<p> </p>
<p>编辑页面Edit.aspx</p>
<p> </p>
<div><img alt="" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif"><img src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif"><span>代码</span> 
<div>
<div><span style="color:#000000">&lt;%</span><span style="color:#000000">@ Page Title</span><span style="color:#000000">=</span><span style="color:#800000">""</span><span style="color:#000000"> Language</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">C#</span><span style="color:#800000">"</span><span style="color:#000000"> MasterPageFile</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">~/Views/Shared/Admin.Master</span><span style="color:#800000">"</span><span style="color:#000000"> Inherits</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">System.Web.Mvc.ViewPage&lt;dynamic&gt;</span><span style="color:#800000">"</span><span style="color:#000000"> </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br><br></span><span style="color:#000000">&lt;</span><span style="color:#000000">asp:Content ID</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">Content1</span><span style="color:#800000">"</span><span style="color:#000000"> ContentPlaceHolderID</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">TitleContent</span><span style="color:#800000">"</span><span style="color:#000000"> runat</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">server</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>    Edit<br></span><span style="color:#000000">&lt;/</span><span style="color:#000000">asp:Content</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br><br></span><span style="color:#000000">&lt;</span><span style="color:#000000">asp:Content ID</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">Content2</span><span style="color:#800000">"</span><span style="color:#000000"> ContentPlaceHolderID</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">MainContent</span><span style="color:#800000">"</span><span style="color:#000000"> runat</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">server</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br> </span><span style="color:#000000">&lt;%</span><span style="color:#000000">Html.EnableClientValidation(); </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br> </span><span style="color:#000000">&lt;</span><span style="color:#000000">div id</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">headImg</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>        </span><span style="color:#000000">&lt;</span><span style="color:#000000">img src</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">/content/adminimages/01.gif</span><span style="color:#800000">"</span><span style="color:#000000"> alt</span><span style="color:#000000">=</span><span style="color:#800000">""</span><span style="color:#000000"> </span><span style="color:#000000">/&gt;&lt;%</span><span style="color:#000000">:ViewData[</span><span style="color:#800000">"</span><span style="color:#800000">NavTitle</span><span style="color:#800000">"</span><span style="color:#000000">]</span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br>        </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>        </span><span style="color:#000000">&lt;</span><span style="color:#000000">div id</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">cont2</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>        </span><span style="color:#000000">&lt;</span><span style="color:#000000">div </span><span style="color:#0000ff">class</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">form clearfix</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>         </span><span style="color:#000000">&lt;</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>        </span><span style="color:#000000">&lt;%</span><span style="color:#000000">: Html.ActionLink(</span><span style="color:#800000">"</span><span style="color:#800000">返回列表</span><span style="color:#800000">"</span><span style="color:#000000">, </span><span style="color:#800000">"</span><span style="color:#800000">Index</span><span style="color:#800000">"</span><span style="color:#000000">) </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br>    </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>    </span><span style="color:#000000">&lt;%</span><span style="color:#000000"> </span><span style="color:#0000ff">using</span><span style="color:#000000"> (Html.BeginForm()) {</span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br>        </span><span style="color:#000000">&lt;%</span><span style="color:#000000">: Html.ValidationSummary(</span><span style="color:#0000ff">true</span><span style="color:#000000">) </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br><br>   <br>            </span><span style="color:#000000">&lt;%=</span><span style="color:#000000">Html.EditorForModel() </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br>            </span><span style="color:#000000">&lt;</span><span style="color:#000000">p </span><span style="color:#0000ff">class</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">submit</span><span style="color:#800000">"</span><span style="color:#000000"> style</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">margin-left:100px;</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>                </span><span style="color:#000000">&lt;</span><span style="color:#000000">input type</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">submit</span><span style="color:#800000">"</span><span style="color:#000000"> value</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">保存</span><span style="color:#800000">"</span><span style="color:#000000"> </span><span style="color:#000000">/&gt;</span><span style="color:#000000"><br>            </span><span style="color:#000000">&lt;/</span><span style="color:#000000">p</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br> <br>    </span><span style="color:#000000">&lt;%</span><span style="color:#000000"> } </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br>     <br>     </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>    </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#000000">&lt;/</span><span style="color:#000000">asp:Content</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span></div></div></div>
<p> </p>
<p> 添加记录页面Add.aspx</p>
<p> </p>
<div><img alt="" src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif"><img src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif"><span>代码</span> 
<div>
<div><span style="color:#000000">&lt;%</span><span style="color:#000000">@ Page Title</span><span style="color:#000000">=</span><span style="color:#800000">""</span><span style="color:#000000"> Language</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">C#</span><span style="color:#800000">"</span><span style="color:#000000"> MasterPageFile</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">~/Views/Shared/Admin.Master</span><span style="color:#800000">"</span><span style="color:#000000"> Inherits</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">System.Web.Mvc.ViewPage&lt;dynamic&gt;</span><span style="color:#800000">"</span><span style="color:#000000"> </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br><br></span><span style="color:#000000">&lt;</span><span style="color:#000000">asp:Content ID</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">Content1</span><span style="color:#800000">"</span><span style="color:#000000"> ContentPlaceHolderID</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">TitleContent</span><span style="color:#800000">"</span><span style="color:#000000"> runat</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">server</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>    Add<br></span><span style="color:#000000">&lt;/</span><span style="color:#000000">asp:Content</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br><br></span><span style="color:#000000">&lt;</span><span style="color:#000000">asp:Content ID</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">Content2</span><span style="color:#800000">"</span><span style="color:#000000"> ContentPlaceHolderID</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">MainContent</span><span style="color:#800000">"</span><span style="color:#000000"> runat</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">server</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>  </span><span style="color:#000000">&lt;%</span><span style="color:#000000">Html.EnableClientValidation(); </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br>  <br>  </span><span style="color:#000000">&lt;</span><span style="color:#000000">div id</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">headImg</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>        </span><span style="color:#000000">&lt;</span><span style="color:#000000">img src</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">/content/adminimages/01.gif</span><span style="color:#800000">"</span><span style="color:#000000"> alt</span><span style="color:#000000">=</span><span style="color:#800000">""</span><span style="color:#000000"> </span><span style="color:#000000">/&gt;&lt;%</span><span style="color:#000000">:ViewData[</span><span style="color:#800000">"</span><span style="color:#800000">NavTitle</span><span style="color:#800000">"</span><span style="color:#000000">]</span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br>        </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>        </span><span style="color:#000000">&lt;</span><span style="color:#000000">div id</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">cont2</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>        </span><span style="color:#000000">&lt;</span><span style="color:#000000">div </span><span style="color:#0000ff">class</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">form clearfix</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>      </span><span style="color:#000000">&lt;</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>        </span><span style="color:#000000">&lt;%</span><span style="color:#000000">: Html.ActionLink(</span><span style="color:#800000">"</span><span style="color:#800000">返回列表</span><span style="color:#800000">"</span><span style="color:#000000">, </span><span style="color:#800000">"</span><span style="color:#800000">Index</span><span style="color:#800000">"</span><span style="color:#000000">) </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br>    </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>    </span><span style="color:#000000">&lt;%</span><span style="color:#000000"> </span><span style="color:#0000ff">using</span><span style="color:#000000"> (Html.BeginForm()) {</span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br>        </span><span style="color:#000000">&lt;%</span><span style="color:#000000">: Html.ValidationSummary(</span><span style="color:#0000ff">true</span><span style="color:#000000">) </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br><br>   <br>            </span><span style="color:#000000">&lt;%=</span><span style="color:#000000">Html.EditorForModel() </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br>            </span><span style="color:#000000">&lt;</span><span style="color:#000000">p </span><span style="color:#0000ff">class</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">submit</span><span style="color:#800000">"</span><span style="color:#000000"> style</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">margin-left:100px;</span><span style="color:#800000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>                </span><span style="color:#000000">&lt;</span><span style="color:#000000">input type</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">submit</span><span style="color:#800000">"</span><span style="color:#000000"> value</span><span style="color:#000000">=</span><span style="color:#800000">"</span><span style="color:#800000">保存</span><span style="color:#800000">"</span><span style="color:#000000"> </span><span style="color:#000000">/&gt;</span><span style="color:#000000"><br>            </span><span style="color:#000000">&lt;/</span><span style="color:#000000">p</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br> <br>    </span><span style="color:#000000">&lt;%</span><span style="color:#000000"> } </span><span style="color:#000000">%&gt;</span><span style="color:#000000"><br>   <br>     </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br>    </span><span style="color:#000000">&lt;/</span><span style="color:#000000">div</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br><br></span><span style="color:#000000">&lt;/</span><span style="color:#000000">asp:Content</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span></div></div></div>
<p> </p>
<p><span style="color:#a31515"></span> </p><img src="http://www.cnblogs.com/wangjikun3/aggbug/1769699.html?type=1" width="1" height="1" alt=""><p>评论: 0　<a href="http://www.cnblogs.com/wangjikun3/archive/2010/07/02/1769699.html#pagedcomment">查看评论</a>　<a href="http://www.cnblogs.com/wangjikun3/archive/2010/07/02/1769699.html#commentform">发表评论</a></p><p><a href="http://mpd.cnblogs.com/">软件研发团队管理年会(上海，7.10-7.11)</a></p><hr><p>最新新闻：<br>· <a href="http://news.cnblogs.com/n/67440/">李开复：我的团队是魔方</a><span style="color:gray">(2010-07-02 10:07)</span><br>· <a href="http://news.cnblogs.com/n/67434/">腾讯5大官方iPhone程序</a><span style="color:gray">(2010-07-02 09:55)</span><br>· <a href="http://news.cnblogs.com/n/67438/">Ubuntu night源列表功能正式上线</a><span style="color:gray">(2010-07-02 09:55)</span><br>· <a href="http://news.cnblogs.com/n/67437/">Windows 8日程表：M1已完成 2012年中问世</a><span style="color:gray">(2010-07-02 09:54)</span><br>· <a href="http://news.cnblogs.com/n/67436/">Windows 7将成为2号操作系统</a><span style="color:gray">(2010-07-02 09:51)</span><br></p><p>编辑推荐：<a href="http://www.cnblogs.com/firelong/archive/2010/07/01/1769550.html">C#会重蹈覆辙吗？事件背后的臃肿设计哲学</a><br></p><p>网站导航：<a href="http://www.cnblogs.com">博客园首页</a>  <a href="http://home.cnblogs.com/">个人主页</a>  <a href="http://news.cnblogs.com">新闻</a>  <a href="http://home.cnblogs.com/ing/">闪存</a>  <a href="http://home.cnblogs.com/group/">小组</a>  <a href="http://space.cnblogs.com/q/">博问</a>  <a href="http://space.cnblogs.com">社区</a>  <a href="http://kb.cnblogs.com">知识库</a></p>