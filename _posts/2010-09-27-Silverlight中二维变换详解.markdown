---
layout: post
title:  "Silverlight中二维变换详解"
date:   2010-09-27 13:31:00
author: ☆磊☆
categories: program
---

## Silverlight中二维变换详解
### by ☆磊☆
### at 2010-09-27 13:31:00
### original <http://www.cnblogs.com/sorex/archive/2010/09/27/1836769.html>

<p><a href="http://www.cnblogs.com/sorex/"><img src="http://pic.cnblogs.com/face/u23970.jpg" alt="" border="0"></a><br>作者: <a href="http://www.cnblogs.com/sorex/">☆磊☆</a> 发表于 2010-09-27 13:31 <a href="http://www.cnblogs.com/sorex/archive/2010/09/27/1836769.html">原文链接</a> 阅读: 959 评论: 2</p><p>      Silverlight 为常见变换变换包括旋转 (RotateTransform)、缩放 (ScaleTransform)、扭曲 (SkewTransform) 和平移 (TranslateTransform)。</p> <p>      还有一个MatrixTransform 类可以创建 RotateTransform、ScaleTransform、SkewTransform 和 TranslateTransform 类未提供的自定义变换。</p> <h2><font color="#000000">下面所有示例</font><font color="#0000ff">蓝色为原始位置</font>，<font color="#ff0000">红色为变换后位置</font>，<font color="#800080">紫色为重叠位置</font>！</h2> <h3>一、二维变换矩阵简介</h3> <p><a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_2.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb.png" width="154" height="75"></a> </p> <p>这个就是二维图形几何变换矩阵。</p> <p>其中<a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_4.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_1.png" width="97" height="48"></a> 是对图形进行缩放、旋转、对称、错切等变换。(<font color="#ff0000">注：对称、错切是计算机图形学的说法，微软翻译成了扭曲，平面变换中是不会变换出扭曲的图像的。</font>)；<a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_6.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_2.png" width="126" height="26"></a> 是对图像进行平移变换；<a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_8.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_3.png" width="35" height="42"></a> 是对图形做投影变换，Silverlight中不支持；<a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_10.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_4.png" width="27" height="26"></a> 是对整体图形做伸缩变换，Silverlight中也不支持；</p> <p>原图不做任何变换的矩阵为：<a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_12.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_5.png" width="76" height="60"></a> 在后面会经常用到这个矩阵。</p> <h3>二、平移变换</h3> <p>仅仅修改OffsetX和OffsetY即可达到目的下面分别显示了几组矩阵对应的变换。</p> <p><a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_14.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_6.png" width="350" height="150"></a> <a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_16.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_7.png" width="346" height="133"></a> </p> <p><a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_22.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_10.png" width="309" height="265"></a>  <a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_24.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_11.png" width="308" height="190"></a> </p> <p>可以看出OffsetX和OffsetY的方向和直角坐标系的方向相同。</p> <h3>三、比例变换(缩放)</h3> <p>修改M11和M22是分别对X轴和Y轴进行缩放。M11=M22时为等比例变换，M11!=M22时为非均匀比例变换。</p> <p><a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_26.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_12.png" width="357" height="211"></a> <a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_28.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_13.png" width="301" height="172"></a> <a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_30.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_14.png" width="297" height="251"></a> </p> <p>可以看出M11是对Y轴起作用，M22是对X轴起作用。</p> <h3>四、对称变换</h3> <p>对称变换一共5种，分别为Y轴对称，X轴对称，中心对称，Y=X对称，Y=-X对称，具体见下图</p> <p><a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_32.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_15.png" width="568" height="156"></a> <a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_34.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_16.png" width="305" height="239"></a> <a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_36.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_17.png" width="569" height="229"></a> <a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_40.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_19.png" width="356" height="433"></a><a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_38.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_18.png" width="307" height="376"></a> </p> <h3>五、旋转变换</h3> <p>下面是旋转30°的变化矩阵。其他角度也都是这个计算式。</p> <p><a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_42.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_20.png" width="307" height="216"></a> </p> <h3>六、切错变换</h3> <p>M12，M21是用来控制切错变换的。</p> <p>M12=0，M21!=0时，Y轴坐标不变，X坐标随初值及变换系数M21做线性变化，M21&gt;0沿+X方向切错，M21&lt;0沿-X方向切错。</p> <p><a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_44.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_8.png" width="371" height="193"></a> <a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_46.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_9.png" width="353" height="188"></a> </p> <p>M21=0，M12!=0时，X轴坐标不变，Y坐标随初值及变换系数M12做线性变化，M12&gt;0沿+Y方向切错，M12&lt;0沿-Y方向切错。</p> <p><a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_48.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_21.png" width="314" height="251"></a> <a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_50.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_22.png" width="319" height="240"></a> </p> <p>M12!=0且M21!=0时，图形沿XY两个方向切错。</p> <p><a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_52.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_23.png" width="369" height="254"></a> </p> <h3>七、复合变换</h3> <p>复合变换其实也就是矩阵相乘。下面给出两个完整的计算公式：</p> <p>变换前后xy坐标计算式：</p> <p><a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_54.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_24.png" width="640" height="77"></a> </p> <p>33矩阵相乘公式</p> <p></p> <p></p> <p></p> <p></p> <p></p> <p></p> <p><a href="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_58.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/sorex/WindowsLiveWriter/SilverlightTransform_DE8F/image_thumb_26.png" width="877" height="69"></a> </p> <p> </p> <h4>谢谢观赏，二维变换的矩阵内容就这么多了，三维矩阵变换时44矩阵，有机会再写吧。</h4><img src="http://www.cnblogs.com/sorex/aggbug/1836769.html?type=1" width="1" height="1" alt=""><p>评论: 2　<a href="http://www.cnblogs.com/sorex/archive/2010/09/27/1836769.html#pagedcomment">查看评论</a>　<a href="http://www.cnblogs.com/sorex/archive/2010/09/27/1836769.html#commentform">发表评论</a></p><p><a href="http://job.cnblogs.com/">程序员找工作，就在博客园</a></p><hr><p>最新新闻：<br>· <a href="http://news.cnblogs.com/n/75822/">赶集网CEO杨浩涌：无线互联网仍要跑马圈地</a><span style="color:gray">(2010-09-28 13:46)</span><br>· <a href="http://news.cnblogs.com/n/75821/">编程之禅</a><span style="color:gray">(2010-09-28 13:39)</span><br>· <a href="http://news.cnblogs.com/n/75820/">微软指出谷歌Android的六大隐形成本</a><span style="color:gray">(2010-09-28 13:38)</span><br>· <a href="http://news.cnblogs.com/n/75819/">红杉资本数据显示腾讯4300万美元收购康盛创想</a><span style="color:gray">(2010-09-28 13:35)</span><br>· <a href="http://news.cnblogs.com/n/75817/">中国式移动社交</a><span style="color:gray">(2010-09-28 13:30)</span><br></p><p>编辑推荐：<a href="http://www.cnblogs.com/zc22/archive/2010/09/27/1837043.html">今天你抛弃了ASP.NET了吗？问题篇</a><br></p><p>网站导航：<a href="http://www.cnblogs.com">博客园首页</a>  <a href="http://home.cnblogs.com/">个人主页</a>  <a href="http://news.cnblogs.com">新闻</a>  <a href="http://home.cnblogs.com/ing/">闪存</a>  <a href="http://home.cnblogs.com/group/">小组</a>  <a href="http://space.cnblogs.com/q/">博问</a>  <a href="http://space.cnblogs.com">社区</a>  <a href="http://kb.cnblogs.com">知识库</a></p>