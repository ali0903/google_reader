---
layout: post
title:  "利用GitHub Pages安装部署Octopress博客"
date:   2012-06-10 00:14:00
author: 司徒正美
categories: program
---

## 利用GitHub Pages安装部署Octopress博客
### by 司徒正美
### at 2012-06-10 00:14:00
### original <http://www.cnblogs.com/rubylouvre/archive/2012/06/10/2543706.html>

<p>周末闲来无事，学习了一下怎样利用github pages来建立自己的博客，现在比较成熟的博客系统是<a href="http://octopress.org/">Octopress</a>，关于其详细的介绍可以参见官方文档，本文建立的博客页面已经绑定到了<a href="http://zhourunsheng.com/">zhourunsheng.com</a>域名，可以查看博客的效果！<span></span></p><p><strong>1. github page 的建立</strong></p><p>要想在github上面建立自己的博客，首先需要建立page，可以参考官方的文档 <a href="http://help.github.com/pages/">http://help.github.com/pages/</a>，简单来说，比如我的github账户名称是careychow，那么需要建立一个 careychow.github.com 的 repository，将博客的静态页面上传到该repository的master分支中，当通过浏览器访问 http://careychow.github.com的时候，github服务器就会将其中博客页面展示出来。</p><p><strong>2. 搭建 Octopress 本地环境</strong></p><p>linux 环境的搭建可以参见官方文档 <a href="http://octopress.org/docs/setup/">http://octopress.org/docs/setup/</a></p><p>因为我自己通常都在win7下面办公，所以下面介绍一下win7环境下 Octopress 的搭建和部署</p><p>a. 安装 git，下载地址：<a href="http://code.google.com/p/msysgit/downloads/list">msysgit</a>，最新版本 <a href="http://msysgit.googlecode.com/files/Git-1.7.10-preview20120409.exe">Git-1.7.10-preview20120409.exe </a>，详细参见 <a href="http://help.github.com/win-set-up-git/">http://help.github.com/win-set-up-git/</a></p><p>b.安装 ruby，下载地址: <a href="http://rubyforge.org/frs/?group_id=167">RubyInstaller</a>，安装版本 <a href="http://rubyforge.org/frs/download.php/75127/rubyinstaller-1.9.2-p290.exe">rubyinstaller-1.9.2-p290.exe</a>，注意版本是1.9.2</p><p>c. 安装gem编译环境， 下载地址：<a href="https://github.com/downloads/oneclick/rubyinstaller/DevKit-tdm-32-4.5.2-20111229-1559-sfx.exe">DevKit-tdm-32-4.5.2-20111229-1559-sfx.exe</a>，下载完成后，将其解压到 如 E:\DevKit，然后在win的cmd窗口中执行如下命令进行安装：</p>cd E:\DevKit<br>ruby dk.rb init<br>ruby dk.rb instal<p>e. 安装python，下载地址：<a href="http://www.activestate.com/activepython">activepython</a> ，安装2.7版，主要是博客代码加亮模块需要python环境的支持，安装完以后，在win的cmd窗口中执行：</p> easy_install pygments <p><strong>3. 更新配置</strong></p><p>a. 中文 utf-8 编码的支持，在win7环境变量中配置如下：</p>LANG=zh_CN.UTF-8<br>LC_ALL=zh_CN.UTF-8<p>b. 变更 gem 的更新源，ruby的官方更新源经常被河蟹，木有办法，幸亏国内有淘宝做好事，提供了国内的更新源，这样速度就快多了，变更如下：</p>gem sources --remove http://rubygems.org/<br>gem sources -a http://ruby.taobao.org/<br>gem sources -l<br>注意 ：请确保只有 http://ruby.taobao.org/ 唯一一个条目<p>c. 安装 rdoc 和 bundler</p>gem install rdoc bundler<p><strong>4. 安装 Octopress</strong></p><p>a. 下载 Octopress 源码</p>git clone git://github.com/imathis/octopress.git octopress<br>cd octopress # If you use RVM, You'll be asked if you trust the .rvmrc file (say yes).<br>ruby --version # Should report Ruby 1.9.2<p>b. 安装依赖模块</p>$ vi Gemfile<br>将行 ： source "http://rubygems.org/"<br>改为 ： source "http://ruby.taobao.org/"<br>$ bundle install<p>c. 安装 默认主题</p>rake install如若出错：<br>$ rake install<br>rake aborted!<br>You have already activated rake 0.9.2.2, but your Gemfile requires rake 0.9.2. Using bundle exec may solve this.<br>(See full trace by running task with --trace)<br>修正办法为：<br>$ bundle update; rake install<p><strong>5. 发布博客到github pages</strong></p><p>a. 与github建立连接</p>rake setup_github_pages<br>按照提示输入 github page repository的url地址，例如：git@github.com:RubyLouvre/rubylouvre.github.com.git<p>b. 生成静态页面</p>rake generate<p>c. 本地预览，访问 <a href="http://localhost:4000">http://localhost:4000 </a>查看博客本地运行效果</p>rake preview<p>e. 发送到github 服务器，访问 <a href="http://careychow.github.com">http://careychow.github.com</a> 查看博客服务器运行效果</p>rake deploy<p>f. 保存博客源码到github source分支</p>git add .<br>git commit -m 'blog source'<br>git push origin source<p><strong>6. 配置 Octopress</strong></p><p>a. 更新配置文件 octopress/_config.yml, ，参考<a href="http://octopress.org/docs/configuring/">http://octopress.org/docs/configuring/</a>，示例如下，若包含中文，请将文件格式保存成utf-8的格式</p>url: http://zhourunsheng.com<br>title: 润物无声<br>subtitle: 天空一朵雨做的云<br>author: Carey Chow<br>simple_search: http://google.com/search<br>description:<p>b. 绑定个人域名</p>echo &#39;zhourunsheng.com&#39; &gt;&gt; octopress/source/CNAME<br>修改域名 'zhourunsheng.com'  A记录到 207.97.227.245<p>c. 创建新文章和新页面</p>rake new_post["article name"]<br>rake new_page["page name"]<p>d. 发布到github个人空间</p>rake generate<br>rake deploy<p>至此，一个完整的博客就搭建完毕了，具体的运行效果图请参见我的示例空间：<a href="http://zhourunsheng.com/">http://zhourunsheng.com/</a>http://www.cnblogs.com/gossip/archive/2012/06/30/2571316.html<img src="http://www.cnblogs.com/rubylouvre/aggbug/2543706.html?type=1" width="1" height="1" alt=""><p><a href="http://www.cnblogs.com/rubylouvre/archive/2012/06/10/2543706.html">本文链接</a></p></p>