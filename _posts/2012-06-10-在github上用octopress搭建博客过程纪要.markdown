---
layout: post
title:  "在github上用octopress搭建博客过程纪要"
date:   2012-06-10 01:33:00
author: 司徒正美
categories: program
---

## 在github上用octopress搭建博客过程纪要
### by 司徒正美
### at 2012-06-10 01:33:00
### original <http://www.cnblogs.com/rubylouvre/archive/2012/06/10/2543744.html>

<p>几个小时之前刚在github pages上使用octopress搭建了一个博客副本。本来基于本人一贯拖延的作风，是想过几天再记录整个过程的，但是正好在通宵工作但又暂时无事可干中，所以还是趁记忆还比较清晰的时候来搞定它。</p><p>在开始写过程之前先要交待一下我为什么要去做这件事，又或者说是这么做有什么好处：</p><ul><li>首先这么做需要那么一点点伪技术，所以看上去就会比较geek一点。</li><li>其次这整个服务的搭建是完全免费的，可能对于比较穷困的专业挨踢的我来说会是一个开源节流的渠道。</li><li>然后用octopress来写博客，最后发布的动作很cool。</li></ul><span>个人感觉很帅气 </span><div><table><tr><td><pre><span>1</span><span>2</span><span>3</span></pre></td><td><pre><code><span>rake generate</span><span>rake preview</span><span>rake deploy</span></code></pre></td></tr></table></div><ul><li>最后则是离线写博客很舒服，拥有纯文本markdown，良好的html支持，不使用数据库，完美的版本控制，静态页面生成等诸多优点。</li></ul><p>好了，现在开始整个服务搭建过程记录，可能比较长：</p><p><strong>安装Git并进行配置</strong></p><ul><li>先注册一个github账号。</li><li>下载并安装Git。</li><li>到Git的安装目录找到Git Bash.lnk并打开。</li><li>执行<code>ssh-keygen -t rsa -C "your_email@youremail.com"</code>，回车。</li><li>然后输入两遍密码。</li><li>到c:\Users\用户名.ssh\目录找到id_rsa.pub，并用文本软件打开复制全部。</li><li>到github网站选择“Account Settings”&gt;&gt;“SSH Public Keys”&gt;&gt;“Add another public key”，将刚才复制的内容粘贴到key文本框内。</li></ul><p><strong>建立github pages</strong></p><ul><li>创建一个新的Repository。这里需要注意的是，如果想要博客的首页是http://yourname.github.com，则Repository的project name就必须是yourname.github.com。</li><li>根据github给出的指导进行一些命令的键入，即可完成pages的建立。</li></ul><p><strong>安装Ruby</strong></p><ul><li>这里要指出一点的是，因为我是在windows里安装，所以采用了<a href="http://rubyinstaller.org/">RubyInstaller</a>的方式，下载这个软件需要翻墙。</li><li>另外别忘记在同一个网站上下载<a href="http://rubyinstaller.org/add-ons/devkit/">DevKit</a>，必须安装。</li></ul><p><strong>安装octopress</strong></p><ul><li>获取octopress，执行<code>git clone git://github.com/imathis/octopress.git myblog</code>。</li><li>gem install bundler（记得翻墙）</li><li>bundle install（还是要翻墙）</li><li>rake install</li></ul><p>到了这一步基本上可以开始写日志了，不过这里要给出两个小的tips。</p><p><strong>修改配置</strong></p><ul><li>将octopress的目录内的_config.yml的编码改成UTF-8。</li><li>到Ruby的安装目录\lib\ruby\gems\1.9.1\gems\jekyll-0.11.0\lib\jekyll\找到convertible.rb这个文件，修改<code>self.content = File.read(File.join(base, name))</code>为<code>self.content = File.read(File.join(base, name), :encoding =&gt; &quot;utf-8&quot;)</code>。</li><li>修改配置文件_config.yml，修改url、title、subtitle、author等等。</li></ul><p><strong>总算到了激动人心的一步了，开始写日志</strong></p><ul><li>执行<code>rake new_post["my first blog"]</code>，这样会在octopress的/source/_post下生成一个markdown文件，可以用文本软件进行编辑</li><li>完成编辑后执行<code>rake generate</code>，生成。</li><li>执行<code>rake preview</code>地，可以在浏览器内以<a href="http://127.0.0.1:4000">这个地址</a>进行预览。</li><li>最后执行<code>rake deploy</code>，将日志提交到github上，完美收工！</li></ul><p><strong>补充一点</strong></p><p>最后的但并不最不重要的，我们需要将修改的日志同步到github上，因此下面的3个命令也是必须的。</p><img src="http://www.cnblogs.com/rubylouvre/aggbug/2543744.html?type=1" width="1" height="1" alt=""><p><a href="http://www.cnblogs.com/rubylouvre/archive/2012/06/10/2543744.html">本文链接</a></p>