---
layout: post
title:  "【分享】JavaScript版几种常见排序算法"
date:   2011-02-16 19:56:00
author: jelle
categories: program
---

## 【分享】JavaScript版几种常见排序算法
### by jelle
### at 2011-02-16 19:56:00
### original <http://www.cnblogs.com/idche/archive/2011/02/16/1956397.html>

<p><p><strong>说明</strong></p>
<ul>
<li>写这个主要是为了锻炼自己，并无实际意义。</li>
<li>每个浏览器测试得出的数据会不一样。比如我用chrome 测试 一般快速排序都会最快，IE 则根据数组长度有可能希尔最快。</li>
<li>不要用太大数据去测试冒泡排序(浏览器崩溃了我不管)</li>
<li>如果有兴趣可以  <strong><a href="http://files.cnblogs.com/idche/jun-code.rar">下载测试页面</a></strong></li>
</ul>
<p><strong>个人理解</strong></p>
<ul>
<li>冒泡排序：最简单，也最慢，貌似长度小于7最优</li>
<li>插入排序： 比冒泡快，比快速排序和希尔排序慢，较小数据有优势</li>
<li>快速排序：这是一个非常快的排序方式，V8的sort方法就使用快速排序和插入排序的结合</li>
<li>希尔排序：在<strong>非</strong>chrome下数组长度小于1000，希尔排序比快速更快</li>
<li>系统方法：在forfox下系统的这个方法非常快</li>
</ul>
<div><img src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif"><img src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif"><span>各种排序算法源码</span>
<div>
<pre><div><span style="color:#000000">    </span><span style="color:#008000">//</span><span style="color:#008000"> ---------- 一些排序算法</span><span style="color:#008000"><br></span><span style="color:#000000">    </span><span style="color:#008000">//</span><span style="color:#008000"> js 利用sort进行排序</span><span style="color:#008000"><br></span><span style="color:#000000">     systemSort:</span><span style="color:#0000ff">function</span><span style="color:#000000">(array){<br>        </span><span style="color:#0000ff">return</span><span style="color:#000000"> array.sort(</span><span style="color:#0000ff">function</span><span style="color:#000000">(a, b){<br>            </span><span style="color:#0000ff">return</span><span style="color:#000000"> a </span><span style="color:#000000">-</span><span style="color:#000000"> b;<br>        });<br>    },<br>    </span><span style="color:#008000">//</span><span style="color:#008000"> 冒泡排序</span><span style="color:#008000"><br></span><span style="color:#000000">    bubbleSort:</span><span style="color:#0000ff">function</span><span style="color:#000000">(array){<br>        </span><span style="color:#0000ff">var</span><span style="color:#000000"> i </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#000000">0</span><span style="color:#000000">, len </span><span style="color:#000000">=</span><span style="color:#000000"> array.length,<br>            j, d;<br>        </span><span style="color:#0000ff">for</span><span style="color:#000000">(; i</span><span style="color:#000000">&lt;</span><span style="color:#000000">len; i</span><span style="color:#000000">++</span><span style="color:#000000">){<br>            </span><span style="color:#0000ff">for</span><span style="color:#000000">(j</span><span style="color:#000000">=</span><span style="color:#000000">0</span><span style="color:#000000">; j</span><span style="color:#000000">&lt;</span><span style="color:#000000">len; j</span><span style="color:#000000">++</span><span style="color:#000000">){<br>                </span><span style="color:#0000ff">if</span><span style="color:#000000">(array[i] </span><span style="color:#000000">&lt;</span><span style="color:#000000"> array[j]){<br>                    d </span><span style="color:#000000">=</span><span style="color:#000000"> array[j];<br>                    array[j] </span><span style="color:#000000">=</span><span style="color:#000000"> array[i];<br>                    array[i] </span><span style="color:#000000">=</span><span style="color:#000000"> d;<br>                }<br>            }<br>        }<br>        </span><span style="color:#0000ff">return</span><span style="color:#000000"> array;<br>    },<br>    </span><span style="color:#008000">//</span><span style="color:#008000"> 快速排序</span><span style="color:#008000"><br></span><span style="color:#000000">    quickSort:</span><span style="color:#0000ff">function</span><span style="color:#000000">(array){<br>        </span><span style="color:#008000">//</span><span style="color:#008000">var array = [8,4,6,2,7,9,3,5,74,5];</span><span style="color:#008000"><br></span><span style="color:#000000">        </span><span style="color:#008000">//</span><span style="color:#008000">var array = [0,1,2,44,4,324,5,65,6,6,34,4,5,6,2,43,5,6,62,43,5,1,4,51,56,76,7,7,2,1,45,4,6,7];</span><span style="color:#008000"><br></span><span style="color:#000000">        </span><span style="color:#0000ff">var</span><span style="color:#000000"> i </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#000000">0</span><span style="color:#000000">;<br>        </span><span style="color:#0000ff">var</span><span style="color:#000000"> j </span><span style="color:#000000">=</span><span style="color:#000000"> array.length </span><span style="color:#000000">-</span><span style="color:#000000"> </span><span style="color:#000000">1</span><span style="color:#000000">;<br>        </span><span style="color:#0000ff">var</span><span style="color:#000000"> Sort </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#0000ff">function</span><span style="color:#000000">(i, j){<br>            <br>            </span><span style="color:#008000">//</span><span style="color:#008000"> 结束条件</span><span style="color:#008000"><br></span><span style="color:#000000">            </span><span style="color:#0000ff">if</span><span style="color:#000000">(i </span><span style="color:#000000">==</span><span style="color:#000000"> j ){ </span><span style="color:#0000ff">return</span><span style="color:#000000"> };<br>            <br>            </span><span style="color:#0000ff">var</span><span style="color:#000000"> key </span><span style="color:#000000">=</span><span style="color:#000000"> array[i];<br>            </span><span style="color:#0000ff">var</span><span style="color:#000000"> tempi </span><span style="color:#000000">=</span><span style="color:#000000"> i; </span><span style="color:#008000">//</span><span style="color:#008000"> 记录开始位置</span><span style="color:#008000"><br></span><span style="color:#000000">            </span><span style="color:#0000ff">var</span><span style="color:#000000"> tempj </span><span style="color:#000000">=</span><span style="color:#000000"> j; </span><span style="color:#008000">//</span><span style="color:#008000"> 记录结束位置</span><span style="color:#008000"><br></span><span style="color:#000000">            <br>            </span><span style="color:#0000ff">while</span><span style="color:#000000">(j </span><span style="color:#000000">&gt;</span><span style="color:#000000"> i){<br>                </span><span style="color:#008000">//</span><span style="color:#008000"> j &lt;&lt;-------------- 向前查找</span><span style="color:#008000"><br></span><span style="color:#000000">                </span><span style="color:#0000ff">if</span><span style="color:#000000">(array[j] </span><span style="color:#000000">&gt;=</span><span style="color:#000000"> key){<br>                    j</span><span style="color:#000000">--</span><span style="color:#000000">;<br>                }</span><span style="color:#0000ff">else</span><span style="color:#000000">{<br>                    array[i] </span><span style="color:#000000">=</span><span style="color:#000000"> array[j]<br>                    </span><span style="color:#008000">//</span><span style="color:#008000">i++ ------------&gt;&gt;向后查找</span><span style="color:#008000"><br></span><span style="color:#000000">                    </span><span style="color:#0000ff">while</span><span style="color:#000000">(j </span><span style="color:#000000">&gt;</span><span style="color:#000000"> </span><span style="color:#000000">++</span><span style="color:#000000">i){<br>                        </span><span style="color:#0000ff">if</span><span style="color:#000000">(array[i] </span><span style="color:#000000">&gt;</span><span style="color:#000000"> key){<br>                            array[j] </span><span style="color:#000000">=</span><span style="color:#000000"> array[i];<br>                            </span><span style="color:#0000ff">break</span><span style="color:#000000">;<br>                        }<br>                    }<br>                }<br>            }<br>            <br>            </span><span style="color:#008000">//</span><span style="color:#008000"> 如果第一个取出的 key 是最小的数</span><span style="color:#008000"><br></span><span style="color:#000000">            </span><span style="color:#0000ff">if</span><span style="color:#000000">(tempi </span><span style="color:#000000">==</span><span style="color:#000000"> i){<br>                Sort(</span><span style="color:#000000">++</span><span style="color:#000000">i, tempj);<br>                </span><span style="color:#0000ff">return</span><span style="color:#000000"> ;<br>            }<br>            <br>            </span><span style="color:#008000">//</span><span style="color:#008000"> 最后一个空位留给 key</span><span style="color:#008000"><br></span><span style="color:#000000">            array[i] </span><span style="color:#000000">=</span><span style="color:#000000"> key;<br>            <br>            </span><span style="color:#008000">//</span><span style="color:#008000"> 递归</span><span style="color:#008000"><br></span><span style="color:#000000">            Sort(tempi, i);<br>            Sort(j, tempj);<br>        }<br>        <br>        Sort(i, j);<br>        <br>        </span><span style="color:#0000ff">return</span><span style="color:#000000"> array;<br>    },<br>    <br>    </span><span style="color:#008000">//</span><span style="color:#008000"> 插入排序</span><span style="color:#008000"><br></span><span style="color:#000000">    insertSort:</span><span style="color:#0000ff">function</span><span style="color:#000000">(array){<br>        <br>        </span><span style="color:#008000">//</span><span style="color:#008000"> http://baike.baidu.com/image/d57e99942da24e5dd21b7080</span><span style="color:#008000"><br></span><span style="color:#000000">        </span><span style="color:#008000">//</span><span style="color:#008000"> http://baike.baidu.com/view/396887.htm</span><span style="color:#008000"><br></span><span style="color:#000000">        </span><span style="color:#008000">//</span><span style="color:#008000">var array = [0,1,2,44,4,324,5,65,6,6,34,4,5,6,2,43,5,6,62,43,5,1,4,51,56,76,7,7,2,1,45,4,6,7];</span><span style="color:#008000"><br></span><span style="color:#000000">        <br>        </span><span style="color:#0000ff">var</span><span style="color:#000000"> i </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#000000">1</span><span style="color:#000000">, j, temp, key,<br>            len </span><span style="color:#000000">=</span><span style="color:#000000"> array.length;<br>        <br>        </span><span style="color:#0000ff">for</span><span style="color:#000000">(; i </span><span style="color:#000000">&lt;</span><span style="color:#000000"> len; i</span><span style="color:#000000">++</span><span style="color:#000000">){<br>            <br>            temp </span><span style="color:#000000">=</span><span style="color:#000000"> j </span><span style="color:#000000">=</span><span style="color:#000000"> i;<br>            key </span><span style="color:#000000">=</span><span style="color:#000000"> array[j];<br>            <br>            </span><span style="color:#0000ff">while</span><span style="color:#000000">(</span><span style="color:#000000">--</span><span style="color:#000000">j </span><span style="color:#000000">&gt;</span><span style="color:#000000"> </span><span style="color:#000000">-</span><span style="color:#000000">1</span><span style="color:#000000">){<br>                </span><span style="color:#0000ff">if</span><span style="color:#000000">(array[j] </span><span style="color:#000000">&gt;</span><span style="color:#000000"> key){<br>                    array[j</span><span style="color:#000000">+</span><span style="color:#000000">1</span><span style="color:#000000">] </span><span style="color:#000000">=</span><span style="color:#000000"> array[j];<br>                }</span><span style="color:#0000ff">else</span><span style="color:#000000">{<br>                    </span><span style="color:#0000ff">break</span><span style="color:#000000">;<br>                }<br>            }<br>            <br>            array[j</span><span style="color:#000000">+</span><span style="color:#000000">1</span><span style="color:#000000">] </span><span style="color:#000000">=</span><span style="color:#000000"> key;<br>        }<br>        <br>        </span><span style="color:#0000ff">return</span><span style="color:#000000"> array;<br>    },<br>    <br>    </span><span style="color:#008000">//</span><span style="color:#008000"> 希尔排序</span><span style="color:#008000"><br></span><span style="color:#000000">    </span><span style="color:#008000">//</span><span style="color:#008000">Jun.array.shellSort(Jun.array.df(10000));</span><span style="color:#008000"><br></span><span style="color:#000000">    shellSort:</span><span style="color:#0000ff">function</span><span style="color:#000000">(array){<br><br>        </span><span style="color:#008000">//</span><span style="color:#008000"> http://zh.wikipedia.org/zh/%E5%B8%8C%E5%B0%94%E6%8E%92%E5%BA%8F</span><span style="color:#008000"><br></span><span style="color:#000000">        </span><span style="color:#008000">//</span><span style="color:#008000"> var array = [13,14,94,33,82,25,59,94,65,23,45,27,73,25,39,10];</span><span style="color:#008000"><br></span><span style="color:#000000">        <br>        </span><span style="color:#0000ff">var</span><span style="color:#000000"> tempArr </span><span style="color:#000000">=</span><span style="color:#000000"> [</span><span style="color:#000000">1750</span><span style="color:#000000">, </span><span style="color:#000000">701</span><span style="color:#000000">, </span><span style="color:#000000">301</span><span style="color:#000000">, </span><span style="color:#000000">132</span><span style="color:#000000">, </span><span style="color:#000000">57</span><span style="color:#000000">, </span><span style="color:#000000">23</span><span style="color:#000000">, </span><span style="color:#000000">10</span><span style="color:#000000">, </span><span style="color:#000000">4</span><span style="color:#000000">, </span><span style="color:#000000">1</span><span style="color:#000000">]; </span><span style="color:#008000">//</span><span style="color:#008000"> reverse() 在维基上看到这个最优的步长 较小数组</span><span style="color:#008000"><br></span><span style="color:#000000">        </span><span style="color:#008000">//</span><span style="color:#008000">var tempArr = [1031612713, 217378076, 45806244, 9651787, 2034035, 428481, 90358, 19001, 4025, 836, 182, 34, 9, 1]//针对大数组的步长选择</span><span style="color:#008000"><br></span><span style="color:#000000">        </span><span style="color:#0000ff">var</span><span style="color:#000000"> i </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#000000">0</span><span style="color:#000000">;<br>        </span><span style="color:#0000ff">var</span><span style="color:#000000"> tempArrLength </span><span style="color:#000000">=</span><span style="color:#000000"> tempArr.length;<br>        </span><span style="color:#0000ff">var</span><span style="color:#000000"> len </span><span style="color:#000000">=</span><span style="color:#000000"> array.length;<br>        </span><span style="color:#0000ff">var</span><span style="color:#000000"> len2 </span><span style="color:#000000">=</span><span style="color:#000000">  parseInt(len</span><span style="color:#000000">/</span><span style="color:#000000">2);</span><span style="color:#000000"><br></span><span style="color:#000000">        <br>        </span><span style="color:#0000ff">for</span><span style="color:#000000">(;i </span><span style="color:#000000">&lt;</span><span style="color:#000000"> tempArrLength; i</span><span style="color:#000000">++</span><span style="color:#000000">){<br>            </span><span style="color:#0000ff">if</span><span style="color:#000000">(tempArr[i] </span><span style="color:#000000">&gt;</span><span style="color:#000000"> len2){<br>                </span><span style="color:#0000ff">continue</span><span style="color:#000000">;<br>            }<br>            <br>            tempSort(tempArr[i]);<br>        }<br><br>        </span><span style="color:#008000">//</span><span style="color:#008000"> 排序一个步长</span><span style="color:#008000"><br></span><span style="color:#000000">        </span><span style="color:#0000ff">function</span><span style="color:#000000"> tempSort(temp){<br>            <br>            </span><span style="color:#008000">//</span><span style="color:#008000">console.log(temp) 使用的步长统计</span><span style="color:#008000"><br></span><span style="color:#000000">            <br>            </span><span style="color:#0000ff">var</span><span style="color:#000000"> i </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#000000">0</span><span style="color:#000000">, j </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#000000">0</span><span style="color:#000000">, f, tem, key;<br>            </span><span style="color:#0000ff">var</span><span style="color:#000000"> tempLen </span><span style="color:#000000">=</span><span style="color:#000000"> len</span><span style="color:#000000">%</span><span style="color:#000000">temp </span><span style="color:#000000">&gt;</span><span style="color:#000000"> </span><span style="color:#000000">0</span><span style="color:#000000"> </span><span style="color:#000000">?</span><span style="color:#000000">  parseInt(len</span><span style="color:#000000">/</span><span style="color:#000000">temp) + 1 : len</span><span style="color:#000000">/</span><span style="color:#000000">temp; <br>            <br>            <br>            </span><span style="color:#0000ff">for</span><span style="color:#000000">(;i </span><span style="color:#000000">&lt;</span><span style="color:#000000"> temp; i</span><span style="color:#000000">++</span><span style="color:#000000">){</span><span style="color:#008000">//</span><span style="color:#008000"> 依次循环列</span><span style="color:#008000"><br></span><span style="color:#000000"><br>                </span><span style="color:#0000ff">for</span><span style="color:#000000">(j</span><span style="color:#000000">=</span><span style="color:#000000">1</span><span style="color:#000000">;</span><span style="color:#008000">/*</span><span style="color:#008000">j &lt; tempLen &amp;&amp; </span><span style="color:#008000">*/</span><span style="color:#000000">temp </span><span style="color:#000000">*</span><span style="color:#000000"> j </span><span style="color:#000000">+</span><span style="color:#000000"> i </span><span style="color:#000000">&lt;</span><span style="color:#000000"> len; j</span><span style="color:#000000">++</span><span style="color:#000000">){</span><span style="color:#008000">//</span><span style="color:#008000">依次循环每列的每行</span><span style="color:#008000"><br></span><span style="color:#000000">                    tem </span><span style="color:#000000">=</span><span style="color:#000000"> f </span><span style="color:#000000">=</span><span style="color:#000000"> temp </span><span style="color:#000000">*</span><span style="color:#000000"> j </span><span style="color:#000000">+</span><span style="color:#000000"> i;<br>                    key </span><span style="color:#000000">=</span><span style="color:#000000"> array[f];<br><br>                    </span><span style="color:#0000ff">while</span><span style="color:#000000">((tem</span><span style="color:#000000">-=</span><span style="color:#000000">temp) </span><span style="color:#000000">&gt;=</span><span style="color:#000000"> </span><span style="color:#000000">0</span><span style="color:#000000">){</span><span style="color:#008000">//</span><span style="color:#008000"> 依次向上查找</span><span style="color:#008000"><br></span><span style="color:#000000">                        </span><span style="color:#0000ff">if</span><span style="color:#000000">(array[tem] </span><span style="color:#000000">&gt;</span><span style="color:#000000"> key){<br>                            array[tem</span><span style="color:#000000">+</span><span style="color:#000000">temp] </span><span style="color:#000000">=</span><span style="color:#000000"> array[tem];<br>                        }</span><span style="color:#0000ff">else</span><span style="color:#000000">{<br>                            </span><span style="color:#0000ff">break</span><span style="color:#000000">;<br>                        }<br>                    }<br>                    <br>                    array[tem </span><span style="color:#000000">+</span><span style="color:#000000"> temp ] </span><span style="color:#000000">=</span><span style="color:#000000"> key;<br>                    <br>                }<br>            }<br>            <br>        }<br>        <br>        </span><span style="color:#0000ff">return</span><span style="color:#000000"> array;<br>        <br>    }</span></div></pre>
</div>
</div><img src="http://www.cnblogs.com/idche/aggbug/1956397.html?type=1" width="1" height="1" alt=""><p>作者: <a href="http://www.cnblogs.com/idche/">jelle</a> 发表于 2011-02-16 19:56 <a href="http://www.cnblogs.com/idche/archive/2011/02/16/1956397.html">原文链接</a></p><p>评论: 4　<a href="http://www.cnblogs.com/idche/archive/2011/02/16/1956397.html#pagedcomment">查看评论</a>　<a href="http://www.cnblogs.com/idche/archive/2011/02/16/1956397.html#commentform">发表评论</a></p><hr><p>最新新闻：<br>· <a href="http://news.cnblogs.com/n/91258/">阿桑奇揭秘黑客传奇：网络罗宾汉思想形成史</a><span style="color:gray">(2011-02-17 09:08)</span><br>· <a href="http://news.cnblogs.com/n/91257/">诺基亚董事会主席：Windows手机2012年起上市</a><span style="color:gray">(2011-02-17 09:07)</span><br>· <a href="http://news.cnblogs.com/n/91256/">谷歌地球观测到沙特沙漠地区有数千远古石冢</a><span style="color:gray">(2011-02-17 09:06)</span><br>· <a href="http://news.cnblogs.com/n/91255/">消息称苹果CEO乔布斯在斯坦福癌症中心治疗</a><span style="color:gray">(2011-02-17 09:05)</span><br>· <a href="http://news.cnblogs.com/n/91254/">RIM发布近距通信功能 提升运营商服务</a><span style="color:gray">(2011-02-17 09:04)</span><br></p><p>编辑推荐：<a href="http://news.cnblogs.com/n/91108/">给想当程序员的大二学生的建议</a><br></p><p>网站导航：<a href="http://www.cnblogs.com">博客园首页</a>  <a href="http://home.cnblogs.com/">我的园子</a>  <a href="http://news.cnblogs.com">新闻</a>  <a href="http://home.cnblogs.com/ing/">闪存</a>  <a href="http://home.cnblogs.com/group/">小组</a>  <a href="http://space.cnblogs.com/q/">博问</a>  <a href="http://kb.cnblogs.com">知识库</a></p></p>