<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>有趣的C语言问题 测试你对C语言的熟悉程度</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/google_reader/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/google_reader/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/google_reader/">Google Reader</a></h1>
              <a class="extra" href="/google_reader/">home</a>
            </div>

                <h2>有趣的C语言问题 测试你对C语言的熟悉程度</h2>
<p class="meta">2008-02-04 05:35</p>

<div class="post">
<h2>有趣的C语言问题 测试你对C语言的熟悉程度</h2>

<h3>by matrix67@tom.com(matrix67)</h3>

<h3>at 2008-02-03 21:35:53</h3>

<h3>original <a href="http://item.feedsky.com/~feedsky/matrix67/~6168092/48317222/4276032/1/item.html">http://item.feedsky.com/~feedsky/matrix67/~6168092/48317222/4276032/1/item.html</a></h3>

<p>下面这个程序输出什么？<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>enum {false,true};<br>int main()<br>{<br>        int i=1;<br>        do<br>        {<br>                printf(&quot;%d\n&quot;,i);<br>                i++;<br>                if(i &lt; 15)<br>                        continue;<br>        }while(false);<br>        return 0;<br>}</code></pre></div></div><br><br>你相信么？下面这个程序输出的两行东西不一样！<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>  #include &lt;stdio.h&gt;<br>  #define f(a,b) a##b<br>  #define g(a)   #a<br>  #define h(a) g(a)<br><br>  int main()<br>  {<br>          printf(&quot;%s\n&quot;,h(f(1,2)));<br>          printf(&quot;%s\n&quot;,g(f(1,2)));<br>          return 0;<br>  }</code></pre></div></div><br><br>下面的程序看似完全正确。你能看出它为什么通不过编译吗？<br>看出问题前不要去试着编译，不然你会后悔你没看出来这个低级的语法错误。<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>#include&lt;stdio.h&gt;<br><br>void OS_Solaris_print()<br>{<br>        printf(&quot;Solaris - Sun Microsystems\n&quot;);<br>}<br><br>void OS_Windows_print()<br>{<br>        printf(&quot;Windows - Microsoft\n&quot;);<br><br>}<br>void OS_HP-UX_print()<br>{<br>        printf(&quot;HP-UX - Hewlett Packard\n&quot;);<br>}<br><br>int main()<br>{<br>        int num;<br>        printf(&quot;Enter the number (1-3):\n&quot;);<br>        scanf(&quot;%d&quot;,&amp;num);<br>        switch(num)<br>        {<br>                case 1:<br>                        OS_Solaris_print();<br>                        break;<br>                case 2:<br>                        OS_Windows_print();<br>                        break;<br>                case 3:<br>                        OS_HP-UX_print();<br>                        break;<br>                default:<br>                        printf(&quot;Hmm! only 1-3 :-)\n&quot;);<br>                        break;<br>        }<br><br>        return 0;<br>}</code></pre></div></div><br><br>为什么下面这个程序的输出不是NONE？看你多久才能看出来。<br><div><div><img src="http://www.matrix67.com/blog/images/code.gif" alt="程序代码"> 程序代码</div><div>  #include&lt;stdio.h&gt;<br>  int main()<br>  {<br>          int a=10;<br>          switch(a)<br>          {<br>                  case &#39;1&#39;:<br>                      printf(&quot;ONE\n&quot;);<br>                      break;<br>                  case &#39;2&#39;:<br>                      printf(&quot;TWO\n&quot;);<br>                      break;<br>                  defa1ut:<br>                      printf(&quot;NONE\n&quot;);<br>          }<br>          return 0;<br>  }</div></div><br><br>下面这个程序输出什么？<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>#include &lt;stdio.h&gt;<br>int main()<br>{<br>        int i=43;<br>        printf(&quot;%d\n&quot;,printf(&quot;%d&quot;,printf(&quot;%d&quot;,i)));<br>        return 0;<br>}</code></pre></div></div><br><br>下面这个程序输出什么？<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>  #include&lt;stdio.h&gt;<br>  int main()<br>  {<br>      int a=1;<br>      switch(a)<br>      {   int b=20;<br>          case 1: printf(&quot;b is %d\n&quot;,b);<br>                  break;<br>          default:printf(&quot;b is %d\n&quot;,b);<br>                  break;<br>      }<br>      return 0;<br>  }</code></pre></div></div><br><br>下面这个程序输出什么？<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>  #include &lt;stdio.h&gt;<br>  int main()<br>  {<br>      int i;<br>      i = 10;<br>      printf(&quot;i : %d\n&quot;,i);<br>      printf(&quot;sizeof(i++) is: %d\n&quot;,sizeof(i++));<br>      printf(&quot;i : %d\n&quot;,i);<br>      return 0;<br>  }</code></pre></div></div><br><br>下面这个程序输出什么？<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>  #include &lt;stdio.h&gt;<br>  #include &lt;stdlib.h&gt;<br><br>  #define SIZEOF(arr) (sizeof(arr)/sizeof(arr[0]))<br><br>  #define PrintInt(expr) printf(&quot;%s:%d\n&quot;,#expr,(expr))<br>  int main()<br>  {<br>      /<em> The powers of 10 </em>/<br>      int pot[] = {<br>          0001,<br>          0010,<br>          0100,<br>          1000<br>      };<br>      int i;<br><br>      for(i=0;i&lt;SIZEOF(pot);i++)<br>          PrintInt(pot[i]);<br>      return 0;<br>  }</code></pre></div></div><br><br>下面这个程序输出什么？<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>  #include &lt;stdio.h&gt;<br>  int main()<br>  {<br>    int a=3, b = 5;<br><br>    printf(&amp;a[&quot;Ya!Hello! how is this? %s\n&quot;], &amp;b[&quot;junk/super&quot;]);<br>    printf(&amp;a[&quot;WHAT%c%c%c  %c%c  %c !\n&quot;], 1[&quot;this&quot;],<br>       2[&quot;beauty&quot;],0[&quot;tool&quot;],0[&quot;is&quot;],3[&quot;sensitive&quot;],4[&quot;CCCCCC&quot;]);<br>    return 0;<br>  }</code></pre></div></div><br><br>下面这个程序输出什么？<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>#include &lt;stdio.h&gt;<br>int main()<br>{<br>        int i=23;<br>        printf(&quot;%d %d\n&quot;,i++,i++);<br>        return 0;<br>}</code></pre></div></div><br><br>为什么下面这个程序的输出不是10？我故意取消了语法高亮:)<br><div><div><img src="http://www.matrix67.com/blog/images/code.gif" alt="程序代码"> 程序代码</div><div>  #include &lt;stdio.h&gt;<br>  #define PrintInt(expr) printf(&quot;%s : %d\n&quot;,#expr,(expr))<br>  int main()<br>  {<br>      int y = 100;<br>      int <em>p;<br>      p = malloc(sizeof(int));<br>      </em>p = 10;<br>      y = y/<em>p; /</em>dividing y by <em>p </em>/;<br>      PrintInt(y);<br>      return 0;<br>  }</div></div><br><br>下面这个程序输出什么？<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>  #include &lt;stdio.h&gt;<br>  int main()<br>  {<br>      int i = 6;<br>      if( ((++i &lt; 7) &amp;&amp; ( i++/6)) || (++i &lt;= 9))<br>          ;<br>      printf(&quot;%d\n&quot;,i);<br>      return 0;<br>  }</code></pre></div></div><br><br>下面这段代码是否合法？<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>  #include &lt;stdio.h&gt;<br>  #define PrintInt(expr) printf(&quot;%s : %d\n&quot;,#expr,(expr))<br>  int max(int x, int y)<br>  {<br>      (x &gt; y) ? return x : return y;<br>  }<br><br>  int main()<br>  {<br>      int a = 10, b = 20;<br>      PrintInt(a);<br>      PrintInt(b);<br>      PrintInt(max(a,b));<br>  }</code></pre></div></div><br><br>这是什么意思？有什么潜在的问题？<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>  #define SWAP(a,b) ((a) ^= (b) ^= (a) ^= (b))</code></pre></div></div><br><br>这是什么意思？<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>  #define ROUNDUP(x,n) ((x+n-1)&amp;(~(n-1)))</code></pre></div></div><br><br>一些C语言的教材上会给出一个很经典的宏定义<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>  #define isupper(c) (((c) &gt;= &#39;A&#39;) &amp;&amp; ((c) &lt;= &#39;Z&#39;))</code></pre></div></div><br>但这种宏定义的方法存在不足之处，一旦遇到下面这种情况就出问题了：<br><div><div><img src="http://www.matrix67.com/blog/images/quote.gif" alt="程序代码"> 程序代码</div><div><pre><code>  char c;<br>  /<em> ... </em>/<br>  if(isupper(c++))<br>  {<br>      /<em> ... </em>/<br>  }</code></pre></div></div><br>为了避免这种问题，应该怎样来定义isupper？<br><br><br>怎样用printf函数打印&quot;I can print %&quot;？别忘了百分号是用于格式化输出的。<br>不用任何比较运算符，写一个程序找出三个数中的最小数。<br>不用+号，（用位运算）实现加法运算。<br><br>最有趣的一个问题：不用分号，写一个Hello World程序。<br>这是有可能的，而且办法非常简单，只用到了最基本的语法规则。<br>实在想不出来再看答案吧（白色的）：<br><span style="color:#f3f3f3">#include &lt;stdio.h&gt;<br>int main()<br>{<br>    if (printf(&quot;Hello World&quot;)){}<br>}</span><br><br>查看更多：<a href="http://www.gowrikumar.com/c/">http://www.gowrikumar.com/c/</a></p>

</div>


            <div class="footer">
              <div class="contact">
                <p>
                  Your Name<br />
                  What You Are<br />
                  your@email.com
                </p>
              </div>
              <div class="contact">
                <p>
                  <a href="http://github.com/lyuehh/">github.com/lyuehh</a><br />
                  <a href="http://twitter.com/lyuehh/">twitter.com/lyuehh</a><br />
                </p>
              </div>
            </div>
          </div>
        </div> <!-- /container -->

    </body>
</html>
