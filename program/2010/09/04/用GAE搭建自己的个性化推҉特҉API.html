<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>用GAE搭建自己的个性化推҉特҉API</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/">Your New Jekyll Site</a></h1>
              <a class="extra" href="/">home</a>
            </div>

                <h2>用GAE搭建自己的个性化推҉特҉API</h2>
<p class="meta">04 Sep 2010</p>

<div class="post">
<h2>用GAE搭建自己的个性化推҉特҉API</h2>

<h3>by GFW BLOG 功夫网</h3>

<h3>at 2010-09-04 00:15:26</h3>

<h3>original <a href="http://feedproxy.google.com/~r/chinagfwblog/~3/yBpt_IA1kMs/gaeapi.html">http://feedproxy.google.com/~r/chinagfwblog/~3/yBpt_IA1kMs/gaeapi.html</a></h3>

<p>作者：夜の猫  来源：<a href="http://blog.newchen.com/post/1389">猫宅</a><br><p>本文将以尽可能最详细的方法，讲述使用Gtap搭建自己Twitter API的整个流程，并尽可能保证每一个步骤都配有截图做参考，以便大家理解。不过这样一来，文章版面可能就会被拉的较长，所以。。。就不罗嗦多余的话了。。。 正文开始。。。</p> <p style="text-align:center"><strong><span style="color:rgb(255,0,0)">- 搭建部分 -</span></strong></p> <p>首先需要到 <a href="https://appengine.google.com/">Google Appengine</a> 新注册一个程序（一定不要上传到以前申请的别的APP上）。注册方法非常简单，和前几天写的"<a title="用GAE来搭建自己专用的翻҉墙҉代҉理҉" href="http://blog.newchen.com/post/1376">用GAE来搭建自己专用的翻҉墙҉代҉理҉</a> "的开头部分一样。</p>  <p>注册好Google Appengine，得到了 <a href="http://xxx.appspot.com">xxx.appspot.com</a> 的域名后，下面就正式开始搭建这个Twitter API了。</p> <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4152/4951301446_ef95597f47.jpg" alt="" width="500" height="400"></p> <p>首先需要先<strong>翻墙访问</strong>：<a href="http://dev.twitter.com/">http://dev.twitter.com</a>。然后注册一个新的App（如上图）。</p> <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4105/4950708921_477bf2187e_z.jpg" alt="" width="500" height="629"></p> <p>注册时所填的表单，名称，说明，和网址，都可以随便写自己喜欢的。但<strong>一定要注意上图中红线圈起来的部分</strong>，也就是 Application，Callback URL，Default Access type，这三处。<span style="color:rgb(255,0,0)">Application Type </span>要选择"<span style="color:rgb(255,0,0)">Browser</span>"，<span style="color:rgb(255,0,0)">Callback URL</span>地址要填写"<span style="color:rgb(255,0,0)"><a href="http://gtap.appspot.com/oauth/verify">http://gtap.appspot.com/oauth/verify</a></span>"，<span style="color:rgb(255,0,0)">Default Access type</span> 要选择"<span style="color:rgb(255,0,0)">Read &amp; Write</span>"。</p>  <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4108/4950708961_3cf3b764f3_z.jpg" alt="" width="500" height="520"></p> <p>成功注册了App后，会返回一个包含各种信息的页面，其中包含接下来需要用到的 <strong>Consumer key</strong> 和 <strong>Consumer secret</strong>。将此页面暂时保留。</p> <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4087/4951301678_0e8edcfc0b.jpg" alt="" width="500" height="440"></p> <p>接下来，<a href="http://www.newchen.com/downloads/gtap.7z"><strong>点击这里下载Gtap</strong></a>，然后解压到本地硬盘中。进入gtap的文件夹，用你习惯的记事本工具打开 main.py 文件，然后修改 14，15行的 <strong>CONSUMER_KEY</strong> 和 <strong>CONSUMER_SECRET</strong>（如上图），将图中"<span style="color:rgb(255,0,0)">小明同学的KEY</span>"替换成你刚刚在Twitter申请到的<span style="color:rgb(255,0,0)"> Consumer key</span>，把"<span style="color:rgb(255,0,0)">小明同学的密钥</span>"替换成你的 <span style="color:rgb(255,0,0)">Consumer secret</span>。然后保存。</p>  <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4140/4951301602_81e38e3f8d.jpg" alt="" width="500" height="370"></p> <p>接下来，打开 app.yaml，修改第一行，将上图中"小明同学的程序名"替换成你在Google Appengine新申请到的名称。如果你不是在我这里下载的gtap，那么还需要确认上图中，最后一行 <span style="color:rgb(255,0,0)">secure</span> 那里是"<span style="color:rgb(255,0,0)">optional</span>"。确认无误后，保存并关闭。</p>  <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4113/4950709217_2f8dff9564.jpg" alt="" width="500" height="214"></p> <p>程序已经准备完毕，下面运行 Google App Engine Launcher 来讲程序上传到GAE。点击"File – Add Existing Application…"添加程序目录。</p> <p>注意一点，<strong>这个无法通过SDUpload这个第三方的上传工具上传</strong>。。。很残念。。。如果你没有安装过Google App Engine的客户端，那么需要先<a href="http://www.python.org/download/">下载并安装Python2.7</a>（可能被墙，请随时翻墙下载），然后在<a href="http://code.google.com/intl/zh-CN/appengine/downloads.html">下载安装Google App Engine</a>即可。</p>  <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4086/4950709113_1ddab45252.jpg" alt="" width="500" height="350"></p> <p>在Google App Engine Launcher中添加好程序后，点击工具栏的"Deploy"，之后会弹出一个窗口，输入你的Google帐号和密码开始上传。</p> <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4087/4951301764_69199014d5.jpg" alt="" width="500" height="398"></p> <p>上传时的提示窗口是这个样子的。。。你不需要等待很长时间，当你看到窗口中提示你"You can close this window now."的字样时，就可以关闭Google App Engine Launcher了。这时你已经完成了全部工作。接下来就是如何使用这个API了。。。</p> <p style="text-align:center"><strong><span style="color:rgb(255,0,0)">- 使用部分 -</span></strong></p> <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4150/4950709317_a11c4719a0.jpg" alt="" width="500" height="264"></p> <p>API已经搭建好了，你可以<strong>翻墙点击</strong>上图中的"Sing in with Twitter"按钮，验证一下后自己一个人使用，也把你申请的 <a href="http://xxx.appspot.com">xxx.appspot.com</a> 这个地址发给你的好友，他们只需要经过一步简单的验证就可以使用了。</p> <p><span style="color:rgb(255,0,0)">※验证的过程中，需要开启代理，并先登录Twitter的网站。</span></p> <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4149/4951301948_9be219ed11.jpg" alt="" width="500" height="450"></p> <p>点击"Sign in with Twitter"链接后，会跳转到Twitter的API验证页面（如上图），点击"Allow"按钮，同意应用程序访问你的帐户。</p> <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4120/4950709379_93e1abbaa3.jpg" alt="" width="500" height="280"></p> <p>接着，Twitter的API页面验证完毕后，会再次跳转会你的 <a href="http://xxx.appspot.com">xxx.appspot.com</a> 的页面，并给你一个表格（如上图），上面显示的是你Twitter的用户名，密钥。在"<span style="color:rgb(255,0,0)">the new key</span>"的栏中，填入你要修改的新的密钥。可以填写你的Twitter密码（但不推荐），一般随便填一个你能记住的单词，网址，邮箱。。。就可以。这个密钥相当于你通过这个API来链接Twitter的一个验证密码。</p>  <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4106/4951302010_bd328f8a96.jpg" alt="" width="500" height="480"></p> <p>一切已经准备就绪，接下来使用那些支持API的客户端来登录你的Twitter就可以了。。。</p> <p>因为我这里的客户端有限（平时我都是用Chrome的扩展来上推的），只测试了 TweetDeck和Spaz两个桌面客户端，非常好用，速度很快。</p> <p>以TweetDeck的设置来举例，进入软件的选项，然后在"Accounts"中，添加或修改你的Twitter帐户，点击"Advanced Options"，输入你的API地址，也就是 "<a href="http://xxx.appspot.com/">http://xxx.appspot.com/</a>"。千万记得最后的斜杠"/"别忘了。。。呵呵。。。然后在上面填上你的Twitter用户名， 和。。。<span style="color:rgb(255,0,0)">不是你Twitter的密码哦</span>。。。呵呵。。。 这里的密码<span style="color:rgb(255,0,0)">要填刚刚上面让你修改的那个API的密钥</span>，就是让你随便改成单词，网址，或邮箱的那个API的密钥。然后保存。。。</p> <p>现在开始。。。你不需要翻墙，也可以用这些支持API的客户端来上推和发推了。。。呵呵。。。：）</p> <p>已经测试过没任何问题的客户端有：TweetDeck，Spaz，以及Chrome浏览器的推特扩展 Chrowety。</p> <p>已知目前无法使用这个API的客户端有：Chrome浏览器的推特扩展 Chrome bird。（这个可以用Chrowety替换，经过长时间的测试，Chrowety现在比以前稳定多了，几乎不再出现发推出囧的BUG了。）</p> <p>最后，附上一张通过个性化API发推的效果截图：</p> <p style="text-align:center"><img title="Twitter API" src="http://76.13.18.79/4104/4951186587_887fc96ce9_z.jpg" alt="" width="390" height="570"></p> <p>至此，整个流程讲解完毕。。。 如果还有疑问，可以在下方留言。</p> <p>如果讲解到这个程度还是无法搭建。。。 我也可以把此教程中搭建的API共享出来给大家使用。。。 但出于种种不可抗拒原因，我不会公开发布。如果需要，请到Twitter上DM找我要（Twitter：@newChen）。（同样出于种种不可抗拒原 因，Follower的数量太少的，即使DM我，可能我也不会回复的。。。抱歉。。。）</p> <p>最后附上一个小段子，小娱乐一下。。。</p> <p>高官：小姑娘，你得小心点！我可是有后台的人！</p> <p>姑娘：你一样也得小心点哦，我可是有Twitter的人。</p> <p>高官：("▔□▔)</p> <p>姑娘：╮(￣▽￣")╭</p> <p>全文完。</p> <p>- 以上 -</p> <p style="text-align:right"><span style="color:rgb(51,102,255)">—————— by：热心于推广翻҉墙҉和推҉特҉的 夜の猫</span></p><br> <div>发一封标题为GFW的邮件到CDTcaonima@gmail.com，就可获取翻墙利器赛风新地址。被墙网站收集：http://delicious.com/GFWbookmark，请使用GFWlist为标签，帮助我们收集被墙网站的信息。敬请订阅GFW Blog：http://feeds2.feedburner.com/chinagfwblog，邮件订阅：https://groups.google.com/group/gfw-blog。更多翻墙工具介绍和下载：
推客浏览器（http://twitbrowser.net/blog/，墙内镜像：http://tm005.nl.am/)，Sesawe（http://www.sesawwe.net/）。翻墙互助小组邮件列表: http://groups.google.com/group/bypassgfw。<img width="1" height="1" src="https://blogger.googleusercontent.com/tracker/5500297126185736776-7356795983705419218?l=www.chinagfw.org" alt=""></div><img src="http://feeds.feedburner.com/~r/chinagfwblog/~4/yBpt_IA1kMs" height="1" width="1"></p>

</div>


            <div class="footer">
              <div class="contact">
                <p>
                  Your Name<br />
                  What You Are<br />
                  your@email.com
                </p>
              </div>
              <div class="contact">
                <p>
                  <a href="http://github.com/yourusername/">github.com/yourusername</a><br />
                  <a href="http://twitter.com/yourusername/">twitter.com/yourusername</a><br />
                </p>
              </div>
            </div>
          </div>
        </div> <!-- /container -->

    </body>
</html>
