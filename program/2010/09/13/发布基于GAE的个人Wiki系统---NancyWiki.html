<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>发布基于GAE的个人Wiki系统 - NancyWiki</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/google_reader/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/google_reader/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/google_reader/">Google Reader</a></h1>
              <a class="extra" href="/google_reader/">home</a>
            </div>

                <h2>发布基于GAE的个人Wiki系统 - NancyWiki</h2>
<p class="meta">2010-09-13 06:16</p>

<div class="post">
<h2>发布基于GAE的个人Wiki系统 - NancyWiki</h2>

<h3>by CoderZh</h3>

<h3>at 2010-09-12 22:16:00</h3>

<h3>original <a href="http://www.cnblogs.com/coderzh/archive/2010/09/12/nancywiki.html">http://www.cnblogs.com/coderzh/archive/2010/09/12/nancywiki.html</a></h3>

<p><a href="http://www.cnblogs.com/coderzh/"><img src="http://pic.cnblogs.com/face/u16913.jpg" alt="" border="0"></a><br>作者: <a href="http://www.cnblogs.com/coderzh/">CoderZh</a> 发表于 2010-09-12 22:16 <a href="http://www.cnblogs.com/coderzh/archive/2010/09/12/nancywiki.html">原文链接</a> 阅读: 995 评论: 12</p>


<h4>介绍</h4>


<p>一个周末的时间，我写了这个Wiki系统。<a href="http://wiki.coderzh.com/"></a><a href="http://wiki.coderzh.com/">NancyWiki</a>是基于<a href="http://appengine.google.com/"></a><a href="http://appengine.google.com/"></a><a href="http://appengine.google.com/">Google App Engine</a>开发的，使用的语言是Python。Wiki标记语言采用的是Markdown，因为它简单，易用。</p>


<div>NancyWiki致力于打造用户真正想要的个人Wiki系统。多看书，多学习，多记笔记，就用NancyWiki！ </div>


<p>NancyWiki尊崇的原则：尽量保持简单，实用。NancyWiki保持了代码的精简，一共3个python文件：main.py, models.py, views.py。同时，提供了完善的换肤功能，让用户更加简单的DIY自己的Wiki皮肤，现themes目录提供了simple和plain两套皮肤，可以在设置页面随时进行切换。<br><br></p>


<h4>试用</h4>


<p>NancyWiki提供了一个<a href="http://wiki.coderzh.com/demo"></a><a href="http://wiki.coderzh.com/demo"></a><a href="http://wiki.coderzh.com/demo">Demo</a>页面，任何人都可以对这个页面进行编辑。心动不如行动，赶紧<a href="http://wiki.coderzh.com/demo">体验</a>一下吧。<br><br></p>


<h4>下载</h4>


<p>NancyWiki是开放所有源代码的，任何人下载源码，申请一个<a href="http://appengine.google.com/">Google App Engine</a>账号，就可以部署完全属于自己的Wiki系统。</p>


<p>Google Code主页: <a href="http://code.google.com/p/nancywiki/">http://code.google.com/p/nancywiki/</a></p>


<p>下载1.0稳定版本：<a href="http://nancywiki.googlecode.com/files/nancywiki1.0.7z">http://nancywiki.googlecode.com/files/nancywiki1.0.7z</a></p>


<p>获取最新代码：</p>


<div>
<div><span style="color:#000000">hg clone https:</span><span style="color:#000000">//</span><span style="color:#000000">nancywiki.googlecode.com</span><span style="color:#000000">/</span><span style="color:#000000">hg</span><span style="color:#000000">/</span><span style="color:#000000"> nancywiki</span></div></div>




<h4><br>安装</h4>


<p><code></code><a href="http://disqus.com/"></a><a href="http://disqus.com/"></a></p>


<p>下载了源码后，打开app.yaml文件，修改application字段为你的GAE应用的名称：  <br></p>


<div><div><span style="color:#000000">application: yourappname</span></div></div>


<p>然后，由于NancyWiki本身不提供评论系统（简单原则），而是在模板里挂接<a href="http://disqus.com/">Disqus</a>的评论系统。因此，如果想使用Disqus评论系统，请先注册一个<a href="http://disqus.com/">Disqus</a>账号，然后学习一下用法。待你了解差不多之后，回过头来，修改一下wiki.html模板中的评论部分的代码为你自己的Disqus代码。 </p>


<div>
<div><span style="color:#0000ff">&lt;</span><span style="color:#800000">div </span><span style="color:#ff0000">id</span><span style="color:#0000ff">="comments"</span><span style="color:#0000ff">&gt;</span><span style="color:#000000"><br>    </span><span style="color:#0000ff">&lt;</span><span style="color:#800000">div </span><span style="color:#ff0000">id</span><span style="color:#0000ff">="disqus_thread"</span><span style="color:#0000ff">&gt;&lt;/</span><span style="color:#800000">div</span><span style="color:#0000ff">&gt;</span><span style="color:#000000"><br>    </span><span style="color:#0000ff">&lt;</span><span style="color:#800000">script </span><span style="color:#ff0000">type</span><span style="color:#0000ff">="text/javascript"</span><span style="color:#0000ff">&gt;</span><span style="color:#000000;background-color:#f5f5f5"><br></span><span style="color:#000000;background-color:#f5f5f5">        disqus_developer </span><span style="color:#000000;background-color:#f5f5f5">=</span><span style="color:#000000;background-color:#f5f5f5"> </span><span style="color:#000000;background-color:#f5f5f5">1</span><span style="color:#000000;background-color:#f5f5f5">;<br></span><span style="color:#000000;background-color:#f5f5f5">        (</span><span style="color:#0000ff;background-color:#f5f5f5">function</span><span style="color:#000000;background-color:#f5f5f5">() {<br>            </span><span style="color:#0000ff;background-color:#f5f5f5">var</span><span style="color:#000000;background-color:#f5f5f5"> dsq </span><span style="color:#000000;background-color:#f5f5f5">=</span><span style="color:#000000;background-color:#f5f5f5"> document.createElement(</span><span style="color:#000000;background-color:#f5f5f5">'</span><span style="color:#000000;background-color:#f5f5f5">script</span><span style="color:#000000;background-color:#f5f5f5">'</span><span style="color:#000000;background-color:#f5f5f5">); dsq.type </span><span style="color:#000000;background-color:#f5f5f5">=</span><span style="color:#000000;background-color:#f5f5f5"> </span><span style="color:#000000;background-color:#f5f5f5">'</span><span style="color:#000000;background-color:#f5f5f5">text/javascript</span><span style="color:#000000;background-color:#f5f5f5">'</span><span style="color:#000000;background-color:#f5f5f5">; dsq.async </span><span style="color:#000000;background-color:#f5f5f5">=</span><span style="color:#000000;background-color:#f5f5f5"> </span><span style="color:#0000ff;background-color:#f5f5f5">true</span><span style="color:#000000;background-color:#f5f5f5">;<br></span><span style="color:#000000;background-color:#f5f5f5">            dsq.src </span><span style="color:#000000;background-color:#f5f5f5">=</span><span style="color:#000000;background-color:#f5f5f5"> </span><span style="color:#000000;background-color:#f5f5f5">'</span><span style="color:#000000;background-color:#f5f5f5">http://nancywiki.disqus.com/embed.js</span><span style="color:#000000;background-color:#f5f5f5">'</span><span style="color:#000000;background-color:#f5f5f5">;<br></span><span style="color:#000000;background-color:#f5f5f5">            (document.getElementsByTagName(</span><span style="color:#000000;background-color:#f5f5f5">'</span><span style="color:#000000;background-color:#f5f5f5">head</span><span style="color:#000000;background-color:#f5f5f5">'</span><span style="color:#000000;background-color:#f5f5f5">)[</span><span style="color:#000000;background-color:#f5f5f5">0</span><span style="color:#000000;background-color:#f5f5f5">] </span><span style="color:#000000;background-color:#f5f5f5">||</span><span style="color:#000000;background-color:#f5f5f5"> document.getElementsByTagName(</span><span style="color:#000000;background-color:#f5f5f5">'</span><span style="color:#000000;background-color:#f5f5f5">body</span><span style="color:#000000;background-color:#f5f5f5">'</span><span style="color:#000000;background-color:#f5f5f5">)[</span><span style="color:#000000;background-color:#f5f5f5">0</span><span style="color:#000000;background-color:#f5f5f5">]).appendChild(dsq);<br></span><span style="color:#000000;background-color:#f5f5f5">        })();<br>    </span><span style="color:#0000ff">&lt;/</span><span style="color:#800000">script</span><span style="color:#0000ff">&gt;</span><span style="color:#000000"><br>    </span><span style="color:#0000ff">&lt;</span><span style="color:#800000">noscript</span><span style="color:#0000ff">&gt;</span><span style="color:#000000">Please enable JavaScript to view the </span><span style="color:#0000ff">&lt;</span><span style="color:#800000">a </span><span style="color:#ff0000">href</span><span style="color:#0000ff">="http://disqus.com/?ref_noscript=nancywiki"</span><span style="color:#0000ff">&gt;</span><span style="color:#000000">comments powered by Disqus.</span><span style="color:#0000ff">&lt;/</span><span style="color:#800000">a</span><span style="color:#0000ff">&gt;&lt;/</span><span style="color:#800000">noscript</span><span style="color:#0000ff">&gt;</span><span style="color:#000000"><br></span><span style="color:#0000ff">&lt;/</span><span style="color:#800000">div</span><span style="color:#0000ff">&gt;</span></div></div>


<p> 配置完了，上传： </p>


<div>
<div><span style="color:#000000">python appcfg.py update yourappname</span></div></div>


<p>太棒了，赶紧体验一下吧，访问：http://yourappname.appspot.com/</p>


<h4><br>使用</h4>


<div>
<ul><li>
<p>新建页面</p>
<p>在浏览器的地址栏里输入任意不存在的地址，将会创建一个默认的页面（实际并未写入数据库），点击<strong>编辑</strong>按钮，进入页面的编辑页面。或者，先编辑页面内容中的地址超链接，通过点击超链接创建新页面。 <code>[New Page](link)</code> 效果：<a href="http://wiki.coderzh.com/link">New Page</a></p></li><li>
<p>编辑页面</p>
<p>点击<strong>编辑</strong>按钮，进入传说中的<em>所想即所得</em>编辑界面。为了方便编写Markdown内容，我使用了<a href="http://www.wmd-editor.com/">wmd</a>（The Wysiwym Markdown Editor）编辑器。可以用鼠标，正所谓：所点即所想，所想即所得。你在编辑的任何时候，都可以即时的查看到预览的效果。（就在编辑页面的下方）。更多Markdown语法，详见：<a href="http://en.wikipedia.org/wiki/Markdown">http://en.wikipedia.org/wiki/Markdown</a></p></li><li>
<p>删除页面</p>
<p>我不提供删除页面功能，如果这个页面当初不需要，为什么创建出来呢？既然已经来到了人世，何不改头换面呢？</p></li><li>
<p>设置</p>
<p>设置页面，可以设置网站的标题，谷歌搜索的域名（由于GAE拒不提供like语法，只能借助Google搜索），Wiki皮肤。</p></li></ul></div>


<h4><br>截图<br><br></h4>


<h3><img alt="" src="http://images.cnblogs.com/cnblogs_com/coderzh/nancywiki/nancywiki.jpg" border="0" height="692" width="1030"></h3>


<p> </p>


<p> 我的个人Wiki：<a href="http://wiki.coderzh.com/">http://wiki.coderzh.com</a><br></p>


<p>体验地址：<a href="http://wiki.coderzh.com/demo">http://wiki.coderzh.com/demo</a></p>


<p> </p>


<p><img src="http://www.cnblogs.com/coderzh/aggbug/1824582.html?type=1" width="1" height="1" alt=""><p>评论: 12　<a href="http://www.cnblogs.com/coderzh/archive/2010/09/12/nancywiki.html#pagedcomment">查看评论</a>　<a href="http://www.cnblogs.com/coderzh/archive/2010/09/12/nancywiki.html#commentform">发表评论</a></p><p><a href="http://job.cnblogs.com/">程序员找工作，就在博客园</a></p><hr><p>最新新闻：<br>· <a href="http://news.cnblogs.com/n/74089/">百度推出快搜客户端：构建移动互联网入口</a><span style="color:gray">(2010-09-13 15:08)</span><br>· <a href="http://news.cnblogs.com/n/74088/">iPhone 4停止赠送手机套 用户有需求可申请</a><span style="color:gray">(2010-09-13 14:59)</span><br>· <a href="http://news.cnblogs.com/n/74087/">阿里出让支付宝：舍不得孩子套不着狼</a><span style="color:gray">(2010-09-13 14:53)</span><br>· <a href="http://news.cnblogs.com/n/74086/">携程的“碳补偿”创意</a><span style="color:gray">(2010-09-13 14:42)</span><br>· <a href="http://news.cnblogs.com/n/74085/">为什么诺基亚弃 Android 是犯下了大错？</a><span style="color:gray">(2010-09-13 14:35)</span><br></p><p>编辑推荐：<a href="http://news.cnblogs.com/n/73985/">2010年9月编程语言排行榜：Perl 不走寻常路</a><br></p><p>网站导航：<a href="http://www.cnblogs.com">博客园首页</a>  <a href="http://home.cnblogs.com/">个人主页</a>  <a href="http://news.cnblogs.com">新闻</a>  <a href="http://home.cnblogs.com/ing/">闪存</a>  <a href="http://home.cnblogs.com/group/">小组</a>  <a href="http://space.cnblogs.com/q/">博问</a>  <a href="http://space.cnblogs.com">社区</a>  <a href="http://kb.cnblogs.com">知识库</a></p></p>

</div>


            <div class="footer">
              <div class="contact">
                <p>
                  Your Name<br />
                  What You Are<br />
                  your@email.com
                </p>
              </div>
              <div class="contact">
                <p>
                  <a href="http://github.com/lyuehh/">github.com/lyuehh</a><br />
                  <a href="http://twitter.com/lyuehh/">twitter.com/lyuehh</a><br />
                </p>
              </div>
            </div>
          </div>
        </div> <!-- /container -->

    </body>
</html>
