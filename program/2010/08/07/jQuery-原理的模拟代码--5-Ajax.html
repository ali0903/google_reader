<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>jQuery 原理的模拟代码 -5 Ajax</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/google_reader/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/google_reader/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/google_reader/">Google Reader</a></h1>
              <a class="extra" href="/google_reader/">home</a>
            </div>

                <h2>jQuery 原理的模拟代码 -5 Ajax</h2>
<p class="meta">2010-08-07 19:22</p>

<div class="post">
<h2>jQuery 原理的模拟代码 -5 Ajax</h2>

<h3>by haogj</h3>

<h3>at 2010-08-07 11:22:00</h3>

<h3>original <a href="http://www.cnblogs.com/haogj/archive/2010/08/07/1794618.html">http://www.cnblogs.com/haogj/archive/2010/08/07/1794618.html</a></h3>

<p>作者: <a href="http://www.cnblogs.com/haogj/">haogj</a> 发表于 2010-08-07 11:22 <a href="http://www.cnblogs.com/haogj/archive/2010/08/07/1794618.html">原文链接</a> 阅读: 963 评论: 1</p>


<p> </p>


<p>对于 xhr 对象来说，我们主要通过异步方式访问服务器，在 onreadystatechange 事件中处理服务器回应的内容。简单的 xhr 使用如下所示。</p>


<p> </p>


<div>
<div><span style="color:#008080"> 1</span> <span style="color:#008000">//</span><span style="color:#008000"> 创建 XHR 对象</span><span style="color:#008000"><br></span><span style="color:#008080"> 2</span> <span style="color:#008000"></span><span style="color:#0000ff">var</span><span style="color:#000000"> xhr;<br></span><span style="color:#008080"> 3</span> <span style="color:#000000"></span><span style="color:#0000ff">if</span><span style="color:#000000"> (window.XMLHttpRequest) {<br></span><span style="color:#008080"> 4</span> <span style="color:#000000">    xhr </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#0000ff">new</span><span style="color:#000000"> XMLHttpRequest();<br></span><span style="color:#008080"> 5</span> <span style="color:#000000">}<br></span><span style="color:#008080"> 6</span> <span style="color:#000000"></span><span style="color:#0000ff">else</span><span style="color:#000000"> </span><span style="color:#0000ff">if</span><span style="color:#000000"> (window.ActiveXObject) {<br></span><span style="color:#008080"> 7</span> <span style="color:#000000">    xhr </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#0000ff">new</span><span style="color:#000000"> ActiveXObject(</span><span style="color:#000000">"</span><span style="color:#000000">Msxml2.XMLHTTP</span><span style="color:#000000">"</span><span style="color:#000000">);<br></span><span style="color:#008080"> 8</span> <span style="color:#000000">}<br></span><span style="color:#008080"> 9</span> <span style="color:#000000"></span><span style="color:#0000ff">else</span><span style="color:#000000"> {<br></span><span style="color:#008080">10</span> <span style="color:#000000">    </span><span style="color:#0000ff">throw</span><span style="color:#000000"> </span><span style="color:#0000ff">new</span><span style="color:#000000"> Error(</span><span style="color:#000000">"</span><span style="color:#000000">Ajax is not supported by this browser</span><span style="color:#000000">"</span><span style="color:#000000">);<br></span><span style="color:#008080">11</span> <span style="color:#000000">}<br></span><span style="color:#008080">12</span> <span style="color:#000000"><br></span><span style="color:#008080">13</span> <span style="color:#000000"></span><span style="color:#0000ff">function</span><span style="color:#000000"> ready()<br></span><span style="color:#008080">14</span> <span style="color:#000000">{<br></span><span style="color:#008080">15</span> <span style="color:#000000">    alert(</span><span style="color:#000000">"</span><span style="color:#000000">Start......</span><span style="color:#000000">"</span><span style="color:#000000">);<br></span><span style="color:#008080">16</span> <span style="color:#000000">                <br></span><span style="color:#008080">17</span> <span style="color:#000000">    </span><span style="color:#008000">//</span><span style="color:#008000"> 通过事件来处理异步请求</span><span style="color:#008000"><br></span><span style="color:#008080">18</span> <span style="color:#008000"></span><span style="color:#000000">    xhr.onreadystatechange </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#0000ff">function</span><span style="color:#000000">()<br></span><span style="color:#008080">19</span> <span style="color:#000000">    {<br></span><span style="color:#008080">20</span> <span style="color:#000000">        </span><span style="color:#0000ff">if</span><span style="color:#000000">( xhr.readyState </span><span style="color:#000000">==</span><span style="color:#000000"> </span><span style="color:#000000">4</span><span style="color:#000000"> )<br></span><span style="color:#008080">21</span> <span style="color:#000000">        {<br></span><span style="color:#008080">22</span> <span style="color:#000000">            alert( </span><span style="color:#000000">"</span><span style="color:#000000">Ready.</span><span style="color:#000000">"</span><span style="color:#000000">);<br></span><span style="color:#008080">23</span> <span style="color:#000000">            </span><span style="color:#0000ff">if</span><span style="color:#000000">( xhr.status </span><span style="color:#000000">==</span><span style="color:#000000"> </span><span style="color:#000000">200</span><span style="color:#000000"> )<br></span><span style="color:#008080">24</span> <span style="color:#000000">            {<br></span><span style="color:#008080">25</span> <span style="color:#000000">                alert(</span><span style="color:#000000">"</span><span style="color:#000000">成功获得服务器返回的结果.</span><span style="color:#000000">"</span><span style="color:#000000">);<br></span><span style="color:#008080">26</span> <span style="color:#000000">                            <br></span><span style="color:#008080">27</span> <span style="color:#000000">                </span><span style="color:#008000">//</span><span style="color:#008000"> 请求结束之后，可以获取服务器返回的内容</span><span style="color:#008000"><br></span><span style="color:#008080">28</span> <span style="color:#008000"></span><span style="color:#000000">                alert( xhr.responseText );<br></span><span style="color:#008080">29</span> <span style="color:#000000">                <br></span><span style="color:#008080">30</span> <span style="color:#000000">                </span><span style="color:#008000">//</span><span style="color:#008000"> 获取服务器返回的 json 对象</span><span style="color:#008000"><br></span><span style="color:#008080">31</span> <span style="color:#008000"></span><span style="color:#000000">                </span><span style="color:#0000ff">var</span><span style="color:#000000"> alice </span><span style="color:#000000">=</span><span style="color:#000000"> eval( </span><span style="color:#000000">"</span><span style="color:#000000">(</span><span style="color:#000000">"</span><span style="color:#000000"> </span><span style="color:#000000">+</span><span style="color:#000000"> xhr.responseText </span><span style="color:#000000">+</span><span style="color:#000000"> </span><span style="color:#000000">"</span><span style="color:#000000">)</span><span style="color:#000000">"</span><span style="color:#000000">   );<br></span><span style="color:#008080">32</span> <span style="color:#000000">                alert( alice.name );<br></span><span style="color:#008080">33</span> <span style="color:#000000">            }<br></span><span style="color:#008080">34</span> <span style="color:#000000">        }<br></span><span style="color:#008080">35</span> <span style="color:#000000">    };<br></span><span style="color:#008080">36</span> <span style="color:#000000">                <br></span><span style="color:#008080">37</span> <span style="color:#000000">    </span><span style="color:#008000">//</span><span style="color:#008000"> 设置请求参数</span><span style="color:#008000"><br></span><span style="color:#008080">38</span> <span style="color:#008000"></span><span style="color:#000000">    xhr.open(</span><span style="color:#000000">"</span><span style="color:#000000">get</span><span style="color:#000000">"</span><span style="color:#000000">, </span><span style="color:#000000">"</span><span style="color:#000000">data.json</span><span style="color:#000000">"</span><span style="color:#000000"> );<br></span><span style="color:#008080">39</span> <span style="color:#000000">    xhr.send( </span><span style="color:#0000ff">null</span><span style="color:#000000"> );<br></span><span style="color:#008080">40</span> <span style="color:#000000">}</span></div></div>


<p> </p>


<p> </p>


<p> </p>


<p>jQuery 简单地包装了对 xhr 对象的使用，通过对 jQuery 对象增加常用的访问方法，然后，提供给 jQuery 对象来使用。</p>


<p> </p>


<div>
<div><span style="color:#008080"> 1</span> <span style="color:#008000">//</span><span style="color:#008000"> 主要的扩展在 jQuery.ajax 中。</span><span style="color:#008000"><br></span><span style="color:#008080"> 2</span> <span style="color:#008000"></span><span style="color:#000000">jQuery.extend({     </span><span style="color:#008000">//</span><span style="color:#008000"> #6299</span><span style="color:#008000"><br></span><span style="color:#008080"> 3</span> <span style="color:#008000"></span><span style="color:#000000">    </span><span style="color:#008000">//</span><span style="color:#008000"> 请求的默认参数</span><span style="color:#008000"><br></span><span style="color:#008080"> 4</span> <span style="color:#008000"></span><span style="color:#000000">    ajaxSettings: {<br></span><span style="color:#008080"> 5</span> <span style="color:#000000">        url: location.href,<br></span><span style="color:#008080"> 6</span> <span style="color:#000000">        type: </span><span style="color:#000000">"</span><span style="color:#000000">GET</span><span style="color:#000000">"</span><span style="color:#000000">,<br></span><span style="color:#008080"> 7</span> <span style="color:#000000">        contentType: </span><span style="color:#000000">"</span><span style="color:#000000">application/x-www-form-urlencoded</span><span style="color:#000000">"</span><span style="color:#000000">,<br></span><span style="color:#008080"> 8</span> <span style="color:#000000">        data: </span><span style="color:#0000ff">null</span><span style="color:#000000">,<br></span><span style="color:#008080"> 9</span> <span style="color:#000000">        xhr: window.XMLHttpRequest </span><span style="color:#000000">&amp;&amp;</span><span style="color:#000000"> (window.location.protocol </span><span style="color:#000000">!==</span><span style="color:#000000"> </span><span style="color:#000000">"</span><span style="color:#000000">file:</span><span style="color:#000000">"</span><span style="color:#000000"> </span><span style="color:#000000">||</span><span style="color:#000000"> </span><span style="color:#000000">!</span><span style="color:#000000">window.ActiveXObject) </span><span style="color:#000000">?</span><span style="color:#000000"><br></span><span style="color:#008080">10</span> <span style="color:#000000">            </span><span style="color:#0000ff">function</span><span style="color:#000000"> () {<br></span><span style="color:#008080">11</span> <span style="color:#000000">                </span><span style="color:#0000ff">return</span><span style="color:#000000"> </span><span style="color:#0000ff">new</span><span style="color:#000000"> window.XMLHttpRequest();<br></span><span style="color:#008080">12</span> <span style="color:#000000">            } :<br></span><span style="color:#008080">13</span> <span style="color:#000000">            </span><span style="color:#0000ff">function</span><span style="color:#000000"> () {<br></span><span style="color:#008080">14</span> <span style="color:#000000">                </span><span style="color:#0000ff">try</span><span style="color:#000000"> {<br></span><span style="color:#008080">15</span> <span style="color:#000000">                    </span><span style="color:#0000ff">return</span><span style="color:#000000"> </span><span style="color:#0000ff">new</span><span style="color:#000000"> window.ActiveXObject(</span><span style="color:#000000">"</span><span style="color:#000000">Microsoft.XMLHTTP</span><span style="color:#000000">"</span><span style="color:#000000">);<br></span><span style="color:#008080">16</span> <span style="color:#000000">                } </span><span style="color:#0000ff">catch</span><span style="color:#000000"> (e) { }<br></span><span style="color:#008080">17</span> <span style="color:#000000">            }<br></span><span style="color:#008080">18</span> <span style="color:#000000">        },<br></span><span style="color:#008080">19</span> <span style="color:#000000"><br></span><span style="color:#008080">20</span> <span style="color:#000000">    </span><span style="color:#008000">//</span><span style="color:#008000"> 用来设置 jQuery.ajaxSettings ，设置请求的参数</span><span style="color:#008000"><br></span><span style="color:#008080">21</span> <span style="color:#008000"></span><span style="color:#000000">    ajaxSetup: </span><span style="color:#0000ff">function</span><span style="color:#000000"> (settings) {<br></span><span style="color:#008080">22</span> <span style="color:#000000">        jQuery.extend(jQuery.ajaxSettings, settings);<br></span><span style="color:#008080">23</span> <span style="color:#000000">    },<br></span><span style="color:#008080">24</span> <span style="color:#000000"><br></span><span style="color:#008080">25</span> <span style="color:#000000">    ajax: </span><span style="color:#0000ff">function</span><span style="color:#000000"> (origSettings) {      </span><span style="color:#008000">//</span><span style="color:#008000"> 实际的 ajax 函数</span><span style="color:#008000"><br></span><span style="color:#008080">26</span> <span style="color:#008000"></span><span style="color:#000000">        </span><span style="color:#0000ff">var</span><span style="color:#000000"> s </span><span style="color:#000000">=</span><span style="color:#000000"> jQuery.extend(</span><span style="color:#0000ff">true</span><span style="color:#000000">, {}, jQuery.ajaxSettings, origSettings);<br></span><span style="color:#008080">27</span> <span style="color:#000000"><br></span><span style="color:#008080">28</span> <span style="color:#000000">        </span><span style="color:#008000">//</span><span style="color:#008000"> 创建 xhr 对象</span><span style="color:#008000"><br></span><span style="color:#008080">29</span> <span style="color:#008000"></span><span style="color:#000000">        xhr </span><span style="color:#000000">=</span><span style="color:#000000"> s.xhr();<br></span><span style="color:#008080">30</span> <span style="color:#000000">        </span><span style="color:#008000">//</span><span style="color:#008000"> 回调函数</span><span style="color:#008000"><br></span><span style="color:#008080">31</span> <span style="color:#008000"></span><span style="color:#000000">        </span><span style="color:#0000ff">var</span><span style="color:#000000"> onreadystatechange </span><span style="color:#000000">=</span><span style="color:#000000"> xhr.onreadystatechange </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#0000ff">function</span><span style="color:#000000"> (isTimeout) {<br></span><span style="color:#008080">32</span> <span style="color:#000000">            </span><span style="color:#0000ff">if</span><span style="color:#000000"> (xhr.readyState </span><span style="color:#000000">===</span><span style="color:#000000"> </span><span style="color:#000000">4</span><span style="color:#000000">) {<br></span><span style="color:#008080">33</span> <span style="color:#000000">                </span><span style="color:#0000ff">if</span><span style="color:#000000"> (xhr.status </span><span style="color:#000000">==</span><span style="color:#000000"> </span><span style="color:#000000">200</span><span style="color:#000000">) {<br></span><span style="color:#008080">34</span> <span style="color:#000000">                    s.success.call(origSettings, xhr.responseText);<br></span><span style="color:#008080">35</span> <span style="color:#000000">                }<br></span><span style="color:#008080">36</span> <span style="color:#000000">            }<br></span><span style="color:#008080">37</span> <span style="color:#000000">        };<br></span><span style="color:#008080">38</span> <span style="color:#000000">        <br></span><span style="color:#008080">39</span> <span style="color:#000000">        </span><span style="color:#008000">//</span><span style="color:#008000"> 设置请求参数</span><span style="color:#008000"><br></span><span style="color:#008080">40</span> <span style="color:#008000"></span><span style="color:#000000">        xhr.open(s.type, s.url);<br></span><span style="color:#008080">41</span> <span style="color:#000000"><br></span><span style="color:#008080">42</span> <span style="color:#000000">        </span><span style="color:#008000">//</span><span style="color:#008000"> Send the data    发出请求</span><span style="color:#008000"><br></span><span style="color:#008080">43</span> <span style="color:#008000"></span><span style="color:#000000">        xhr.send(s.data);<br></span><span style="color:#008080">44</span> <span style="color:#000000"><br></span><span style="color:#008080">45</span> <span style="color:#000000">        </span><span style="color:#008000">//</span><span style="color:#008000"> return XMLHttpRequest to allow aborting the request etc.</span><span style="color:#008000"><br></span><span style="color:#008080">46</span> <span style="color:#008000"></span><span style="color:#000000">        </span><span style="color:#0000ff">return</span><span style="color:#000000"> xhr;<br></span><span style="color:#008080">47</span> <span style="color:#000000">    },<br></span><span style="color:#008080">48</span> <span style="color:#000000"><br></span><span style="color:#008080">49</span> <span style="color:#000000">    </span><span style="color:#008000">//</span><span style="color:#008000"> 使用 get 方式发出 ajax 请求的方法</span><span style="color:#008000"><br></span><span style="color:#008080">50</span> <span style="color:#008000"></span><span style="color:#000000">    get: </span><span style="color:#0000ff">function</span><span style="color:#000000"> (url, data, callback, type) {<br></span><span style="color:#008080">51</span> <span style="color:#000000">        </span><span style="color:#008000">//</span><span style="color:#008000"> shift arguments if data argument was omited</span><span style="color:#008000"><br></span><span style="color:#008080">52</span> <span style="color:#008000"></span><span style="color:#000000">        </span><span style="color:#0000ff">if</span><span style="color:#000000"> (jQuery.isFunction(data)) {<br></span><span style="color:#008080">53</span> <span style="color:#000000">            type </span><span style="color:#000000">=</span><span style="color:#000000"> type </span><span style="color:#000000">||</span><span style="color:#000000"> callback;<br></span><span style="color:#008080">54</span> <span style="color:#000000">            callback </span><span style="color:#000000">=</span><span style="color:#000000"> data;<br></span><span style="color:#008080">55</span> <span style="color:#000000">            data </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#0000ff">null</span><span style="color:#000000">;<br></span><span style="color:#008080">56</span> <span style="color:#000000">        }<br></span><span style="color:#008080">57</span> <span style="color:#000000"><br></span><span style="color:#008080">58</span> <span style="color:#000000">        </span><span style="color:#0000ff">return</span><span style="color:#000000"> jQuery.ajax({<br></span><span style="color:#008080">59</span> <span style="color:#000000">            type: </span><span style="color:#000000">"</span><span style="color:#000000">GET</span><span style="color:#000000">"</span><span style="color:#000000">,<br></span><span style="color:#008080">60</span> <span style="color:#000000">            url: url,<br></span><span style="color:#008080">61</span> <span style="color:#000000">            data: data,<br></span><span style="color:#008080">62</span> <span style="color:#000000">            success: callback,<br></span><span style="color:#008080">63</span> <span style="color:#000000">            dataType: type<br></span><span style="color:#008080">64</span> <span style="color:#000000">        });<br></span><span style="color:#008080">65</span> <span style="color:#000000">    }<br></span><span style="color:#008080">66</span> <span style="color:#000000"><br></span><span style="color:#008080">67</span> <span style="color:#000000"><br></span><span style="color:#008080">68</span> <span style="color:#000000">});       </span><span style="color:#008000">//</span><span style="color:#008000"> #6922</span><span style="color:#008000"><br></span><span style="color:#008080">69</span> <span style="color:#008000"></span><span style="color:#000000"><br></span><span style="color:#008080">70</span> <span style="color:#000000"></span><span style="color:#008000">//</span><span style="color:#008000"> 扩展 jQuery 对象，增加 load 方法</span><span style="color:#008000"><br></span><span style="color:#008080">71</span> <span style="color:#008000"></span><span style="color:#000000">jQuery.fn.extend(<br></span><span style="color:#008080">72</span> <span style="color:#000000">    {<br></span><span style="color:#008080">73</span> <span style="color:#000000">        load: </span><span style="color:#0000ff">function</span><span style="color:#000000"> (url) {<br></span><span style="color:#008080">74</span> <span style="color:#000000">            </span><span style="color:#0000ff">var</span><span style="color:#000000"> self </span><span style="color:#000000">=</span><span style="color:#000000"> </span><span style="color:#0000ff">this</span><span style="color:#000000">;<br></span><span style="color:#008080">75</span> <span style="color:#000000">            jQuery.get(url, </span><span style="color:#0000ff">function</span><span style="color:#000000"> (data) {<br></span><span style="color:#008080">76</span> <span style="color:#000000">                self.each(</span><span style="color:#0000ff">function</span><span style="color:#000000"> () {<br></span><span style="color:#008080">77</span> <span style="color:#000000">                    </span><span style="color:#0000ff">this</span><span style="color:#000000">.innerHTML </span><span style="color:#000000">=</span><span style="color:#000000"> data;<br></span><span style="color:#008080">78</span> <span style="color:#000000">                }       <br></span><span style="color:#008080">79</span> <span style="color:#000000">            )  <br></span><span style="color:#008080">80</span> <span style="color:#000000">            }   <br></span><span style="color:#008080">81</span> <span style="color:#000000">        )<br></span><span style="color:#008080">82</span> <span style="color:#000000">        }<br></span><span style="color:#008080">83</span> <span style="color:#000000">    }<br></span><span style="color:#008080">84</span> <span style="color:#000000">)</span></div></div>


<p> </p>


<p><br>在页面中，可以如下使用。</p>


<p> </p>


<div>
<div><span style="color:#008080"> 1</span> <span style="color:#000000">&lt;!</span><span style="color:#000000">DOCTYPE html PUBLIC </span><span style="color:#000000">"</span><span style="color:#000000">-//W3C//DTD XHTML 1.0 Transitional//EN</span><span style="color:#000000">"</span><span style="color:#000000"> </span><span style="color:#000000">"</span><span style="color:#000000">http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd</span><span style="color:#000000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 2</span> <span style="color:#000000"></span><span style="color:#000000">&lt;</span><span style="color:#000000">html xmlns</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">http://www.w3.org/1999/xhtml</span><span style="color:#000000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 3</span> <span style="color:#000000"></span><span style="color:#000000">&lt;</span><span style="color:#000000">head</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 4</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">title</span><span style="color:#000000">&gt;&lt;</span><span style="color:#000000">/</span><span style="color:#000000">title&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 5</span> <span style="color:#000000"></span><span style="color:#000000">&lt;</span><span style="color:#000000">/</span><span style="color:#000000">head&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 6</span> <span style="color:#000000"></span><span style="color:#000000">&lt;</span><span style="color:#000000">body</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 7</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">input type</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">button</span><span style="color:#000000">"</span><span style="color:#000000"> id</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">btn</span><span style="color:#000000">"</span><span style="color:#000000"> value</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">Click me</span><span style="color:#000000">"</span><span style="color:#000000"> </span><span style="color:#000000">/</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 8</span> <span style="color:#000000"></span><span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">div id</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">msg</span><span style="color:#000000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080"> 9</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">/</span><span style="color:#000000">div&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">10</span> <span style="color:#000000"></span><span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">script src</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">jQuery-core.js</span><span style="color:#000000">"</span><span style="color:#000000"> type</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">text/javascript</span><span style="color:#000000">"</span><span style="color:#000000">&gt;&lt;</span><span style="color:#000000">/</span><span style="color:#000000">script&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">11</span> <span style="color:#000000"></span><span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">script src</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">jQuery-event-2.js</span><span style="color:#000000">"</span><span style="color:#000000"> type</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">text/javascript</span><span style="color:#000000">"</span><span style="color:#000000">&gt;&lt;</span><span style="color:#000000">/</span><span style="color:#000000">script&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">12</span> <span style="color:#000000"></span><span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">script src</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">jQuery-data.js</span><span style="color:#000000">"</span><span style="color:#000000"> type</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">text/javascript</span><span style="color:#000000">"</span><span style="color:#000000">&gt;&lt;</span><span style="color:#000000">/</span><span style="color:#000000">script&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">13</span> <span style="color:#000000"></span><span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">script src</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">jQuery-extend.js</span><span style="color:#000000">"</span><span style="color:#000000"> type</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">text/javascript</span><span style="color:#000000">"</span><span style="color:#000000">&gt;&lt;</span><span style="color:#000000">/</span><span style="color:#000000">script&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">14</span> <span style="color:#000000"></span><span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">script src</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">jQuery-ajax.js</span><span style="color:#000000">"</span><span style="color:#000000"> type</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">text/javascript</span><span style="color:#000000">"</span><span style="color:#000000">&gt;&lt;</span><span style="color:#000000">/</span><span style="color:#000000">script&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">15</span> <span style="color:#000000"></span><span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">script type</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">text/javascript</span><span style="color:#000000">"</span><span style="color:#000000">&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">16</span> <span style="color:#000000"><br></span><span style="color:#008080">17</span> <span style="color:#000000">            $(</span><span style="color:#000000">"</span><span style="color:#000000">#btn</span><span style="color:#000000">"</span><span style="color:#000000">).click(</span><span style="color:#0000ff">function</span><span style="color:#000000"> () {<br></span><span style="color:#008080">18</span> <span style="color:#000000">                $(</span><span style="color:#000000">"</span><span style="color:#000000">#msg</span><span style="color:#000000">"</span><span style="color:#000000">).load(</span><span style="color:#000000">"</span><span style="color:#000000">hello.txt</span><span style="color:#000000">"</span><span style="color:#000000">);<br></span><span style="color:#008080">19</span> <span style="color:#000000">            })<br></span><span style="color:#008080">20</span> <span style="color:#000000">        <br></span><span style="color:#008080">21</span> <span style="color:#000000"><br></span><span style="color:#008080">22</span> <span style="color:#000000">    </span><span style="color:#000000">&lt;</span><span style="color:#000000">/</span><span style="color:#000000">script&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">23</span> <span style="color:#000000"></span><span style="color:#000000">&lt;</span><span style="color:#000000">/</span><span style="color:#000000">body&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">24</span> <span style="color:#000000"></span><span style="color:#000000">&lt;</span><span style="color:#000000">/</span><span style="color:#000000">html&gt;</span><span style="color:#000000"><br></span><span style="color:#008080">25</span> <span style="color:#000000"></span></div></div>


<p> </p>


<p><a href="http://www.cnblogs.com/haogj/archive/2010/08/07/1794623.html"><font color="#009933">jQuery 原理的模拟代码 -0 目录</font></a></p>


<p> </p>


<p> </p>


<p><img src="http://www.cnblogs.com/haogj/aggbug/1794618.html?type=1" width="1" height="1" alt=""><p>评论: 1　<a href="http://www.cnblogs.com/haogj/archive/2010/08/07/1794618.html#pagedcomment">查看评论</a>　<a href="http://www.cnblogs.com/haogj/archive/2010/08/07/1794618.html#commentform">发表评论</a></p><p><a href="http://job.cnblogs.com/">程序员找工作，就在博客园</a></p><hr><p>最新新闻：<br>· <a href="http://news.cnblogs.com/n/70294/">盛大电子书明天启动内测</a><span style="color:gray">(2010-08-08 20:24)</span><br>· <a href="http://news.cnblogs.com/n/70287/">Youtube终于在Windows Phone 7上现身</a><span style="color:gray">(2010-08-08 18:11)</span><br>· <a href="http://news.cnblogs.com/n/70289/">美国大学校园苹果电脑份额逼近Windows PC</a><span style="color:gray">(2010-08-08 18:08)</span><br>· <a href="http://news.cnblogs.com/n/70286/">Google年龄歧视案正式立项</a><span style="color:gray">(2010-08-08 15:36)</span><br>· <a href="http://news.cnblogs.com/n/70285/">2010年2季度 Android 销售增长 886%</a><span style="color:gray">(2010-08-08 15:32)</span><br></p><p>编辑推荐：<a href="http://news.cnblogs.com/n/70241/">浅谈大型网站动态应用系统架构</a><br></p><p>网站导航：<a href="http://www.cnblogs.com">博客园首页</a>  <a href="http://home.cnblogs.com/">个人主页</a>  <a href="http://news.cnblogs.com">新闻</a>  <a href="http://home.cnblogs.com/ing/">闪存</a>  <a href="http://home.cnblogs.com/group/">小组</a>  <a href="http://space.cnblogs.com/q/">博问</a>  <a href="http://space.cnblogs.com">社区</a>  <a href="http://kb.cnblogs.com">知识库</a></p></p>

</div>


            <div class="footer">
              <div class="contact">
                <p>
                  Your Name<br />
                  What You Are<br />
                  your@email.com
                </p>
              </div>
              <div class="contact">
                <p>
                  <a href="http://github.com/lyuehh/">github.com/lyuehh</a><br />
                  <a href="http://twitter.com/lyuehh/">twitter.com/lyuehh</a><br />
                </p>
              </div>
            </div>
          </div>
        </div> <!-- /container -->

    </body>
</html>
