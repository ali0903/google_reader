<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Web前端设计模式--制作漂亮的弹出层...</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/google_reader/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/google_reader/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/google_reader/">Google Reader</a></h1>
              <a class="extra" href="/google_reader/">home</a>
            </div>

                <h2>Web前端设计模式--制作漂亮的弹出层...</h2>
<p class="meta">2010-10-29 15:51</p>

<div class="post">
<h2>Web前端设计模式--制作漂亮的弹出层...</h2>

<h3>by 翁智华</h3>

<h3>at 2010-10-29 07:51:00</h3>

<h3>original <a href="http://www.cnblogs.com/wzh2010/archive/2010/10/29/1863884.html">http://www.cnblogs.com/wzh2010/archive/2010/10/29/1863884.html</a></h3>

<p><p><span style="color:#ff0000"><strong> </strong></span></p>
<p><span style="color:#ff0000"><strong>设计场景：</strong></span></p>
<p>       Ben最近在负责一个购书网站，在网站的首页上，有一个叫做“最新上架”的板块，板块的内容比较简单，只有书籍名称，作者姓名和上架时间（如图），当初设计的时候并i没有过于丰富的构思...</p>
<p>      <span style="color:#ff0000"><strong><img src="http://pic002.cnblogs.com/images/2010/167509/2010102820545283.jpg" alt=""></strong></span></p>
<p>       现在问题来了，这个版块不大，更新频率却很高，每天都有十数条最新的信息上去，浏览网站的会员对于最新图书的了解和需求越来越大，因此需要对这个板块进行改良，以满足会员的需求，会员的主要要求有以下几个方面：显示该最新上架的图书的封面缩略图，该图书的名称和作者名称，以及该书部分内容的介绍和作者的简介...</p>
<p>       这下把Ben给愁坏掉了，首页上根本就没有多余的空间，怎么来呈现封面缩略图甚至是内容简介，如果去掉别的板块空间来实现这一板块的扩张，无异于在一家公司以牺牲一个部门来壮大另外一个部门，这是万万不可取的...</p>
<p>       于是Ben想到了以弹出层的方式来显示每条信息的详细内容... </p>
<p> </p>
<p><span style="color:#ff0000"><strong>设计目标:</strong></span></p>
<p><span style="color:#ff0000"><strong>      </strong><span style="color:#000000">在不改变页面结构的情况下，以</span></span><span style="color:#000000">弹出层（</span><span style="color:#000000">用Dom重构的方式来实现元素的追加append</span><span style="color:#000000">和移除remove</span><span style="color:#ff0000"><span style="color:#000000">）的方式提高页面信息量...</span></span></p>
<p><span style="color:#ff0000"><span style="color:#000000"> </span></span></p>
<p><span style="color:#ff0000"><span style="color:#000000"> </span></span></p>
<p><strong><span style="color:#ff0000">解决方案：</span></strong></p>
<p><span style="color:#ff0000"><span style="color:#000000">    首先，我们设计一个Div，样式如下：</span></span></p>
<p><span style="color:#ff0000"><span style="color:#000000">   </span></span></p>
<div><img src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt=""><img src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt=""><span>代码</span>
<div>
<pre><div><span style="color:#800000">  .TipDiv<br>        </span><span style="color:#000000">{</span><span style="color:#ff0000"><br>            width</span><span style="color:#000000">:</span><span style="color:#0000ff">500px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            height</span><span style="color:#000000">:</span><span style="color:#0000ff">120px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            padding</span><span style="color:#000000">:</span><span style="color:#0000ff">8px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            border-top</span><span style="color:#000000">:</span><span style="color:#0000ff">solid 5px #a6c9e2</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            border-bottom</span><span style="color:#000000">:</span><span style="color:#0000ff">solid 5px #a6c9e2</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            border-left</span><span style="color:#000000">:</span><span style="color:#0000ff">solid 1px #a6c9e2</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            border-right</span><span style="color:#000000">:</span><span style="color:#0000ff">solid 1px #a6c9e2</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            background</span><span style="color:#000000">:</span><span style="color:#0000ff">#ffffff</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            z-index</span><span style="color:#000000">:</span><span style="color:#0000ff">10</span><span style="color:#000000">;</span><span style="color:#008000">/*</span><span style="color:#008000">z-index很重要，它决定了Div框在页面上的叠加顺序</span><span style="color:#008000">*/</span><span style="color:#ff0000"><br>            position</span><span style="color:#000000">:</span><span style="color:#0000ff">absolute</span><span style="color:#000000">;</span><span style="color:#008000">/*</span><span style="color:#008000">绝对定位，它决定了该元素可以根据top 和 left 叠在其他元素上</span><span style="color:#008000">*/</span><span style="color:#ff0000"><br>        </span><span style="color:#000000">}</span><span style="color:#800000"><br>        <br>        .TipDiv img<br>        </span><span style="color:#000000">{</span><span style="color:#ff0000"><br>           width</span><span style="color:#000000">:</span><span style="color:#0000ff">110px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>           height</span><span style="color:#000000">:</span><span style="color:#0000ff">110px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>           margin-right</span><span style="color:#000000">:</span><span style="color:#0000ff">36px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>           margin-left</span><span style="color:#000000">:</span><span style="color:#0000ff">10px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>           float</span><span style="color:#000000">:</span><span style="color:#0000ff">left</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>        </span><span style="color:#000000">}</span><span style="color:#800000"> <br>        <br>        .TipDiv span<br>        </span><span style="color:#000000">{</span><span style="color:#ff0000"><br>            </span><span style="color:#008000">/*</span><span style="color:#008000">×</span><span style="color:#008000">*/</span><span style="color:#ff0000"><br>          width</span><span style="color:#000000">:</span><span style="color:#0000ff">340px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>          height</span><span style="color:#000000">:</span><span style="color:#0000ff">110px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>          float</span><span style="color:#000000">:</span><span style="color:#0000ff">left</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>          word-break</span><span style="color:#000000">:</span><span style="color:#0000ff">break-all</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>          border-top</span><span style="color:#000000">:</span><span style="color:#0000ff">dashed 1px #3a7ac8</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>          margin-top</span><span style="color:#000000">:</span><span style="color:#0000ff">8px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>        </span><span style="color:#000000">}</span></div></pre>
</div>
</div>
<p> </p>
<p> </p>
<p>下面是脚本，当鼠标经过的时候才响应弹出框事件：</p>
<p> </p>
<div><img src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt=""><img src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt=""><span>代码</span>
<div>
<pre><div><span style="color:#000000">$(document).ready(</span><span style="color:#0000ff">function</span><span style="color:#000000">(){<br>     </span><span style="color:#008000">//</span><span style="color:#008000">标题鼠标经过</span><span style="color:#008000"><br></span><span style="color:#000000">     $(</span><span style="color:#000000">"</span><span style="color:#000000">ul li a</span><span style="color:#000000">"</span><span style="color:#000000">).mousemove(</span><span style="color:#0000ff">function</span><span style="color:#000000">(e){<br>            $(</span><span style="color:#000000">"</span><span style="color:#000000">.TipDiv</span><span style="color:#000000">"</span><span style="color:#000000">).remove();</span><span style="color:#008000">//</span><span style="color:#008000">若页面上有该元素，则移除该元素...0</span><span style="color:#008000"><br></span><span style="color:#000000">            </span><span style="color:#0000ff">var</span><span style="color:#000000"> x</span><span style="color:#000000">=</span><span style="color:#000000">e.clientX </span><span style="color:#000000">+</span><span style="color:#000000"> </span><span style="color:#000000">10</span><span style="color:#000000">;</span><span style="color:#008000">//</span><span style="color:#008000">获取鼠标的x轴坐标            </span><span style="color:#008000"><br></span><span style="color:#000000">            </span><span style="color:#0000ff">var</span><span style="color:#000000"> y</span><span style="color:#000000">=</span><span style="color:#000000">e.clientY </span><span style="color:#000000">+</span><span style="color:#000000"> </span><span style="color:#000000">10</span><span style="color:#000000">;</span><span style="color:#008000">//</span><span style="color:#008000">获取鼠标的y轴坐标</span><span style="color:#008000"><br></span><span style="color:#000000">            </span><span style="color:#0000ff">var</span><span style="color:#000000"> num</span><span style="color:#000000">=</span><span style="color:#000000">$(</span><span style="color:#0000ff">this</span><span style="color:#000000">).attr(</span><span style="color:#000000">"</span><span style="color:#000000">id</span><span style="color:#000000">"</span><span style="color:#000000">);<br>            </span><span style="color:#0000ff">var</span><span style="color:#000000"> imgs;<br>            </span><span style="color:#0000ff">var</span><span style="color:#000000"> word;<br>            </span><span style="color:#0000ff">var</span><span style="color:#000000"> name;           <br>            <br>            </span><span style="color:#0000ff">switch</span><span style="color:#000000">(num)<br>            {            <br>               </span><span style="color:#0000ff">case</span><span style="color:#000000"> </span><span style="color:#000000">"</span><span style="color:#000000">1</span><span style="color:#000000">"</span><span style="color:#000000">:{ imgs</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">images/mimi.bmp</span><span style="color:#000000">"</span><span style="color:#000000">; name</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">秘密 朗达·拜恩 (Rhonda Byrne)...</span><span style="color:#000000">"</span><span style="color:#000000"> ; word</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">这是一个神圣的秘密花园，住着爱丽丝...</span><span style="color:#000000">"</span><span style="color:#000000"> ; </span><span style="color:#0000ff">break</span><span style="color:#000000">; }<br>               </span><span style="color:#0000ff">case</span><span style="color:#000000"> </span><span style="color:#000000">"</span><span style="color:#000000">2</span><span style="color:#000000">"</span><span style="color:#000000">:{ imgs</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">images/mama.bmp</span><span style="color:#000000">"</span><span style="color:#000000">; name</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">一位母亲的记忆 爱心团...</span><span style="color:#000000">"</span><span style="color:#000000"> ; word</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">这是一个关于母亲的故事，感染了每个中国人，她是一位暴走族母亲，也是一位为儿子捐献肝的母亲，她更是一位伟大的，典型的中国母亲...</span><span style="color:#000000">"</span><span style="color:#000000"> ; </span><span style="color:#0000ff">break</span><span style="color:#000000">; }<br>               </span><span style="color:#0000ff">case</span><span style="color:#000000"> </span><span style="color:#000000">"</span><span style="color:#000000">3</span><span style="color:#000000">"</span><span style="color:#000000">:{ imgs</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">images/nikesong.bmp</span><span style="color:#000000">"</span><span style="color:#000000">; name</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">尼克爷爷讲故事 （巴特沃斯, 漪然）...</span><span style="color:#000000">"</span><span style="color:#000000"> ; word</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">★当今世界最出色的儿童绘本作家、插画家！&lt;br&gt;★获得1992年度英国图书奖(British Book Awards)&lt;br&gt;★全球每15分钟就有一本由他创作的绘本被买走&lt;br&gt;★他的绘本让阅读变得赏心悦目！</span><span style="color:#000000">"</span><span style="color:#000000"> ; </span><span style="color:#0000ff">break</span><span style="color:#000000">; }<br>               </span><span style="color:#0000ff">case</span><span style="color:#000000"> </span><span style="color:#000000">"</span><span style="color:#000000">4</span><span style="color:#000000">"</span><span style="color:#000000">:{ imgs</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">images/lqz.bmp</span><span style="color:#000000">"</span><span style="color:#000000">; name</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">李清照:人生不过一场绚烂花(蔚起)...</span><span style="color:#000000">"</span><span style="color:#000000"> ; word</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">《李清照：人生不过一场绚烂花事》精选易安词作50首，从《武陵春（风住尘香花已尽）》始，至《好事近（风定落花深）》结束。通篇以闲话家常、婉约诚挚的笔法评析、阐释，娓娓道来，不生涩，没有说教。</span><span style="color:#000000">"</span><span style="color:#000000"> ; </span><span style="color:#0000ff">break</span><span style="color:#000000">; }<br>            }<br>            <br>          popDiv(imgs,name,word,x,y); <br>                 <br>    })<br>    <br>    <br>    <br>    </span><span style="color:#008000">//</span><span style="color:#008000">标题鼠标离开</span><span style="color:#008000"><br></span><span style="color:#000000">    $(</span><span style="color:#000000">"</span><span style="color:#000000">ul li a</span><span style="color:#000000">"</span><span style="color:#000000">).mouseout(</span><span style="color:#0000ff">function</span><span style="color:#000000">(){<br>        $(</span><span style="color:#000000">"</span><span style="color:#000000">.TipDiv</span><span style="color:#000000">"</span><span style="color:#000000">).remove();<br>    })   <br><br>})<br><br><br></span><span style="color:#008000">//</span><span style="color:#008000">随鼠标移动的信息框</span><span style="color:#008000"><br></span><span style="color:#0000ff">function</span><span style="color:#000000"> popDiv(face,name,info,xx,yy)<br>{<br>       </span><span style="color:#0000ff">var</span><span style="color:#000000"> str</span><span style="color:#000000">=</span><span style="color:#000000">""</span><span style="color:#000000">;<br>       str</span><span style="color:#000000">+=</span><span style="color:#000000">"</span><span style="color:#000000">&lt;div class=&#39;TipDiv&#39;&gt;</span><span style="color:#000000">"</span><span style="color:#000000">;<br>       str</span><span style="color:#000000">+=</span><span style="color:#000000">"</span><span style="color:#000000">&lt;img alt=&#39;face&#39; src=&#39;</span><span style="color:#000000">"</span><span style="color:#000000">+</span><span style="color:#000000">face</span><span style="color:#000000">+</span><span style="color:#000000">"</span><span style="color:#000000">&#39;/&gt;</span><span style="color:#000000">"</span><span style="color:#000000">;<br>       str</span><span style="color:#000000">+=</span><span style="color:#000000">"</span><span style="color:#000000">&lt;strong&gt;&lt;em&gt;</span><span style="color:#000000">"</span><span style="color:#000000">+</span><span style="color:#000000">name</span><span style="color:#000000">+</span><span style="color:#000000">"</span><span style="color:#000000">&lt;/em&gt;&lt;/strong&gt;&lt;br /&gt;</span><span style="color:#000000">"</span><span style="color:#000000">;<br>       str</span><span style="color:#000000">+=</span><span style="color:#000000">"</span><span style="color:#000000">&lt;span&gt;</span><span style="color:#000000">"</span><span style="color:#000000">+</span><span style="color:#000000">info</span><span style="color:#000000">+</span><span style="color:#000000">"</span><span style="color:#000000">&lt;/span&gt;</span><span style="color:#000000">"</span><span style="color:#000000">;<br>       str</span><span style="color:#000000">+=</span><span style="color:#000000">"</span><span style="color:#000000">&lt;div&gt;</span><span style="color:#000000">"</span><span style="color:#000000">;<br>       $(</span><span style="color:#000000">'</span><span style="color:#000000">body</span><span style="color:#000000">'</span><span style="color:#000000">).append(str);</span><span style="color:#008000">//</span><span style="color:#008000">在页面上追加该元素，样式如上已经写好</span><span style="color:#008000"><br></span><span style="color:#000000">       $(</span><span style="color:#000000">"</span><span style="color:#000000">.TipDiv</span><span style="color:#000000">"</span><span style="color:#000000">).css({</span><span style="color:#000000">"</span><span style="color:#000000">top</span><span style="color:#000000">"</span><span style="color:#000000">:yy</span><span style="color:#000000">+</span><span style="color:#000000">"</span><span style="color:#000000">px</span><span style="color:#000000">"</span><span style="color:#000000">,</span><span style="color:#000000">"</span><span style="color:#000000">left</span><span style="color:#000000">"</span><span style="color:#000000">:xx</span><span style="color:#000000">+</span><span style="color:#000000">"</span><span style="color:#000000">px</span><span style="color:#000000">"</span><span style="color:#000000">});</span><span style="color:#008000">//</span><span style="color:#008000">设置该元素出现的位置（这里是出现在鼠标的右边和下边的偏离10px位置）</span><span style="color:#008000"><br></span><span style="color:#000000">}<br></span></div></pre>
</div>
</div>
<p> </p>
<p>结果如下（当鼠标指向第三条数据时，弹出该框， 并随鼠标移动）：</p>
<p><img src="http://pic002.cnblogs.com/images/2010/167509/2010102822322420.jpg" alt=""></p>
<p> </p>
<p>做到这边，会员有了一个新的要求，就是不要弹出框随着鼠标的移动而移动，那样鼠标一旦离开焦点，就会移除该弹出框，操作起来不是很方便。他们要求弹出框固定，假设就在相应的数据行的右侧吧，而且打开和关闭由会员自己控制，于是Ben就进行改良了...</p>
<p>同样的，先设计一个id为tips的Div元素，样式如下：</p>
<p> </p>
<p><span style="color:#ff0000"><strong>
<div><img src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt=""><img src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt=""><span>代码</span>
<div>
<pre><div><span style="color:#800000"> #tips<br>         </span><span style="color:#000000">{</span><span style="color:#ff0000"><br>            background-color</span><span style="color:#000000">:</span><span style="color:#0000ff"> white</span><span style="color:#000000">;</span><span style="color:#ff0000"> <br>            border-left</span><span style="color:#000000">:</span><span style="color:#0000ff"> 1px solid #a6c9e2</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            border-right</span><span style="color:#000000">:</span><span style="color:#0000ff"> 1px solid #a6c9e2</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            border-top</span><span style="color:#000000">:</span><span style="color:#0000ff">5px solid #a6c9e2</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            border-bottom</span><span style="color:#000000">:</span><span style="color:#0000ff">5px solid #a6c9e2</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            width</span><span style="color:#000000">:</span><span style="color:#0000ff">268px</span><span style="color:#000000">;</span><span style="color:#ff0000"> height</span><span style="color:#000000">:</span><span style="color:#0000ff">60px</span><span style="color:#000000">;</span><span style="color:#ff0000"> <br>            z-index</span><span style="color:#000000">:</span><span style="color:#0000ff">9</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            position</span><span style="color:#000000">:</span><span style="color:#0000ff">absolute</span><span style="color:#000000">;</span><span style="color:#ff0000">    <br>            -moz-border-radius</span><span style="color:#000000">:</span><span style="color:#0000ff"> 5px</span><span style="color:#000000">;</span><span style="color:#ff0000"> -webkit-border-radius</span><span style="color:#000000">:</span><span style="color:#0000ff"> 5px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            padding</span><span style="color:#000000">:</span><span style="color:#0000ff">8px 18px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>         </span><span style="color:#000000">}</span><span style="color:#800000"><br>         <br>         /* 弹出层的指向图标，left：-10 使它出现在整个Div的左侧 */<br>         #tips #tipsArrow </span><span style="color:#000000">{</span><span style="color:#ff0000"> position</span><span style="color:#000000">:</span><span style="color:#0000ff">absolute</span><span style="color:#000000">;</span><span style="color:#ff0000"> top</span><span style="color:#000000">:</span><span style="color:#0000ff">26px</span><span style="color:#000000">;</span><span style="color:#ff0000"> left</span><span style="color:#000000">:</span><span style="color:#0000ff"> -10px </span><span style="color:#000000">}</span><span style="color:#800000"><br>         <br>         #tips #light<br>         </span><span style="color:#000000">{</span><span style="color:#ff0000"><br>            width</span><span style="color:#000000">:</span><span style="color:#0000ff">36px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            height</span><span style="color:#000000">:</span><span style="color:#0000ff">36px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            margin</span><span style="color:#000000">:</span><span style="color:#0000ff">6px 16px 16px 16px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>            float</span><span style="color:#000000">:</span><span style="color:#0000ff">left</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>         </span><span style="color:#000000">}</span><span style="color:#800000"><br>         <br>         #tips span<br>         </span><span style="color:#000000">{</span><span style="color:#ff0000"><br>           margin-top</span><span style="color:#000000">:</span><span style="color:#0000ff">18px</span><span style="color:#000000">;</span><span style="color:#ff0000">    <br>         </span><span style="color:#000000">}</span><span style="color:#800000"><br>         <br>         #tips #close<br>         </span><span style="color:#000000">{</span><span style="color:#ff0000"><br>           width</span><span style="color:#000000">:</span><span style="color:#0000ff">20px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>           height</span><span style="color:#000000">:</span><span style="color:#0000ff">16px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>           border</span><span style="color:#000000">:</span><span style="color:#0000ff">none</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>           z-index</span><span style="color:#000000">:</span><span style="color:#0000ff">1</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>           left</span><span style="color:#000000">:</span><span style="color:#0000ff">280px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>           top</span><span style="color:#000000">:</span><span style="color:#0000ff">6px</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>           position</span><span style="color:#000000">:</span><span style="color:#0000ff">absolute</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>           cursor</span><span style="color:#000000">:</span><span style="color:#0000ff">pointer</span><span style="color:#000000">;</span><span style="color:#ff0000"><br>         </span><span style="color:#000000">}</span></div></pre>
</div>
</div>
</strong></span></p>
<p> </p>
<p>脚本如下：</p>
<p> </p>
<div><img src="http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif" alt=""><img src="http://images.cnblogs.com/OutliningIndicators/ExpandedBlockStart.gif" alt=""><span>代码</span>
<div>
<pre><div><span style="color:#000000">$(document).ready(</span><span style="color:#0000ff">function</span><span style="color:#000000">(){<br>    </span><span style="color:#008000">//</span><span style="color:#008000">时间鼠标经过</span><span style="color:#008000"><br></span><span style="color:#000000">    $(</span><span style="color:#000000">"</span><span style="color:#000000">ul li span</span><span style="color:#000000">"</span><span style="color:#000000">).mouseover(</span><span style="color:#0000ff">function</span><span style="color:#000000">(){<br>        $(</span><span style="color:#000000">"</span><span style="color:#000000">#tips</span><span style="color:#000000">"</span><span style="color:#000000">).remove();<br>        </span><span style="color:#0000ff">var</span><span style="color:#000000"> elem</span><span style="color:#000000">=</span><span style="color:#000000"> $(</span><span style="color:#0000ff">this</span><span style="color:#000000">).parent();<br>        </span><span style="color:#0000ff">var</span><span style="color:#000000"> mTop</span><span style="color:#000000">=</span><span style="color:#000000">elem.offset().top;</span><span style="color:#008000">//</span><span style="color:#008000">获取该元素的top坐标</span><span style="color:#008000"><br></span><span style="color:#000000">        </span><span style="color:#0000ff">var</span><span style="color:#000000"> mLeft</span><span style="color:#000000">=</span><span style="color:#000000">elem.offset().left;</span><span style="color:#008000">//</span><span style="color:#008000">获取该元素的left坐标</span><span style="color:#008000"><br></span><span style="color:#000000">        </span><span style="color:#0000ff">var</span><span style="color:#000000"> addLeft</span><span style="color:#000000">=</span><span style="color:#000000">elem.width();</span><span style="color:#008000">//</span><span style="color:#008000">获取该元素的宽度 </span><span style="color:#008000"><br></span><span style="color:#000000">        <br>        </span><span style="color:#0000ff">var</span><span style="color:#000000"> finalTop</span><span style="color:#000000">=</span><span style="color:#000000">mTop</span><span style="color:#000000">-</span><span style="color:#000000">30</span><span style="color:#000000">;</span><span style="color:#008000">//</span><span style="color:#008000">获取最终元素出现的Top位置，此时-30个元素是提高这个Div的高度，让箭头指向对应行</span><span style="color:#008000"><br></span><span style="color:#000000">        </span><span style="color:#0000ff">var</span><span style="color:#000000"> finalleft</span><span style="color:#000000">=</span><span style="color:#000000">mLeft</span><span style="color:#000000">+</span><span style="color:#000000">addLeft</span><span style="color:#000000">+</span><span style="color:#000000">20</span><span style="color:#000000">; </span><span style="color:#008000">//</span><span style="color:#008000"> 获取最终元素出现Left的，对应行的左边加上行宽加上20个空元素</span><span style="color:#008000"><br></span><span style="color:#000000">        <br>        </span><span style="color:#0000ff">var</span><span style="color:#000000"> num</span><span style="color:#000000">=</span><span style="color:#000000">$(</span><span style="color:#000000">"</span><span style="color:#000000">li</span><span style="color:#000000">"</span><span style="color:#000000">).index(elem)</span><span style="color:#000000">+</span><span style="color:#000000">1</span><span style="color:#000000">;<br>        popDiv1(finalTop,finalleft,</span><span style="color:#000000">"</span><span style="color:#000000">提示框提醒你，这是第</span><span style="color:#000000">"</span><span style="color:#000000">+</span><span style="color:#000000">num</span><span style="color:#000000">+</span><span style="color:#000000">"</span><span style="color:#000000">行数据!</span><span style="color:#000000">"</span><span style="color:#000000">);<br>    }) <br>    <br>})<br><br><br></span><span style="color:#008000">//</span><span style="color:#008000">固定的信息框</span><span style="color:#008000"><br></span><span style="color:#0000ff">function</span><span style="color:#000000"> popDiv1(tops,lefts,messages)<br>{<br>   </span><span style="color:#0000ff">var</span><span style="color:#000000"> str</span><span style="color:#000000">=</span><span style="color:#000000">""</span><span style="color:#000000">;<br>   str</span><span style="color:#000000">=</span><span style="color:#000000">"</span><span style="color:#000000">&lt;div id=&#39;tips&#39;&gt;&lt;img id=&#39;tipsArrow&#39; src=&#39;images/arrow.png&#39; alt=&#39;&#39;/&gt;&lt;img id=&#39;close&#39; src=&#39;images/close.jpg&#39; alt=&#39;&#39; onclick=&#39;closeUp()&#39;/&gt;&lt;img src=&#39;images/light.gif&#39; alt=&#39;&#39; id=&#39;light&#39;/&gt;&lt;p&gt;</span><span style="color:#000000">"</span><span style="color:#000000">+</span><span style="color:#000000">messages</span><span style="color:#000000">+</span><span style="color:#000000">"</span><span style="color:#000000">&lt;/p&gt;&lt;/div&gt;</span><span style="color:#000000">"</span><span style="color:#000000">;<br>   $(</span><span style="color:#000000">'</span><span style="color:#000000">body</span><span style="color:#000000">'</span><span style="color:#000000">).append(str);<br>   $(</span><span style="color:#000000">"</span><span style="color:#000000">#tips</span><span style="color:#000000">"</span><span style="color:#000000">).css({</span><span style="color:#000000">"</span><span style="color:#000000">top</span><span style="color:#000000">"</span><span style="color:#000000">:tops</span><span style="color:#000000">+</span><span style="color:#000000">"</span><span style="color:#000000">px</span><span style="color:#000000">"</span><span style="color:#000000">,</span><span style="color:#000000">"</span><span style="color:#000000">left</span><span style="color:#000000">"</span><span style="color:#000000">:lefts</span><span style="color:#000000">+</span><span style="color:#000000">"</span><span style="color:#000000">px</span><span style="color:#000000">"</span><span style="color:#000000">});<br>}<br><br></span><span style="color:#0000ff">function</span><span style="color:#000000"> closeUp()<br>{<br>    $(</span><span style="color:#000000">"</span><span style="color:#000000">#tips</span><span style="color:#000000">"</span><span style="color:#000000">).remove();<br>}</span></div></pre>
</div>
</div>
<p>最终显示效果如下：</p>
<p> </p>
<p> <span style="color:#ff0000"><strong><img src="http://pic002.cnblogs.com/images/2010/167509/2010102907311487.jpg" alt=""></strong></span></p>
<p><span style="color:#ff0000"><strong><img src="http://pic002.cnblogs.com/images/2010/167509/2010102907321613.jpg" alt=""></strong></span></p>
<p><span style="color:#000000">鼠标移动到相应的数据行上面，显示相应的提示框，右边的打叉小图标用以关闭整个弹出层...</span></p>
<p> </p>
<p><span style="color:#ff0000"><strong>设计小结：</strong></span></p>
<p><span style="color:#ff0000"><strong>     </strong><span style="color:#000000">这个设计过程的关键是position：absolute（绝对定位，作用是让层在页面上叠加），z-index（用以显示层的叠加次序），top、left（显示弹出页面坐标），（offset().left,offset().top）在页面上找到某个元素的坐标，位置找到了，就可以随意在它的周边定位弹出层了，其他的样式可以根据自己的美工需求随意调节...</span></span></p>
<p> </p>
<p><span style="color:#ff0000"><span style="color:#000000">    源码下载（<a href="http://files.cnblogs.com/wzh2010/popDiv.rar">http://files.cnblogs.com/wzh2010/popDiv.rar</a>）</span></span></p><img src="http://www.cnblogs.com/wzh2010/aggbug/1863884.html?type=1" width="1" height="1" alt=""><p>作者: <a href="http://www.cnblogs.com/wzh2010/">翁智华</a> 发表于 2010-10-29 07:51 <a href="http://www.cnblogs.com/wzh2010/archive/2010/10/29/1863884.html">原文链接</a></p><p>评论: 34　<a href="http://www.cnblogs.com/wzh2010/archive/2010/10/29/1863884.html#pagedcomment">查看评论</a>　<a href="http://www.cnblogs.com/wzh2010/archive/2010/10/29/1863884.html#commentform">发表评论</a></p><hr><p>最新新闻：<br>· <a href="http://news.cnblogs.com/n/79085/">给普通网民的一封信——360VS腾讯战争的真相</a><span style="color:gray">(2010-10-30 08:57)</span><br>· <a href="http://news.cnblogs.com/n/79084/">苹果在线商店遭黄牛洗劫 iPhone4已停售</a><span style="color:gray">(2010-10-30 08:43)</span><br>· <a href="http://news.cnblogs.com/n/79083/">Mozilla Labs扩展提供浏览器视频音频录制功能</a><span style="color:gray">(2010-10-30 08:35)</span><br>· <a href="http://news.cnblogs.com/n/79082/">Adobe 展示 Flash 转换为 HTML5 的工具</a><span style="color:gray">(2010-10-30 08:24)</span><br>· <a href="http://news.cnblogs.com/n/79081/">谷歌今年已完成40笔并购交易</a><span style="color:gray">(2010-10-30 08:22)</span><br></p><p>编辑推荐：<a href="http://news.cnblogs.com/n/79067/">听说，250干110的事儿，那就是360了</a><br></p><p>网站导航：<a href="http://www.cnblogs.com">博客园首页</a>  <a href="http://home.cnblogs.com/">我的园子</a>  <a href="http://news.cnblogs.com">新闻</a>  <a href="http://home.cnblogs.com/ing/">闪存</a>  <a href="http://home.cnblogs.com/group/">小组</a>  <a href="http://space.cnblogs.com/q/">博问</a>  <a href="http://kb.cnblogs.com">知识库</a></p></p>


</div>


            <div class="footer">
              <div class="contact">
                <p>
                  Your Name<br />
                  What You Are<br />
                  your@email.com
                </p>
              </div>
              <div class="contact">
                <p>
                  <a href="http://github.com/lyuehh/">github.com/lyuehh</a><br />
                  <a href="http://twitter.com/lyuehh/">twitter.com/lyuehh</a><br />
                </p>
              </div>
            </div>
          </div>
        </div> <!-- /container -->

    </body>
</html>
