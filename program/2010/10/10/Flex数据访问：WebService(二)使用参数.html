<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Flex数据访问：WebService(二)使用参数</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/">Your New Jekyll Site</a></h1>
              <a class="extra" href="/">home</a>
            </div>

                <h2>Flex数据访问：WebService(二)使用参数</h2>
<p class="meta">10 Oct 2010</p>

<div class="post">
<h2>Flex数据访问：WebService(二)使用参数</h2>

<h3>by Asharp</h3>

<h3>at 2010-10-09 23:12:00</h3>

<h3>original <a href="http://www.cnblogs.com/zhaozhan/archive/2010/10/09/1846947.html">http://www.cnblogs.com/zhaozhan/archive/2010/10/09/1846947.html</a></h3>

<p>作者: <a href="http://www.cnblogs.com/zhaozhan/">Asharp</a> 发表于 2010-10-09 23:12 <a href="http://www.cnblogs.com/zhaozhan/archive/2010/10/09/1846947.html">原文链接</a> 阅读: 347 评论: 1</p>


<p>      <a href="http://www.cnblogs.com/zhaozhan/archive/2010/10/08/1846170.html">上一篇</a>介绍Flex的WebService的使用，可以调用多种类型的数据，都是直接调用，没有使用参数，本篇学习使用参数调用WebService，WebService的参数类型可以是：简单类型（如数值，字串串等），简单实体模型（只有属性），比较复杂的实体模型（内陷其他实体），以及集合，XML等。</p>


<p> <p>      Flex在调用不同后台实现的Web Method方式只是在构造参数有些区别，调用方式是一样的，以下简单介绍Flex调用.NET的Web Method使用不同参数。</p> <p>      定义Web Method用到的类：</p> <div><pre><span> 1:      </span>[<span style="color:#2b91af">Serializable</span>]</pre><pre><span> 2:  </span>    <span style="color:blue">public class </span><span style="color:#2b91af">Employee</span></pre><pre><span> 3:  </span><span style="color:#2b91af">    </span>{</pre><pre><span> 4:  </span>        <span style="color:blue">public int </span>id { <span style="color:blue">get</span>; <span style="color:blue">set</span>; }</pre><pre><span> 5:  </span>        <span style="color:blue">public string </span>name { <span style="color:blue">get</span>; <span style="color:blue">set</span>; }</pre><pre><span> 6:  </span>        <span style="color:blue">public int </span>age { <span style="color:blue">get</span>; <span style="color:blue">set</span>; }</pre><pre><span> 7:  </span>    }</pre><pre><span> 8:  </span> </pre><pre><span> 9:  </span>    [<span style="color:#2b91af">Serializable</span>]</pre><pre><span>10:  </span>    <span style="color:blue">public class </span><span style="color:#2b91af">Dept</span></pre><pre><span>11:  </span><span style="color:#2b91af">    </span>{</pre><pre><span>12:  </span>        <span style="color:blue">public int </span>DeptID{ <span style="color:blue">get</span>; <span style="color:blue">set</span>; }</pre><pre><span>13:  </span>        <span style="color:blue">public string </span>DeptName { <span style="color:blue">get</span>; <span style="color:blue">set</span>; }</pre><pre><span>14:  </span>        <span style="color:blue">public </span><span style="color:#2b91af">Employee</span>[] Employees { <span style="color:blue">get</span>; <span style="color:blue">set</span>; }</pre><pre><span>15:  </span>    }</pre><pre><span>16:  </span> </pre></div></p>

<p>       一、简单类型参数</p>


<p>      Web Method定义：</p>


<div><pre><span> 1:          </span>[<span style="color:#2b91af">WebMethod</span>]</pre><pre><span> 2:  </span>        <span style="color:blue">public </span><span style="color:#2b91af">Employee </span>GetEmployee(<span style="color:blue">int </span>id)</pre><pre><span> 3:  </span>        {</pre><pre><span> 4:  </span>            <span style="color:blue">return new </span><span style="color:#2b91af">Employee</span></pre><pre><span> 5:  </span><span style="color:#2b91af">            </span>{</pre><pre><span> 6:  </span>                id = id,</pre><pre><span> 7:  </span>                name = <span style="color:#a31515">"Employee"</span>+id,</pre><pre><span> 8:  </span>                age = 25</pre><pre><span> 9:  </span>            };</pre><pre><span>10:  </span>        }</pre><pre><span>11:  </span> </pre></div>




<p>      Flex可以直接定义operation的时候定义requests：</p>


<div><pre><span> 1:  </span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</pre><pre><span> 2:  </span><span style="color:blue">&lt;mx:Application </span>xmlns:mx="<span style="color:#990000">http://www.adobe.com/2006/mxml</span>" layout="<span style="color:#990000">absolute</span>"<span style="color:blue">&gt;</span></pre><pre><span> 3:  </span><span style="color:blue">    </span><span style="color:#006633">&lt;mx:Script&gt;</span></pre><pre><span> 4:  </span><span style="color:#006633">        </span>&lt;![CDATA[</pre><pre><span> 5:  </span>            <span style="color:#0033ff">import </span>mx.rpc.soap.mxml.Operation;</pre><pre><span> 6:  </span>            <span style="color:#0033ff">import </span>mx.collections.ArrayCollection;</pre><pre><span> 7:  </span>            <span style="color:#0033ff">import </span>mx.rpc.events.FaultEvent;</pre><pre><span> 8:  </span>            <span style="color:#0033ff">import </span>mx.rpc.events.ResultEvent;</pre><pre><span> 9:  </span>            <span style="color:#0033ff">import </span>mx.controls.Alert;</pre><pre><span>10:  </span>            <span style="color:#0033ff">private </span><span style="color:#339966">function </span>onResult(event:ResultEvent):<span style="color:#0033ff">void</span></pre><pre><span>11:  </span><span style="color:#0033ff">            </span>{</pre><pre><span>12:  </span>                <span style="color:#6699cc">var </span>msg:String=<span style="color:#990000">"ID:"</span>+event.result.id+<span style="color:#990000">"\n"</span>+</pre><pre><span>13:  </span>                        <span style="color:#990000">"Name:"</span>+event.result.name+<span style="color:#990000">"\n"</span>+</pre><pre><span>14:  </span>                        <span style="color:#990000">"Age:"</span>+event.result.age;</pre><pre><span>15:  </span>                Alert.show(msg);</pre><pre><span>16:  </span>            }</pre><pre><span>17:  </span> </pre><pre><span>18:  </span>            <span style="color:#0033ff">private </span><span style="color:#339966">function </span>onFault(event:FaultEvent):<span style="color:#0033ff">void</span></pre><pre><span>19:  </span><span style="color:#0033ff">            </span>{</pre><pre><span>20:  </span>               Alert.show(<span style="color:#990000">"Error："</span>+event.message);</pre><pre><span>21:  </span>            }</pre><pre><span>22:  </span> </pre><pre><span>23:  </span>            <span style="color:#0033ff">private </span><span style="color:#339966">function </span>GetEmployee():<span style="color:#0033ff">void</span></pre><pre><span>24:  </span><span style="color:#0033ff">            </span>{</pre><pre><span>25:  </span>                MyService.GetEmployee.send();</pre><pre><span>26:  </span>            }</pre><pre><span>27:  </span>        ]]&gt;</pre><pre><span>28:  </span>    <span style="color:#006633">&lt;/mx:Script&gt;</span></pre><pre><span>29:  </span><span style="color:#006633">    </span></pre><pre><span>30:  </span><span style="color:#006633">    </span><span style="color:blue">&lt;mx:Button </span>label="<span style="color:#990000">GetEmployee</span>" click="GetEmployee()"<span style="color:blue">/&gt;</span></pre><pre><span>31:  </span><span style="color:blue">    </span></pre><pre><span>32:  </span><span style="color:blue">    &lt;mx:WebService </span>id="<span style="color:#990000">MyService</span>" wsdl="<span style="color:#990000">http://localhost:4081/Flex.asmx?WSDL</span>" useProxy="<span style="color:#990000">false</span>"</pre><pre><span>33:  </span>     result="onResult(event)" fault="onFault(event)"<span style="color:blue">&gt;</span></pre><pre><span>34:  </span><span style="color:blue">        &lt;mx:operation </span>name="<span style="color:#990000">GetEmployee</span>"<span style="color:blue">&gt;</span></pre><pre><span>35:  </span><span style="color:blue">            &lt;mx:request </span>xmlns=""<span style="color:blue">&gt;</span></pre><pre><span>36:  </span><span style="color:blue">                &lt;id&gt;</span>1<span style="color:blue">&lt;/id&gt;</span></pre><pre><span>37:  </span><span style="color:blue">            &lt;/mx:request&gt;</span></pre><pre><span>38:  </span><span style="color:blue">        &lt;/mx:operation&gt;</span></pre><pre><span>39:  </span><span style="color:blue">    &lt;/mx:WebService&gt;</span></pre><pre><span>40:  </span><span style="color:blue">&lt;/mx:Application&gt;</span></pre></div>




<p>       运行结果：</p>


<p><a href="http://images.cnblogs.com/cnblogs_com/zhaozhan/WindowsLiveWriter/FlexWebService_12E62/image_2.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/zhaozhan/WindowsLiveWriter/FlexWebService_12E62/image_thumb.png" width="197" height="133"></a> </p>


<p></p>


<p>       二、简单对象</p>


<p>      Web Method定义，模拟添加对象：</p>


<div><pre><span>1:  </span>[<span style="color:#2b91af">WebMethod</span>]</pre><pre><span>2:  </span><span style="color:blue">public int </span>AddEmployee(<span style="color:#2b91af">Employee </span>employee)</pre><pre><span>3:  </span>{</pre><pre><span>4:  </span>    <span style="color:blue">return </span>1;</pre><pre><span>5:  </span>}</pre><pre><span>6:  </span> </pre></div>




<p>       Flex前端代码，参数名跟Web Method的参数名一样：</p>


<div><pre><span> 1:  </span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</pre><pre><span> 2:  </span><span style="color:blue">&lt;mx:Application </span>xmlns:mx="<span style="color:#990000">http://www.adobe.com/2006/mxml</span>" layout="<span style="color:#990000">absolute</span>"<span style="color:blue">&gt;</span></pre><pre><span> 3:  </span><span style="color:blue">    </span><span style="color:#006633">&lt;mx:Script&gt;</span></pre><pre><span> 4:  </span><span style="color:#006633">        </span>&lt;![CDATA[</pre><pre><span> 5:  </span>            <span style="color:#0033ff">import </span>mx.rpc.soap.mxml.Operation;</pre><pre><span> 6:  </span>            <span style="color:#0033ff">import </span>mx.collections.ArrayCollection;</pre><pre><span> 7:  </span>            <span style="color:#0033ff">import </span>mx.rpc.events.FaultEvent;</pre><pre><span> 8:  </span>            <span style="color:#0033ff">import </span>mx.rpc.events.ResultEvent;</pre><pre><span> 9:  </span>            <span style="color:#0033ff">import </span>mx.controls.Alert;</pre><pre><span>10:  </span>            <span style="color:#0033ff">private </span><span style="color:#339966">function </span>onResult(event:ResultEvent):<span style="color:#0033ff">void</span></pre><pre><span>11:  </span><span style="color:#0033ff">            </span>{</pre><pre><span>12:  </span>                Alert.show(event.result.toString());</pre><pre><span>13:  </span>            }</pre><pre><span>14:  </span> </pre><pre><span>15:  </span>            <span style="color:#0033ff">private </span><span style="color:#339966">function </span>onFault(event:FaultEvent):<span style="color:#0033ff">void</span></pre><pre><span>16:  </span><span style="color:#0033ff">            </span>{</pre><pre><span>17:  </span>               Alert.show(<span style="color:#990000">"Error："</span>+event.message);</pre><pre><span>18:  </span>            }</pre><pre><span>19:  </span> </pre><pre><span>20:  </span>            <span style="color:#0033ff">private </span><span style="color:#339966">function </span>AddEmployee():<span style="color:#0033ff">void</span></pre><pre><span>21:  </span><span style="color:#0033ff">            </span>{</pre><pre><span>22:  </span>                <span style="color:#6699cc">var </span>emp:Object=<span style="color:#0033ff">new </span>Object();</pre><pre><span>23:  </span>                emp.id=0;</pre><pre><span>24:  </span>                emp.name=<span style="color:#990000">"user1"</span>;</pre><pre><span>25:  </span>                emp.age=20;</pre><pre><span>26:  </span> </pre><pre><span>27:  </span>                MyService.AddEmployee(emp);</pre><pre><span>28:  </span>            }</pre><pre><span>29:  </span>        ]]&gt;</pre><pre><span>30:  </span>    <span style="color:#006633">&lt;/mx:Script&gt;</span></pre><pre><span>31:  </span><span style="color:#006633">    </span></pre><pre><span>32:  </span><span style="color:#006633">    </span><span style="color:blue">&lt;mx:Button </span>label="<span style="color:#990000">AddEmployee</span>" click="AddEmployee()"<span style="color:blue">/&gt;</span></pre><pre><span>33:  </span><span style="color:blue">    </span></pre><pre><span>34:  </span><span style="color:blue">    &lt;mx:WebService </span>id="<span style="color:#990000">MyService</span>" wsdl="<span style="color:#990000">http://localhost:4081/Flex.asmx?WSDL</span>" useProxy="<span style="color:#990000">false</span>"</pre><pre><span>35:  </span>     result="onResult(event)" fault="onFault(event)"<span style="color:blue">&gt;</span></pre><pre><span>36:  </span><span style="color:blue">        &lt;mx:operation </span>name="<span style="color:#990000">AddEmployee</span>"<span style="color:blue">&gt;</span></pre><pre><span>37:  </span><span style="color:blue">        &lt;/mx:operation&gt;</span></pre><pre><span>38:  </span><span style="color:blue">    &lt;/mx:WebService&gt;</span></pre><pre><span>39:  </span><span style="color:blue">&lt;/mx:Application&gt;</span></pre></div>




<p>        运行结果：</p>


<p><a href="http://images.cnblogs.com/cnblogs_com/zhaozhan/WindowsLiveWriter/FlexWebService_12E62/image_4.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/zhaozhan/WindowsLiveWriter/FlexWebService_12E62/image_thumb_1.png" width="199" height="103"></a> </p>


<p>      跟踪Web Method的employee参数：</p>


<p><a href="http://images.cnblogs.com/cnblogs_com/zhaozhan/WindowsLiveWriter/FlexWebService_12E62/image_6.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/zhaozhan/WindowsLiveWriter/FlexWebService_12E62/image_thumb_2.png" width="605" height="92"></a> </p>


<p>       三、对象数组</p>


<p>       Web Method定义，添加多个对象：</p>


<div><pre><span>1:  </span>[<span style="color:#2b91af">WebMethod</span>]</pre><pre><span>2:  </span><span style="color:blue">public int </span>AddEmployees(<span style="color:#2b91af">Employee</span>[] list)</pre><pre><span>3:  </span>{</pre><pre><span>4:  </span>    <span style="color:blue">return </span>list.Length;</pre><pre><span>5:  </span>}</pre><pre><span>6:  </span> </pre></div>




<p>        Flex前端代码：</p>


<div><pre><span> 1:  </span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</pre><pre><span> 2:  </span><span style="color:blue">&lt;mx:Application </span>xmlns:mx="<span style="color:#990000">http://www.adobe.com/2006/mxml</span>" layout="<span style="color:#990000">absolute</span>"<span style="color:blue">&gt;</span></pre><pre><span> 3:  </span><span style="color:blue">    </span><span style="color:#006633">&lt;mx:Script&gt;</span></pre><pre><span> 4:  </span><span style="color:#006633">        </span>&lt;![CDATA[</pre><pre><span> 5:  </span>            <span style="color:#0033ff">import </span>mx.rpc.soap.mxml.Operation;</pre><pre><span> 6:  </span>            <span style="color:#0033ff">import </span>mx.collections.ArrayCollection;</pre><pre><span> 7:  </span>            <span style="color:#0033ff">import </span>mx.rpc.events.FaultEvent;</pre><pre><span> 8:  </span>            <span style="color:#0033ff">import </span>mx.rpc.events.ResultEvent;</pre><pre><span> 9:  </span>            <span style="color:#0033ff">import </span>mx.controls.Alert;</pre><pre><span>10:  </span>            <span style="color:#0033ff">private </span><span style="color:#339966">function </span>onResult(event:ResultEvent):<span style="color:#0033ff">void</span></pre><pre><span>11:  </span><span style="color:#0033ff">            </span>{</pre><pre><span>12:  </span>                Alert.show(event.result.toString());</pre><pre><span>13:  </span>            }</pre><pre><span>14:  </span> </pre><pre><span>15:  </span>            <span style="color:#0033ff">private </span><span style="color:#339966">function </span>onFault(event:FaultEvent):<span style="color:#0033ff">void</span></pre><pre><span>16:  </span><span style="color:#0033ff">            </span>{</pre><pre><span>17:  </span>               Alert.show(<span style="color:#990000">"Error："</span>+event.message);</pre><pre><span>18:  </span>            }</pre><pre><span>19:  </span> </pre><pre><span>20:  </span>            <span style="color:#0033ff">private </span><span style="color:#339966">function </span>AddEmployee():<span style="color:#0033ff">void</span></pre><pre><span>21:  </span><span style="color:#0033ff">            </span>{</pre><pre><span>22:  </span>                <span style="color:#6699cc">var </span>empArr:Array=<span style="color:#0033ff">new </span>Array();</pre><pre><span>23:  </span>                empArr.push({id:0,name:<span style="color:#990000">"user1"</span>,age:22});</pre><pre><span>24:  </span>                empArr.push({id:0,name:<span style="color:#990000">"user2"</span>,age:23});</pre><pre><span>25:  </span>                empArr.push({id:0,name:<span style="color:#990000">"user3"</span>,age:25});</pre><pre><span>26:  </span> </pre><pre><span>27:  </span>                MyService.AddEmployees(empArr);</pre><pre><span>28:  </span>            }</pre><pre><span>29:  </span>        ]]&gt;</pre><pre><span>30:  </span>    <span style="color:#006633">&lt;/mx:Script&gt;</span></pre><pre><span>31:  </span><span style="color:#006633">    </span></pre><pre><span>32:  </span><span style="color:#006633">    </span><span style="color:blue">&lt;mx:Button </span>label="<span style="color:#990000">AddEmployee</span>" click="AddEmployee()"<span style="color:blue">/&gt;</span></pre><pre><span>33:  </span><span style="color:blue">    </span></pre><pre><span>34:  </span><span style="color:blue">    &lt;mx:WebService </span>id="<span style="color:#990000">MyService</span>" wsdl="<span style="color:#990000">http://localhost:4081/Flex.asmx?WSDL</span>" useProxy="<span style="color:#990000">false</span>"</pre><pre><span>35:  </span>     result="onResult(event)" fault="onFault(event)"<span style="color:blue">&gt;</span></pre><pre><span>36:  </span><span style="color:blue">        &lt;mx:operation </span>name="<span style="color:#990000">AddEmployees</span>"<span style="color:blue">&gt;</span></pre><pre><span>37:  </span><span style="color:blue">        &lt;/mx:operation&gt;</span></pre><pre><span>38:  </span><span style="color:blue">    &lt;/mx:WebService&gt;</span></pre><pre><span>39:  </span><span style="color:blue">&lt;/mx:Application&gt;</span></pre></div>




<p>        运行结果：</p>


<p> <a href="http://images.cnblogs.com/cnblogs_com/zhaozhan/WindowsLiveWriter/FlexWebService_12E62/image_8.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/zhaozhan/WindowsLiveWriter/FlexWebService_12E62/image_thumb_3.png" width="622" height="145"></a> </p>


<p>       四、复杂对象</p>


<p>       Web Method定义：</p>


<div><pre><span>1:  </span>[<span style="color:#2b91af">WebMethod</span>]</pre><pre><span>2:  </span><span style="color:blue">public int </span>AddDept(<span style="color:#2b91af">Dept </span>dept)</pre><pre><span>3:  </span>{</pre><pre><span>4:  </span>    <span style="color:blue">return </span>1;</pre><pre><span>5:  </span>}</pre><pre><span>6:  </span> </pre></div>




<p>       Flex前端代码：</p>


<div><pre><span> 1:  </span>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</pre><pre><span> 2:  </span><span style="color:blue">&lt;mx:Application </span>xmlns:mx="<span style="color:#990000">http://www.adobe.com/2006/mxml</span>" layout="<span style="color:#990000">absolute</span>"<span style="color:blue">&gt;</span></pre><pre><span> 3:  </span><span style="color:blue">    </span><span style="color:#006633">&lt;mx:Script&gt;</span></pre><pre><span> 4:  </span><span style="color:#006633">        </span>&lt;![CDATA[</pre><pre><span> 5:  </span>            <span style="color:#0033ff">import </span>mx.rpc.soap.mxml.Operation;</pre><pre><span> 6:  </span>            <span style="color:#0033ff">import </span>mx.collections.ArrayCollection;</pre><pre><span> 7:  </span>            <span style="color:#0033ff">import </span>mx.rpc.events.FaultEvent;</pre><pre><span> 8:  </span>            <span style="color:#0033ff">import </span>mx.rpc.events.ResultEvent;</pre><pre><span> 9:  </span>            <span style="color:#0033ff">import </span>mx.controls.Alert;</pre><pre><span>10:  </span>            <span style="color:#0033ff">private </span><span style="color:#339966">function </span>onResult(event:ResultEvent):<span style="color:#0033ff">void</span></pre><pre><span>11:  </span><span style="color:#0033ff">            </span>{</pre><pre><span>12:  </span>                Alert.show(event.result.toString());</pre><pre><span>13:  </span>            }</pre><pre><span>14:  </span> </pre><pre><span>15:  </span>            <span style="color:#0033ff">private </span><span style="color:#339966">function </span>onFault(event:FaultEvent):<span style="color:#0033ff">void</span></pre><pre><span>16:  </span><span style="color:#0033ff">            </span>{</pre><pre><span>17:  </span>               Alert.show(<span style="color:#990000">"Error：</span>+event.message);</pre><pre><span>18:  </span>            }</pre><pre><span>19:  </span> </pre><pre><span>20:  </span>            <span style="color:#0033ff">private </span><span style="color:#339966">function </span>AddDept():<span style="color:#0033ff">void</span></pre><pre><span>21:  </span><span style="color:#0033ff">            </span>{</pre><pre><span>22:  </span>                <span style="color:#6699cc">var </span>empArr:Array=<span style="color:#0033ff">new </span>Array();</pre><pre><span>23:  </span>                empArr.push({id:0,name:<span style="color:#990000">"user1"</span>,age:22});</pre><pre><span>24:  </span>                empArr.push({id:0,name:<span style="color:#990000">"user2"</span>,age:23});</pre><pre><span>25:  </span>                empArr.push({id:0,name:<span style="color:#990000">"user3"</span>,age:25});</pre><pre><span>26:  </span> </pre><pre><span>27:  </span>                <span style="color:#6699cc">var </span>dept:Object=<span style="color:#0033ff">new </span>Object();</pre><pre><span>28:  </span>                dept.DeptID=1;</pre><pre><span>29:  </span>                dept.DeptName=<span style="color:#990000">"dept1"</span>;</pre><pre><span>30:  </span>                dept.Employees=empArr;</pre><pre><span>31:  </span> </pre><pre><span>32:  </span>                MyService.AddDept(dept);</pre><pre><span>33:  </span>            }</pre><pre><span>34:  </span>        ]]&gt;</pre><pre><span>35:  </span>    <span style="color:#006633">&lt;/mx:Script&gt;</span></pre><pre><span>36:  </span><span style="color:#006633">    </span></pre><pre><span>37:  </span><span style="color:#006633">    </span><span style="color:blue">&lt;mx:Button </span>label="<span style="color:#990000">AddDept</span>" click="AddDept()"<span style="color:blue">/&gt;</span></pre><pre><span>38:  </span><span style="color:blue">    </span></pre><pre><span>39:  </span><span style="color:blue">    &lt;mx:WebService </span>id="<span style="color:#990000">MyService</span>" wsdl="<span style="color:#990000">http://localhost:4081/Flex.asmx?WSDL</span>" useProxy="<span style="color:#990000">false</span>"</pre><pre><span>40:  </span>     result="onResult(event)" fault="onFault(event)"<span style="color:blue">&gt;</span></pre><pre><span>41:  </span><span style="color:blue">        &lt;mx:operation </span>name="<span style="color:#990000">AddDept</span>"<span style="color:blue">&gt;</span></pre><pre><span>42:  </span><span style="color:blue">        &lt;/mx:operation&gt;</span></pre><pre><span>43:  </span><span style="color:blue">    &lt;/mx:WebService&gt;</span></pre><pre><span>44:  </span><span style="color:blue">&lt;/mx:Application&gt;</span></pre></div>




<p>        运行结果：</p>


<p><a href="http://images.cnblogs.com/cnblogs_com/zhaozhan/WindowsLiveWriter/FlexWebService_12E62/image_10.png"><img style="border-bottom:0px;border-left:0px;display:inline;border-top:0px;border-right:0px" title="image" border="0" alt="image" src="http://images.cnblogs.com/cnblogs_com/zhaozhan/WindowsLiveWriter/FlexWebService_12E62/image_thumb_4.png" width="653" height="196"></a></p>


<p><img src="http://www.cnblogs.com/zhaozhan/aggbug/1846947.html?type=1" width="1" height="1" alt=""><p>评论: 1　<a href="http://www.cnblogs.com/zhaozhan/archive/2010/10/09/1846947.html#pagedcomment">查看评论</a>　<a href="http://www.cnblogs.com/zhaozhan/archive/2010/10/09/1846947.html#commentform">发表评论</a></p><p><a href="http://job.cnblogs.com/">程序员找工作，就在博客园</a></p><hr><p>最新新闻：<br>· <a href="http://news.cnblogs.com/n/76781/">WP7发布时至少提供2000款应用程序</a><span style="color:gray">(2010-10-10 11:19)</span><br>· <a href="http://news.cnblogs.com/n/76780/">详解Foursquare长达11小时的宕机</a><span style="color:gray">(2010-10-10 11:13)</span><br>· <a href="http://news.cnblogs.com/n/76779/">全国首例互联网电视案落判：TCL迅雷等被判赔钱</a><span style="color:gray">(2010-10-10 10:45)</span><br>· <a href="http://news.cnblogs.com/n/76778/">JavaOne大会重点强调了移动和JavaFX，舍弃了JavaFX脚本</a><span style="color:gray">(2010-10-10 10:36)</span><br>· <a href="http://news.cnblogs.com/n/76777/">甲骨文收购企业单一登录软件提供商Passlogix</a><span style="color:gray">(2010-10-10 10:28)</span><br></p><p>编辑推荐：<a href="http://news.cnblogs.com/n/76477/">远离.NET</a><br></p><p>网站导航：<a href="http://www.cnblogs.com">博客园首页</a>  <a href="http://home.cnblogs.com/">个人主页</a>  <a href="http://news.cnblogs.com">新闻</a>  <a href="http://home.cnblogs.com/ing/">闪存</a>  <a href="http://home.cnblogs.com/group/">小组</a>  <a href="http://space.cnblogs.com/q/">博问</a>  <a href="http://space.cnblogs.com">社区</a>  <a href="http://kb.cnblogs.com">知识库</a></p></p>

</div>


            <div class="footer">
              <div class="contact">
                <p>
                  Your Name<br />
                  What You Are<br />
                  your@email.com
                </p>
              </div>
              <div class="contact">
                <p>
                  <a href="http://github.com/yourusername/">github.com/yourusername</a><br />
                  <a href="http://twitter.com/yourusername/">twitter.com/yourusername</a><br />
                </p>
              </div>
            </div>
          </div>
        </div> <!-- /container -->

    </body>
</html>
