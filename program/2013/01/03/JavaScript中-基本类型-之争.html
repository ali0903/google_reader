<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>JavaScript中“基本类型”之争</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/google_reader/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/google_reader/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/google_reader/">Google Reader</a></h1>
              <a class="extra" href="/google_reader/">home</a>
            </div>

                <h2>JavaScript中“基本类型”之争</h2>
<p class="meta">2013-01-03 04:01</p>

<div class="post">
<h2>JavaScript中“基本类型”之争</h2>

<h3>by snandy</h3>

<h3>at 2013-01-02 20:01:00</h3>

<h3>original <a href="http://www.cnblogs.com/snandy/archive/2013/01/02/2841899.html">http://www.cnblogs.com/snandy/archive/2013/01/02/2841899.html</a></h3>

<p>前端面试中常被问到的问题之一就是“JavaScript的基本类型有几种？”。</p>


<p>有的回答“数字、字符串、布尔”，有的可能会再加上“Null、Undefined”。而有人可能认为“object”也是基本类型。到底是什么样呢？</p>


<p> </p>


<p>所谓“基本类型（primitive types）”的概念ECMAScript（V3，V5）中压根就没有，它只是将类型分为6种。</p>


<p><img src="http://images.cnitblog.com/blog/114013/201301/02181433-2db13cc1e60c4b339985b0604ae3e93b.png" alt=""></p>


<p>ECMAScript只提到类型，用types表示，在V3，V5整个文档搜关键字“primitive”也没见“primitive type”，“primitive value”倒是有，如true/false/0-9等。这说明规范压根就没有所谓的“基本类型”、“原始类型”一说（primitive types）。如果非要说有那么object明显也是，即有6种基本类型。</p>


<p> </p>


<p>一些书籍却经常使用这个概念，如《JavaScript高级程序设计》第一版、第二版，第三版。</p>


<p>第一版提到有5种原始类型，即Undefined、Null、Boolean、Number、String</p>


<p><img src="http://images.cnitblog.com/blog/114013/201301/02181152-8b7d9fdf209145e79cd2fd605189f91d.png" alt=""></p>


<p>第二版和第三版又搞出了个simple data type，翻译为简单数据类型（也称为基本数据类型），称对象为复杂数据类型。</p>


<p><img src="http://images.cnitblog.com/blog/114013/201301/02181225-3b681340896f4d3b8b373ac49e6411c8.png" alt=""></p>


<p> </p>


<p>另一本经典书《JavaScript权威指南（第6版）》第3章也提到了primitive types</p>


<p><img src="http://images.cnitblog.com/blog/114013/201301/02183139-fd074a6f52904e74a8ca939445729c54.png" alt=""></p>


<p>先分为基本类型（primitive types）和对象类型，基本类型又分为数字，字符串，布尔，及两个特殊null，undefined。</p>


<p> </p>


<p>5年前JavaScript方面的书籍还很少，这两本书就是其中之二，影响也很大，可谓经典。因此受此影响的JSer不乏少数。我想书作者把语言类型分为基本类型（元类型）和对象类型（复杂类型）也是符合学习逻辑的，复杂类型由简单类型组合而成。另外也是受到其它语言如Java的影响，它们也是把类型分为基本类型（8种）和对象类型。</p>


<p>但ECMAScript中没有所谓的primitive types，就好比它没有类（class）的概念一样（具有其它语言能力的人仍然喜欢在JavaScript使用名词“类”）。它里面提到的就是类型，可以把它理解成基本类型，但也应该是6种。这里的基本类型也不是Java中的基本类型，因为它包含了复杂数据类型-对象。</p>


<p> </p>


<p>不是所有的书都认为JavaScript中基本类型只有5种（不包括对象），《JavaScript语言精髓与编程实践》认为是6种，如下</p>


<p><img src="http://images.cnitblog.com/blog/114013/201301/02194540-3638b7efe5a54f8197d22c3bb61ba80a.png" alt=""></p>


<p>它没有将null归为其中，却增加了function类型。 它的依据是typeof的结果只有6种（仅含ES自身，不包括宿主对象），如下</p>


<div style="background-color:#f5f5f5;border:1px solid #cccccc;padding:10px">var a = 1, b = '2', c = true, d, e = null, f = function(){}<br><br>typeof a === 'number'; // true<br>typeof b === 'string';    // true<br>typeof c === 'boolean'; // true<br>typeof d === 'undefined'; // true<br>typeof e === 'object'; // true<br>typeof f === 'function'; // true<br></div>


<p>一共是6中类型，注意null的类型时object。有的书说null的实现是当初的一个错误，谁知道呢。</p>


<p> </p>


<p>我们来看wiki中<a href="http://en.wikipedia.org/wiki/Primitive_data_type"><strong>基本数据类型</strong></a>的定义</p>


<ul><li><span style="color:#999999"><em>a basic type is a <a title="Data type" href="http://en.wikipedia.org/wiki/Data_type"><span style="color:#999999">data type</span></a> provided by a <a title="Programming language" href="http://en.wikipedia.org/wiki/Programming_language"><span style="color:#999999">programming language</span></a> as a basic building block. Most languages allow more complicated <a title="Composite type" href="http://en.wikipedia.org/wiki/Composite_type"><span style="color:#999999">composite types</span></a> to be recursively constructed starting from basic types.</em></span></li><li><span style="color:#999999"><em>a built-in type is a data type for which the programming language provides built-in support. </em></span><em style="color:#999999"><span style="color:#999999">In most programming languages, all basic data types are built-in. In addition, many languages also provide a set of composite data types. Opinions vary as to whether a built-in type that is not basic should be considered "primitive".</span></em></li></ul>


<p> </p>


<p>翻译以下</p>


<ul><li><span style="color:#999999">基本类型是这样一种数据类型，它是由编程语言提供的最基本的构建块，多数语言还允许众多复杂的由基本类型组成的复合数据类型</span></li><li><span style="color:#999999">内置类型是由编程语言自身提供的类型，多数编程语中所有的基本类型都是内置的。此外，很多语言还提供一组复合数据类型。一个内置类型是不是该认为是“原始的”的类型这个一直存在争议。</span></li></ul>


<p> </p>


<p>下次再有人问这个问题如何作答呢？</p>


<p> </p>


<p><img src="http://www.cnblogs.com/snandy/aggbug/2841899.html?type=1" width="1" height="1" alt=""><p><a href="http://www.cnblogs.com/snandy/archive/2013/01/02/2841899.html">本文链接</a></p></p>

</div>


            <div class="footer">
              <div class="contact">
                <p>
                  Your Name<br />
                  What You Are<br />
                  your@email.com
                </p>
              </div>
              <div class="contact">
                <p>
                  <a href="http://github.com/lyuehh/">github.com/lyuehh</a><br />
                  <a href="http://twitter.com/lyuehh/">twitter.com/lyuehh</a><br />
                </p>
              </div>
            </div>
          </div>
        </div> <!-- /container -->

    </body>
</html>
