<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>【外刊IT评论网】HTML 5 的自定义 data-* 属性和jquery的data()方法的使用</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/google_reader/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/google_reader/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/google_reader/">Google Reader</a></h1>
              <a class="extra" href="/google_reader/">home</a>
            </div>

                <h2>【外刊IT评论网】HTML 5 的自定义 data-* 属性和jquery的data()方法的使用</h2>
<p class="meta">2012-07-03 08:06</p>

<div class="post">
<h2>【外刊IT评论网】HTML 5 的自定义 data-* 属性和jquery的data()方法的使用</h2>

<h3>by Aqee</h3>

<h3>at 2012-07-03 00:06:30</h3>

<h3>original <a href="http://aqee.feedsportal.com/c/34519/f/631690/s/20eea03b/l/0L0Saqee0Bnet0Chtml0E50Edata0Eattributes0Ehow0Eto0Euse0Ethem0Eand0Ewhy0C/story01.htm">http://aqee.feedsportal.com/c/34519/f/631690/s/20eea03b/l/0L0Saqee0Bnet0Chtml0E50Edata0Eattributes0Ehow0Eto0Euse0Ethem0Eand0Ewhy0C/story01.htm</a></h3>

<p><br><p>人们总喜欢往HTML标签上添加自定义属性来存储和操作数据。但这样做的问题是，你不知道将来会不会有其它脚本把你的自定义属性给重置掉，<span></span>此外，你这样做也会导致html语法上不符合Html规范，以及一些其它副作用。这就是为什么在HTML5规范里增加了一个<a href="http://dev.w3.org/html5/spec/global-attributes.html#embedding-custom-non-visible-data-with-the-data-attributes">自定义data属性</a>，你可以拿它做很多有用的事情。</p> <p>你可以去读一下HTML5的详细规范，但这个自定义data属性的用法非常的简单，就是你可以往HTML标签上添加任意以 <code>"data-"</code>开头的属性，这些属性页面上是不显示的，它不会影响到你的页面布局和风格，但它却是可读可写的。</p> <p>下面的一个代码片段是一个有效的HTML5标记：</p> <pre> &lt;div id=&quot;awesome&quot; data-myid=&quot;3e4ae6c4e&quot;&gt;Some awesome data&lt;/div&gt;</pre> <p>可是，怎么来读取这些数据呢？你当然可以遍历页面元素来读取你想要的属性，但jquery已经内置了方法来操作这些属性。使用jQuery的<a href="http://api.jquery.com/data/">.data()</a>方法来访问这些<code>"data-<em>" </code>属性。其中一个方法就是<code> .data(obj)</code>，这个方法是在<a href="http://api.jquery.com/category/version/1.4.3/"> jQuery1.4.3</a>版本后出现的，它能返回相应的data属性。</p> <p>举个例子，你可以用下面的写法读取 <code>data-myid</code>属性值：</p> <pre> var myid= jQuery("#awesome").data('myid'); console.log(myid);</pre> <p>你还可以在<code>"data-</em>" </code>属性里使用json语法，例如，如果你写出下面的html：</p> <pre>&lt;div id=&quot;awesome-json&quot; data-awesome=&#39;{&quot;game&quot;:&quot;on&quot;}&#39;&gt;&lt;/div&gt;</pre> <p>你可以通过js直接访问这个数据，通过json的key值，你能得到相应的value：</p> <pre>var gameStatus= jQuery("#awesome-json").data('awesome').game; console.log(gameStatus);</pre> <p>你也可以通过<code>.data(key,value)</code>方法直接给<code>"data-<em>" </code>属性赋值。一个重要的你要注意的事情是，这些<code>"data-</em>" </code>属性应该和它所在的元素有一定的关联，不要把它当成存放任意东西的存储工具。</p> <p><strong>译者补充：</strong>尽管<code>"data-<em>" </code>是HTML5才出现的属性，但jquery是通用的，所以，在非HTML5的页面或浏览器里，你仍然可以使用<code>.data(obj)</code>方法来操作<code>"data-</em>" </code>数据。</p> <hr>本文来自<a href="http://www.aqee.net">外刊IT评论网</a>(<a href="http://www.aqee.net">www.aqee.net</a>)，原始地址：<a href="http://www.aqee.net/html-5-data-attributes-how-to-use-them-and-why/" rel="bookmark">HTML 5 的自定义 data-* 属性和jquery的data()方法的使用</a><br><img width="1" height="1" src="http://aqee.feedsportal.com/c/34519/f/631690/s/20eea03b/mf.gif" border="0"><div><table border="0"><tr><td valign="middle"><a href="http://share.feedsportal.com/viral/sendEmail.cfm?lang=en&amp;title=%E3%80%90%E5%A4%96%E5%88%8AIT%E8%AF%84%E8%AE%BA%E7%BD%91%E3%80%91HTML+5+%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89+data-*+%E5%B1%9E%E6%80%A7%E5%92%8Cjquery%E7%9A%84data%28%29%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8&amp;link=http%3A%2F%2Fwww.aqee.net%2Fhtml-5-data-attributes-how-to-use-them-and-why%2F"><img src="http://res3.feedsportal.com/images/emailthis2.gif" border="0"></a></td><td valign="middle"><a href="http://res.feedsportal.com/viral/bookmark.cfm?title=%E3%80%90%E5%A4%96%E5%88%8AIT%E8%AF%84%E8%AE%BA%E7%BD%91%E3%80%91HTML+5+%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89+data-*+%E5%B1%9E%E6%80%A7%E5%92%8Cjquery%E7%9A%84data%28%29%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8&amp;link=http%3A%2F%2Fwww.aqee.net%2Fhtml-5-data-attributes-how-to-use-them-and-why%2F"><img src="http://res3.feedsportal.com/images/bookmark.gif" border="0"></a></td></tr></table></div><br><br><a href="http://da.feedsportal.com/r/138509802297/u/0/f/631690/c/34519/s/20eea03b/a2.htm"><img src="http://da.feedsportal.com/r/138509802297/u/0/f/631690/c/34519/s/20eea03b/a2.img" border="0"></a><img width="1" height="1" src="http://pi.feedsportal.com/r/138509802297/u/0/f/631690/c/34519/s/20eea03b/a2t.img" border="0"><img src="http://www1.feedsky.com/t1/657068683/aqee-net/feedsky/s.gif?r=http://aqee.feedsportal.com/c/34519/f/631690/s/20eea03b/l/0L0Saqee0Bnet0Chtml0E50Edata0Eattributes0Ehow0Eto0Euse0Ethem0Eand0Ewhy0C/story01.htm" border="0" height="0" width="0"></p>

</div>


            <div class="footer">
              <div class="contact">
                <p>
                  Your Name<br />
                  What You Are<br />
                  your@email.com
                </p>
              </div>
              <div class="contact">
                <p>
                  <a href="http://github.com/lyuehh/">github.com/lyuehh</a><br />
                  <a href="http://twitter.com/lyuehh/">twitter.com/lyuehh</a><br />
                </p>
              </div>
            </div>
          </div>
        </div> <!-- /container -->

    </body>
</html>
