<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>[Project Euler] 来做欧拉项目练习题吧: 题目004</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/google_reader/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/google_reader/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/google_reader/">Google Reader</a></h1>
              <a class="extra" href="/google_reader/">home</a>
            </div>

                <h2>[Project Euler] 来做欧拉项目练习题吧: 题目004</h2>
<p class="meta">2011-01-15 02:04</p>

<div class="post">
<h2>[Project Euler] 来做欧拉项目练习题吧: 题目004</h2>

<h3>by 周银辉</h3>

<h3>at 2011-01-14 18:04:00</h3>

<h3>original <a href="http://www.cnblogs.com/zhouyinhui/archive/2011/01/14/1935824.html">http://www.cnblogs.com/zhouyinhui/archive/2011/01/14/1935824.html</a></h3>

<p><p>                                             <strong>    [Project Euler] 来做欧拉项目练习题吧: 题目004</strong></p><p>                                                                 周银辉</p><p> </p><p> </p><p><strong>问题描述：</strong></p><div><span style="font-family:&#39;Trebuchet MS&#39;,sans-serif;line-height:normal;font-size:16px"><p>A palindromic number reads the same both ways. The largest palindrome made from the product of two 2-digit numbers is 9009 = 91 <img src="http://projecteuler.net/images/symbol_times.gif" width="9" height="9" alt="×" border="0" style="border-top-width:0px;border-right-width:0px;border-bottom-width:0px;border-left-width:0px;border-style:initial;border-color:initial;vertical-align:middle"> 99.</p></span></div><p><span style="font-family:&#39;Trebuchet MS&#39;,sans-serif;line-height:normal;font-size:16px">Find the largest palindrome made from the product of two 3-digit numbers.</span> </p><p><span style="font-family:verdana,宋体,Arial;line-height:24px;font-size:13px;color:#333333"><span style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;font-family:verdana,宋体,Arial;line-height:24px;font-size:13px;color:#333333">(先思考，如果有兴趣先编程试试，然后才看下面的内容) </span> </span> </p><p> </p><p> </p><p><strong>问题分析：</strong></p><p>求两个三位数相乘能都得到的最大回文数（回文：从前到后阅读和从后向前阅读都一样） </p><p>很简单的思路：a: 100~999  b: 100~999 ，然后对每个a*b进行判断其是否是回文数，然后在找出最大的。</p><p>先看如何判断一个数(比如9119)是否是回文数。</p><p>你可以利用itoa和strrev将其转换成字符串，然后调用字符串反转函数，最后看反转后的字符串和原字符串是否相等，但我更建议下面的方法：</p><p><div><div>int is_palindromic(int n)</div><div>{</div><div><span style="white-space:pre"> </span>int reverse   = 0;</div><div><span style="white-space:pre"> </span>int quotient  = n;</div><div><span style="white-space:pre"> </span>int remainder = 0;</div><div><span style="white-space:pre">  </span></div><div><span style="white-space:pre">    </span>while(quotient &gt; 0)</div><div><span style="white-space:pre">  </span>{</div><div><span style="white-space:pre">       </span>remainder = quotient%10;</div><div><span style="white-space:pre">        </span>quotient  = quotient/10;</div><div><span style="white-space:pre">       </span></div><div><span style="white-space:pre">        </span>reverse   = reverse*10 + remainder;<span style="white-space:pre">   </span> </div><div><span style="white-space:pre">  </span>}</div><div></div><div><span style="white-space:pre">    </span>//test</div><div><span style="white-space:pre">  </span>//printf("reversed:%d\n", reverse);</div><div><span style="white-space:pre"> </span></div><div><span style="white-space:pre">    </span>return n==reverse;</div><div>}</div><p> </p><p>然后是挨个去试乘积是否是回文数，并找出最大的：</p><p>int a, b, c, max=0;</p><p>for(a=100; a&lt;=999; a++)</p><p>{</p><p>　　for(b=100; b&lt;=999; b++)</p><p>　　{</p><p>　　　　c = a*b;</p><p>　　　　if(is_palindromic(c) &amp;&amp; c&gt;max)</p><p>　　　　{</p><p>　　　　　　max = c; </p><p>　　　　} </p><p>　　} </p><p>} </p><p>但注意到，上面的两个for循环是可以优化的：</p><p>由于，题目要求的是最大的回文数而不是求所有的，所以for循环应该从999向100递减，这样当发现当前的c值小于上一次计算出来的回文数时，就可以停止循环了，因为接下来的值会更小：</p><p>int a, b, c, max=0;</p><div><p style="margin-top:5px;margin-right:auto;margin-bottom:5px;margin-left:auto;text-indent:0px">for(a=999; a&gt;=100; a--)</p><p style="margin-top:5px;margin-right:auto;margin-bottom:5px;margin-left:auto;text-indent:0px">{</p><p style="margin-top:5px;margin-right:auto;margin-bottom:5px;margin-left:auto;text-indent:0px">　　for(b=999; b&gt;=100; b--)</p><p style="margin-top:5px;margin-right:auto;margin-bottom:5px;margin-left:auto;text-indent:0px">　　{</p><p style="margin-top:5px;margin-right:auto;margin-bottom:5px;margin-left:auto;text-indent:0px">　　　　c = a*b;</p><p>　　　　if(c&lt;max)</p><p>　　　　{</p><p>　　　　　　break;</p><p>　　　　} </p><p style="margin-top:5px;margin-right:auto;margin-bottom:5px;margin-left:auto;text-indent:0px">　　　　if(is_palindromic(c))</p><p style="margin-top:5px;margin-right:auto;margin-bottom:5px;margin-left:auto;text-indent:0px">　　　　{</p><p style="margin-top:5px;margin-right:auto;margin-bottom:5px;margin-left:auto;text-indent:0px">　　　　　　max = c; </p><p style="margin-top:5px;margin-right:auto;margin-bottom:5px;margin-left:auto;text-indent:0px">　　　　} </p><p style="margin-top:5px;margin-right:auto;margin-bottom:5px;margin-left:auto;text-indent:0px">　　} </p><p style="margin-top:5px;margin-right:auto;margin-bottom:5px;margin-left:auto;text-indent:0px">} </p></div><p>再来，由于乘法具有交换律，所以a=x, b=y 和 a=y, b=x所得乘积是一样的，那么上面的两层循环存在重复运算，最简单的例子是a=1,b=999时和a=999, b=1时，所以代码可以写成：</p><div><p style="margin-top:5px;margin-right:auto;margin-bottom:5px;margin-left:auto;text-indent:0px"><div><div>int Test()</div><div>{</div><div><span style="white-space:pre">   </span>int i, j, product;</div><div><span style="white-space:pre">  </span>int max = 0;</div><div><span style="white-space:pre">    </span>int best_i, best_j, times=0;//just for test</div><div><span style="white-space:pre"> </span></div><div><span style="white-space:pre">            </span></div><div><span style="white-space:pre">    </span>for(i=999; i&gt;100; i--)</div><div><span style="white-space:pre">   </span>{</div><div><span style="white-space:pre">       </span>for(j=999; j&gt;=i; j--)//正常写法时j&gt;100，但为减少比较次数j&gt;=i就可以了</div><div><span style="white-space:pre">     </span>{</div><div><span style="white-space:pre">           </span>times++;</div><div><span style="white-space:pre">            </span></div><div><span style="white-space:pre">            </span>product = i*j;</div><div></div><div><span style="white-space:pre">           </span>if(product&gt;max &amp;&amp; is_palindromic(product))</div><div><span style="white-space:pre">           </span>{<span style="white-space:pre">  </span></div><div><span style="white-space:pre">                </span>max = product;</div><div><span style="white-space:pre">              </span>best_i=i;</div><div><span style="white-space:pre">               </span>best_j=j;</div><div></div><div><span style="white-space:pre">                </span>break;//对于更小的j没必要比较了，因为其必定小于max</div><div><span style="white-space:pre">           </span>}</div><div><span style="white-space:pre">       </span>}</div><div><span style="white-space:pre">   </span>}</div><div></div><div><span style="white-space:pre">    </span>//test</div><div><span style="white-space:pre">  </span>printf("%d * %d, call times %d\n", best_i, best_j, times);</div><div></div><div><span style="white-space:pre">   </span>return max;</div><div>}</div></div><div></div></p></div><p><span style="font-family:verdana,宋体,Arial;line-height:24px;font-size:13px;color:#333333"><span style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;font-family:verdana,宋体,Arial;line-height:24px;font-size:13px;color:#333333"><span style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;color:red">注：</span></span></span><span style="font-family:verdana,宋体,Arial;line-height:24px;font-size:13px;color:#333333"><span style="margin-top:0px;margin-right:0px;margin-bottom:0px;margin-left:0px;padding-top:0px;padding-right:0px;padding-bottom:0px;padding-left:0px;font-family:verdana,宋体,Arial;line-height:24px;font-size:13px;color:#333333">当完成题目后，对于某些题，官方网站会给出参考答案，在我的博客里不会将官方答案贴出来，仅仅会写下我自己当时的思路，除非两者不谋而合。另外，如果你有更好的思路，请留言告诉我，我非常乐意参与到讨论中来。</span></span> </p><p> </p></div></p><img src="http://www.cnblogs.com/zhouyinhui/aggbug/1935824.html?type=1" width="1" height="1" alt=""><p>作者: <a href="http://www.cnblogs.com/zhouyinhui/">周银辉</a> 发表于 2011-01-14 18:04 <a href="http://www.cnblogs.com/zhouyinhui/archive/2011/01/14/1935824.html">原文链接</a></p><p>评论: 6　<a href="http://www.cnblogs.com/zhouyinhui/archive/2011/01/14/1935824.html#pagedcomment">查看评论</a>　<a href="http://www.cnblogs.com/zhouyinhui/archive/2011/01/14/1935824.html#commentform">发表评论</a></p><hr><p>最新新闻：<br>· <a href="http://news.cnblogs.com/n/88403/">ChevronWP7 团队将赴微软总部探讨 Windows Phone 7“解锁”</a><span style="color:gray">(2011-01-15 15:57)</span><br>· <a href="http://news.cnblogs.com/n/88402/">Ylmf OS 4.0安装及使用演示视频</a><span style="color:gray">(2011-01-15 15:53)</span><br>· <a href="http://news.cnblogs.com/n/88401/">jQuery 1.5 来了，发布第一个 Beta 版</a><span style="color:gray">(2011-01-15 13:59)</span><br>· <a href="http://news.cnblogs.com/n/88400/">Android NDK 更新，不再需要 Java</a><span style="color:gray">(2011-01-15 13:57)</span><br>· <a href="http://news.cnblogs.com/n/88399/">微软将在金球奖典礼上启用Be What's Next</a><span style="color:gray">(2011-01-15 13:56)</span><br></p><p>编辑推荐：<a href="http://www.cnblogs.com/JeffreyZhao/archive/2011/01/14/be-clear-with-language-spec-and-platform-implementation-dotnet-cross-platform.html">分清“语言/规范”以及“平台/实现”，以及跨平台.NET开发</a><br></p><p>网站导航：<a href="http://www.cnblogs.com">博客园首页</a>  <a href="http://home.cnblogs.com/">我的园子</a>  <a href="http://news.cnblogs.com">新闻</a>  <a href="http://home.cnblogs.com/ing/">闪存</a>  <a href="http://home.cnblogs.com/group/">小组</a>  <a href="http://space.cnblogs.com/q/">博问</a>  <a href="http://kb.cnblogs.com">知识库</a></p></p>


</div>


            <div class="footer">
              <div class="contact">
                <p>
                  Your Name<br />
                  What You Are<br />
                  your@email.com
                </p>
              </div>
              <div class="contact">
                <p>
                  <a href="http://github.com/lyuehh/">github.com/lyuehh</a><br />
                  <a href="http://twitter.com/lyuehh/">twitter.com/lyuehh</a><br />
                </p>
              </div>
            </div>
          </div>
        </div> <!-- /container -->

    </body>
</html>
