<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>SRT subtitle splitter，字幕分割程序，in Python</title>
        <meta name="viewport" content="width=device-width">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="/css/syntax.css">

        <!-- Custom CSS -->
        <link rel="stylesheet" href="/css/main.css">

    </head>
    <body>

        <div class="container">
          <div class="site">
            <div class="header">
              <h1 class="title"><a href="/">Your New Jekyll Site</a></h1>
              <a class="extra" href="/">home</a>
            </div>

                <h2>SRT subtitle splitter，字幕分割程序，in Python</h2>
<p class="meta">21 Feb 2011</p>

<div class="post">
<h2>SRT subtitle splitter，字幕分割程序，in Python</h2>

<h3>by 半瓶墨水</h3>

<h3>at 2011-02-20 16:46:48</h3>

<h3>original <a href="http://www.2maomao.com/blog/srt-subtitle-splitter-in-python/">http://www.2maomao.com/blog/srt-subtitle-splitter-in-python/</a></h3>

<p><a href="http://verycd.com/">Verycd</a>终于顶不住了</p>


<p>这周末整理了一下从Verycd上面拖下来的一百多G电影，发现教父1/2/3依然没有看过，想要看看才发现没字幕，射手影音也没下载到，只好到<a href="http://shooter.cn">射手网</a>上面去找，找到了几个都是一个字幕到底的；于是Google字母分割工具，一边找一边感叹下载站的没落，连国外的下载站也开始搞中国这一套欺骗点击的骗术。</p>


<p>找了半天，没找到一个可用的，有那么几个软件，用起来完全达不到自己的要求；<br>
研究了一下srt的格式，自己写了段python脚本，居然花了一个小时，不过总算搞定了，代码如下：</p>


<div style="background:#fdfdfd;color:black"><u>Python语言</u>: <a href="http://fayaa.com/code/view/16951/">SRT subtitle splitter，字幕分割程序</a></div>


<div style="font-family:Consolas,&#39;Lucida Console&#39;,&#39;Courier New&#39;;color:rgb(0,0,0);background-color:rgb(255,255,255)"> <span style="color:rgb(136,136,136)">#! /usr/bin/env python</span><br> <span style="color:rgb(136,136,136)"># -*- coding: utf-8 -*-</span>
<p> <span style="color:rgb(136,136,136)">#Author: 半瓶墨水 # 2011-02-20, 13:59:14</span><br> <span style="color:rgb(136,136,136)">#Email : realfun AT gmail DOT com</span><br> <span style="color:rgb(136,136,136)">#Usage : split srt files</span><br> <span style="color:rgb(136,136,136)">#Examples:</span><br> <span style="color:rgb(136,136,136)">#   将&quot;教父.srt&quot;分两段,起始时间向前错位29秒</span><br> <span style="color:rgb(136,136,136)">#    第一段长1小时45分48秒，依次为第二段第三段，剩下的为第四段</span><br> <span style="color:rgb(136,136,136)">#      srt.py 教父.srt offset=00:00:29 00:42:55 00:46:24 00:42:39</span><br> <span style="color:rgb(136,136,136)"># *NOTICE* Serial number is not handled</span><br> <span style="color:rgb(136,136,136)">#</span><br> <span style="color:rgb(136,136,136)">#写这段代码主要是因为，从Verycd上面下的教父没找到对应的字幕；Verycd is Gone <img src="http://www.2maomao.com/blog/wp-includes/images/smilies/icon_sad.gif" alt=":("> </span></p>
<p> <span style="color:rgb(0,0,0)">import</span> <span style="color:rgb(187,0,102);font-weight:bold">sys</span><span style="color:rgb(0,0,0)">,</span> <span style="color:rgb(187,0,102);font-weight:bold">os</span></p>
<p> <span style="color:rgb(0,136,0);font-weight:bold">def</span> <span style="color:rgb(0,102,187);font-weight:bold">srttime2int</span>(<span style="color:rgb(0,0,0)">st</span><span style="color:rgb(0,0,0)">):</span><br>   <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;&quot;”</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &gt;&gt;&gt; srttime2int(&quot;-00:01:19&quot;)</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  -79000</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &gt;&gt;&gt; srttime2int(&quot;00:01:19&quot;)</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  79000</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &gt;&gt;&gt; srttime2int(&quot;10:21:29&quot;)</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  37289000</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &gt;&gt;&gt; srttime2int(&quot;00:01:19,601&quot;)</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  79601</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &gt;&gt;&gt; srttime2int(&quot;10:21:29,601&quot;)</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  37289601</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &quot;&quot;”</span><br>   <span style="color:rgb(0,0,0)">flag</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,51,136)">False</span><br>   <span style="color:rgb(0,136,0);font-weight:bold">if</span> <span style="color:rgb(0,0,0)">st</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">0</span><span style="color:rgb(0,0,0)">]</span> <span style="color:rgb(0,0,0)">==</span> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&#39;-&#39;</span><span style="color:rgb(0,0,0)">:</span><br>     <span style="color:rgb(0,0,0)">flag</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,51,136)">True</span><br>     <span style="color:rgb(0,0,0)">st</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">st</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">1</span><span style="color:rgb(0,0,0)">:]</span><br>   <span style="color:rgb(0,0,0)">value</span> <span style="color:rgb(0,0,0)">=</span> ((<span style="color:rgb(0,51,136)">int</span>(<span style="color:rgb(0,0,0)">st</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">0</span><span style="color:rgb(0,0,0)">:</span><span style="color:rgb(0,0,221);font-weight:bold">2</span><span style="color:rgb(0,0,0)">])</span><span style="color:rgb(0,0,0)">*</span><span style="color:rgb(0,0,221);font-weight:bold">60</span><span style="color:rgb(0,0,0)">+</span><span style="color:rgb(0,51,136)">int</span>(<span style="color:rgb(0,0,0)">st</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">3</span><span style="color:rgb(0,0,0)">:</span><span style="color:rgb(0,0,221);font-weight:bold">5</span><span style="color:rgb(0,0,0)">]))</span><span style="color:rgb(0,0,0)">*</span><span style="color:rgb(0,0,221);font-weight:bold">60</span><span style="color:rgb(0,0,0)">+</span>(<span style="color:rgb(0,51,136)">int</span>(<span style="color:rgb(0,0,0)">st</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">6</span><span style="color:rgb(0,0,0)">:</span><span style="color:rgb(0,0,221);font-weight:bold">8</span><span style="color:rgb(0,0,0)">])))</span><span style="color:rgb(0,0,0)">*</span><span style="color:rgb(0,0,221);font-weight:bold">1000</span><span style="color:rgb(0,0,0)">+</span><span style="color:rgb(0,51,136)">int</span>(<span style="color:rgb(0,0,0)">st</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">9</span><span style="color:rgb(0,0,0)">:</span><span style="color:rgb(0,0,221);font-weight:bold">12</span><span style="color:rgb(0,0,0)">]</span> <span style="color:rgb(0,136,0)">or</span> <span style="color:rgb(0,0,221);font-weight:bold">0</span>)<br>   <span style="color:rgb(0,136,0);font-weight:bold">return</span> <span style="color:rgb(0,0,0)">flag</span> <span style="color:rgb(0,136,0)">and</span> <span style="color:rgb(0,0,0)">-</span><span style="color:rgb(0,0,0)">value</span> <span style="color:rgb(0,136,0)">or</span> <span style="color:rgb(0,0,0)">value</span></p>
<p> <span style="color:rgb(0,136,0);font-weight:bold">def</span> <span style="color:rgb(0,102,187);font-weight:bold">int2srttime</span>(<span style="color:rgb(0,0,0)">i</span><span style="color:rgb(0,0,0)">):</span><br>   <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;&quot;”</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &gt;&gt;&gt; int2srttime(-79601)</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &#39;-00:01:19,601&#39;</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &gt;&gt;&gt; int2srttime(79601)</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &#39;00:01:19,601&#39;</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &gt;&gt;&gt; int2srttime(37289601)</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &#39;10:21:29,601&#39;</span><br> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">  &quot;&quot;”</span><br>   <span style="color:rgb(0,0,0)">flag</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,51,136)">False</span><br>   <span style="color:rgb(0,136,0);font-weight:bold">if</span> <span style="color:rgb(0,0,0)">i</span><span style="color:rgb(0,0,0)">&lt;</span><span style="color:rgb(0,0,221);font-weight:bold">0</span><span style="color:rgb(0,0,0)">:</span><br>     <span style="color:rgb(0,0,0)">i</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">-</span><span style="color:rgb(0,0,0)">i</span><br>     <span style="color:rgb(0,0,0)">flag</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,51,136)">True</span><br>   <span style="color:rgb(0,0,0)">srttime</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;</span><span style="color:rgb(51,51,187);background-color:rgb(255,240,240)">%02d</span><span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">:</span><span style="color:rgb(51,51,187);background-color:rgb(255,240,240)">%02d</span><span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">:</span><span style="color:rgb(51,51,187);background-color:rgb(255,240,240)">%02d</span><span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">,</span><span style="color:rgb(51,51,187);background-color:rgb(255,240,240)">%03d</span><span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;</span> <span style="color:rgb(0,0,0)">%</span> (<span style="color:rgb(0,0,0)">i</span><span style="color:rgb(0,0,0)">/</span><span style="color:rgb(0,0,221);font-weight:bold">3600000</span><span style="color:rgb(0,0,0)">,</span> <span style="color:rgb(0,0,0)">i</span><span style="color:rgb(0,0,0)">%</span><span style="color:rgb(0,0,221);font-weight:bold">3600000</span><span style="color:rgb(0,0,0)">/</span><span style="color:rgb(0,0,221);font-weight:bold">60000</span><span style="color:rgb(0,0,0)">,</span> <span style="color:rgb(0,0,0)">i</span><span style="color:rgb(0,0,0)">%</span><span style="color:rgb(0,0,221);font-weight:bold">60000</span><span style="color:rgb(0,0,0)">/</span><span style="color:rgb(0,0,221);font-weight:bold">1000</span><span style="color:rgb(0,0,0)">,</span> <span style="color:rgb(0,0,0)">i</span><span style="color:rgb(0,0,0)">%</span><span style="color:rgb(0,0,221);font-weight:bold">1000</span>)<br>   <span style="color:rgb(0,136,0);font-weight:bold">return</span> <span style="color:rgb(0,0,0)">flag</span> <span style="color:rgb(0,136,0)">and</span> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&#39;-&#39;</span> <span style="color:rgb(0,0,0)">+</span> <span style="color:rgb(0,0,0)">srttime</span> <span style="color:rgb(0,136,0)">or</span> <span style="color:rgb(0,0,0)">srttime</span></p>
<p> <span style="color:rgb(0,136,0);font-weight:bold">def</span> <span style="color:rgb(0,102,187);font-weight:bold">srt_split</span><span style="color:rgb(0,0,0)">():</span><br>   <span style="color:rgb(0,136,0);font-weight:bold">if</span> <span style="color:rgb(0,51,136)">len</span>(<span style="color:rgb(0,0,0)">sys</span><span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">argv</span>) <span style="color:rgb(0,0,0)">&lt;</span> <span style="color:rgb(0,0,221);font-weight:bold">3</span><span style="color:rgb(0,0,0)">:</span><br>     <span style="color:rgb(0,136,0);font-weight:bold">print</span> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;</span><span style="color:rgb(0,68,221);background-color:rgb(255,240,240)">\n\n\t</span><span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">please read source code for usage</span><span style="color:rgb(0,68,221);background-color:rgb(255,240,240)">\n\n</span><span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;</span><br>     <span style="color:rgb(0,0,0)">sys</span><span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">exit</span>(<span style="color:rgb(0,0,221);font-weight:bold">0</span>)</p>
<p>   <span style="color:rgb(0,0,0)">filename</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">sys</span><span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">argv</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">1</span><span style="color:rgb(0,0,0)">]</span><br>   <span style="color:rgb(0,0,0)">splits</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">sys</span><span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">argv</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">2</span><span style="color:rgb(0,0,0)">:]</span><br>   <span style="color:rgb(0,0,0)">offset</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,221);font-weight:bold">0</span><br>   <span style="color:rgb(0,136,0);font-weight:bold">if</span> <span style="color:rgb(0,0,0)">splits</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">0</span><span style="color:rgb(0,0,0)">]</span><span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">startswith</span>(<span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;offset=&quot;</span><span style="color:rgb(0,0,0)">):</span><br>     <span style="color:rgb(0,0,0)">offset</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">srttime2int</span>(<span style="color:rgb(0,0,0)">splits</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">0</span><span style="color:rgb(0,0,0)">][</span><span style="color:rgb(0,51,136)">len</span>(<span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;offset=&quot;</span><span style="color:rgb(0,0,0)">):])</span><br>     <span style="color:rgb(0,0,0)">splits</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">splits</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">1</span><span style="color:rgb(0,0,0)">:]</span><br>   <span style="color:rgb(0,0,0)">splits</span><span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">append</span>(<span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;24:00:00&quot;</span>) <span style="color:rgb(136,136,136)">#assume no more than 24 hours <img src="http://www.2maomao.com/blog/wp-includes/images/smilies/icon_smile.gif" alt=":)"> </span><br>   <span style="color:rgb(0,0,0)">splits</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,0)">srttime2int</span>(s) <span style="color:rgb(0,136,0);font-weight:bold">for</span> s <span style="color:rgb(0,136,0)">in</span> <span style="color:rgb(0,0,0)">splits</span><span style="color:rgb(0,0,0)">]</span></p>
<p>   <span style="color:rgb(0,0,0)">lines</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,51,136)">open</span>(<span style="color:rgb(0,0,0)">filename</span><span style="color:rgb(0,0,0)">,</span> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;rb&quot;</span>)<span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">read</span>()<span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">splitlines</span>()<br>   <span style="color:rgb(0,0,0)">f</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,51,136)">open</span>(<span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;001.srt&quot;</span><span style="color:rgb(0,0,0)">,</span> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;wb&quot;</span>)<br>   <span style="color:rgb(0,0,0)">newlines</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">[]</span><br>   <span style="color:rgb(0,0,0)">count</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,221);font-weight:bold">0</span><br>   <span style="color:rgb(0,0,0)">limit</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">splits</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">0</span><span style="color:rgb(0,0,0)">]</span> <span style="color:rgb(0,0,0)">+</span> <span style="color:rgb(0,0,0)">offset</span><br>   <span style="color:rgb(0,136,0);font-weight:bold">for</span> <span style="color:rgb(0,0,0)">line</span> <span style="color:rgb(0,136,0)">in</span> <span style="color:rgb(0,0,0)">lines</span><span style="color:rgb(0,0,0)">:</span><br>     <span style="color:rgb(136,136,136)">#00:01:16,564 –&gt; 00:01:18,532</span><br>     <span style="color:rgb(0,136,0);font-weight:bold">if</span> <span style="color:rgb(0,51,136)">len</span>(<span style="color:rgb(0,0,0)">line</span>)<span style="color:rgb(0,0,0)">&gt;=</span><span style="color:rgb(0,0,221);font-weight:bold">29</span> <span style="color:rgb(0,136,0)">and</span> <span style="color:rgb(0,0,0)">line</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">13</span><span style="color:rgb(0,0,0)">:</span><span style="color:rgb(0,0,221);font-weight:bold">16</span><span style="color:rgb(0,0,0)">]</span> <span style="color:rgb(0,0,0)">==</span> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;–&gt;&quot;</span><span style="color:rgb(0,0,0)">:</span><br>       <span style="color:rgb(0,0,0)">start</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">srttime2int</span>(<span style="color:rgb(0,0,0)">line</span><span style="color:rgb(0,0,0)">[:</span><span style="color:rgb(0,0,221);font-weight:bold">12</span><span style="color:rgb(0,0,0)">])</span><br>       <span style="color:rgb(0,0,0)">end</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">srttime2int</span>(<span style="color:rgb(0,0,0)">line</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,221);font-weight:bold">17</span><span style="color:rgb(0,0,0)">:])</span><br>       <span style="color:rgb(0,136,0);font-weight:bold">if</span> <span style="color:rgb(0,0,0)">start</span> <span style="color:rgb(0,0,0)">&gt;</span> <span style="color:rgb(0,0,0)">limit</span><span style="color:rgb(0,0,0)">:</span><br>         <span style="color:rgb(0,0,0)">f</span><span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">writelines</span>(<span style="color:rgb(0,0,0)">newlines</span>)<br>         <span style="color:rgb(0,0,0)">f</span><span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">close</span>()<br>         <span style="color:rgb(0,0,0)">newlines</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">[]</span><br>         <span style="color:rgb(0,0,0)">offset</span> <span style="color:rgb(0,0,0)">+=</span> <span style="color:rgb(0,0,0)">splits</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,0)">count</span><span style="color:rgb(0,0,0)">]</span><br>         <span style="color:rgb(0,0,0)">count</span> <span style="color:rgb(0,0,0)">+=</span> <span style="color:rgb(0,0,221);font-weight:bold">1</span><br>         <span style="color:rgb(0,0,0)">limit</span> <span style="color:rgb(0,0,0)">+=</span> <span style="color:rgb(0,0,0)">splits</span><span style="color:rgb(0,0,0)">[</span><span style="color:rgb(0,0,0)">count</span><span style="color:rgb(0,0,0)">]</span><br>         <span style="color:rgb(0,0,0)">f</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,51,136)">open</span>(<span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;</span><span style="color:rgb(51,51,187);background-color:rgb(255,240,240)">%03d</span><span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">.srt&quot;</span> <span style="color:rgb(0,0,0)">%</span> (<span style="color:rgb(0,0,0)">count</span><span style="color:rgb(0,0,0)">+</span><span style="color:rgb(0,0,221);font-weight:bold">1</span><span style="color:rgb(0,0,0)">),</span> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;wb&quot;</span>)<br>       <span style="color:rgb(0,0,0)">line</span> <span style="color:rgb(0,0,0)">=</span> <span style="color:rgb(0,0,0)">int2srttime</span>(<span style="color:rgb(0,0,0)">start</span> <span style="color:rgb(0,0,0)">-</span> <span style="color:rgb(0,0,0)">offset</span>) <span style="color:rgb(0,0,0)">+</span> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot; –&gt; &quot;</span> <span style="color:rgb(0,0,0)">+</span> <span style="color:rgb(0,0,0)">int2srttime</span>(<span style="color:rgb(0,0,0)">end</span> <span style="color:rgb(0,0,0)">-</span> <span style="color:rgb(0,0,0)">offset</span>)<br>     <span style="color:rgb(0,0,0)">newlines</span><span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">append</span>(<span style="color:rgb(0,0,0)">line</span> <span style="color:rgb(0,0,0)">+</span> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;</span><span style="color:rgb(0,68,221);background-color:rgb(255,240,240)">\r\n</span><span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;</span>)<br>   <span style="color:rgb(0,0,0)">f</span><span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">writelines</span>(<span style="color:rgb(0,0,0)">newlines</span>)<br>   <span style="color:rgb(0,0,0)">f</span><span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">close</span>()</p>
<p> <span style="color:rgb(0,136,0);font-weight:bold">if</span> <span style="color:rgb(0,0,0)">__name__</span> <span style="color:rgb(0,0,0)">==</span> <span style="color:rgb(221,34,0);background-color:rgb(255,240,240)">&quot;__main__&quot;</span><span style="color:rgb(0,0,0)">:</span><br>     <span style="color:rgb(0,0,0)">import</span> <span style="color:rgb(187,0,102);font-weight:bold">doctest</span><br>     <span style="color:rgb(0,0,0)">doctest</span><span style="color:rgb(0,0,0)">.</span><span style="color:rgb(0,0,0)">testmod</span>()<br>     <span style="color:rgb(0,0,0)">srt_split</span>()</p></div>


<p><a href="http://www.addtoany.com/share_save?linkurl=http%3A%2F%2Fwww.2maomao.com%2Fblog%2Fsrt-subtitle-splitter-in-python%2F&amp;linkname=SRT%20subtitle%20splitter%EF%BC%8C%E5%AD%97%E5%B9%95%E5%88%86%E5%89%B2%E7%A8%8B%E5%BA%8F%EF%BC%8Cin%20Python"><img src="http://www.2maomao.com/blog/wp-content/plugins/add-to-any/share_save_171_16.png" width="171" height="16" alt="Share/Bookmark"></a><img src="http://www1.feedsky.com/t1/575245324/2maomao/feedsky/s.gif?r=http://www.2maomao.com/blog/srt-subtitle-splitter-in-python/" border="0" height="0" width="0"></p>

</div>


            <div class="footer">
              <div class="contact">
                <p>
                  Your Name<br />
                  What You Are<br />
                  your@email.com
                </p>
              </div>
              <div class="contact">
                <p>
                  <a href="http://github.com/yourusername/">github.com/yourusername</a><br />
                  <a href="http://twitter.com/yourusername/">twitter.com/yourusername</a><br />
                </p>
              </div>
            </div>
          </div>
        </div> <!-- /container -->

    </body>
</html>
